import{r as s,j as l}from"./iframe-CbZ9RuD1.js";import{i as Le}from"./table-fixtures-VRmzXp_h.js";import{K as be}from"./KeyValueWrapper-p5ZbVku4.js";import{H as Ke}from"./Heading-BBK5GD02.js";import{I as Me}from"./InfoField-BfxqvlKm.js";import{W as We}from"./WarningField-D_GotWnc.js";import{L as Ue}from"./LoadingSpinner-DNn-SVom.js";import{K as ye}from"./index.esm-Bh9o6rCW.js";import{L as xe}from"./link-CLCsOSg8.js";import{F as $e}from"./Field-CSa0GJHY.js";import{a as Pe}from"./text-formatters-hhISWS8n.js";import{w as y,aL as $,aM as Fe,aN as Be,aO as C,aP as Ve,aQ as Ge,aR as Ae,aS as ze,aT as He,a2 as k,aU as Ze,aV as qe,aW as Xe,aX as Je,z as je,aY as Qe,aZ as Ye,a_ as ea,a$ as aa,b0 as Ee,b1 as ta,b2 as ra,b3 as na,X as Oe,x as ia,r as Q,s as Se,U as sa,b4 as la,D as Ie,a0 as we,u as W,b5 as oa,L,Z as ke,a1 as Y,Y as ca,aa as ua,ab as da,h as ma,ac as ne,d as ie,m as z,b6 as pa,a6 as fa,af as va,b7 as ga,a7 as ha,a8 as ba,a9 as ya,b8 as xa,b9 as Pa,k as Aa,S as ja,ad as Ea,ba as Oa,g as U,bb as X,j as se,bc as Sa,l as Ia,T as wa,ah as ka,bd as Na,az as Ta,aA as Ra,aB as Da,aC as Ca,aD as _a,aE as La,aF as Ka,aG as Ma,aI as Wa,aK as le,aJ as Ua}from"./chart-colors-DTxB7Clu.js";import{z as $a}from"./index-CY5-pjTU.js";import{a as ee}from"./utils-DsKtx5Xo.js";import"./preload-helper-Dp1pzeXC.js";import"./rucio-BBdC5vD1.js";import"./index-DSpI4bVK.js";import"./list-toasts-CqaY5F_J.js";import"./useToast-YXabfrDf.js";import"./iconBase-BDSQWw1B.js";import"./index-BVAf5DAB.js";import"./index-CitRXwj5.js";import"./index-COXxs0hY.js";import"./CircleWithText-V1QaHt8L.js";import"./colors-D788UJep.js";import"./tw-merge-Ds6tgvmq.js";var Ne=e=>e.graphicalItems.polarItems,Fa=y([$,Fe],Be),H=y([Ne,C,Fa],Ve),Ba=y([H],Ge),Z=y([Ba,Ae],ze),Va=y([Z,C,H],He);y([Z,C,H],(e,a,t)=>t.length>0?e.flatMap(r=>t.flatMap(n=>{var i,o=k(r,(i=a.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(a==null?void 0:a.dataKey)!=null?e.map(r=>({value:k(r,a.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var oe=()=>{},Ga=y([Z,C,H,Ze,$],qe),za=y([C,Xe,Je,oe,Ga,oe,je,$],Qe),Te=y([C,je,Z,Va,Ye,$,za],ea),Ha=y([Te,aa,Ee],ta),Za=y([C,Te,Ha,$],ra);y([Ee,Za],na);function ce(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function ue(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?ce(Object(t),!0).forEach(function(r){qa(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ce(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function qa(e,a,t){return(a=Xa(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function Xa(e){var a=Ja(e,"string");return typeof a=="symbol"?a:a+""}function Ja(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Qa=(e,a)=>a,ae=y([Ne,Qa],(e,a)=>e.filter(t=>t.type==="pie").find(t=>t.id===a)),Ya=[],te=(e,a,t)=>(t==null?void 0:t.length)===0?Ya:t,Re=y([Ae,ae,te],(e,a,t)=>{var{chartData:r}=e;if(a!=null){var n;if((a==null?void 0:a.data)!=null&&a.data.length>0?n=a.data:n=r,(!n||!n.length)&&t!=null&&(n=t.map(i=>ue(ue({},a.presentationProps),i.props))),n!=null)return n}}),et=y([Re,ae,te],(e,a,t)=>{if(!(e==null||a==null))return e.map((r,n)=>{var i,o=k(r,a.nameKey,a.name),c;return t!=null&&(i=t[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=t[n].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=a.fill,{value:Oe(o,a.dataKey),color:c,payload:r,type:a.legendType}})}),at=y([Re,ae,te,ia],(e,a,t,r)=>{if(!(a==null||e==null))return Pt({offset:r,pieSettings:a,displayedData:e,cells:t})}),tt=["key"],rt=["onMouseEnter","onClick","onMouseLeave"],nt=["id"],it=["id"];function de(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function v(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?de(Object(t),!0).forEach(function(r){st(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):de(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function st(e,a,t){return(a=lt(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function lt(e){var a=ot(e,"string");return typeof a=="symbol"?a:a+""}function ot(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},N.apply(null,arguments)}function q(e,a){if(e==null)return{};var t,r,n=ct(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function ct(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function ut(e){var a=s.useMemo(()=>we(e.children,Y),[e.children]),t=W(r=>et(r,e.id,a));return t==null?null:s.createElement(oa,{legendPayload:t})}var dt=s.memo(e=>{var{dataKey:a,nameKey:t,sectors:r,stroke:n,strokeWidth:i,fill:o,name:c,hide:f,tooltipType:m,id:g}=e,d={dataDefinedOnItem:r.map(u=>u.tooltipPayload),getPosition:u=>{var h;return(h=r[Number(u)])===null||h===void 0?void 0:h.tooltipPosition},settings:{stroke:n,strokeWidth:i,fill:o,dataKey:a,nameKey:t,name:Oe(c,a),hide:f,type:m,color:o,unit:"",graphicalItemId:g}};return s.createElement(ca,{tooltipEntrySettings:d})}),mt=(e,a)=>e>a?"start":e<a?"end":"middle",pt=(e,a,t)=>typeof a=="function"?U(a(e),t,t*.8):U(a,t,t*.8),ft=(e,a,t)=>{var{top:r,left:n,width:i,height:o}=a,c=Oa(i,o),f=n+U(e.cx,i,i/2),m=r+U(e.cy,o,o/2),g=U(e.innerRadius,c,0),d=pt(t,e.outerRadius,c),u=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:f,cy:m,innerRadius:g,outerRadius:d,maxRadius:u}},vt=(e,a)=>{var t=z(a-e),r=Math.min(Math.abs(a-e),360);return t*r},gt=(e,a)=>{if(s.isValidElement(e))return s.cloneElement(e,a);if(typeof e=="function")return e(a);var t=ee("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=a,n=q(a,tt);return s.createElement(Sa,N({},n,{type:"linear",className:t}))},ht=(e,a,t)=>{if(s.isValidElement(e))return s.cloneElement(e,a);var r=t;if(typeof e=="function"&&(r=e(a),s.isValidElement(r)))return r;var n=ee("recharts-pie-label-text",Ia(e));return s.createElement(wa,N({},a,{alignmentBaseline:"middle",className:n}),r)};function bt(e){var{sectors:a,props:t,showLabels:r}=e,{label:n,labelLine:i,dataKey:o}=t;if(!r||!n||!a)return null;var c=Se(t),f=se(n),m=se(i),g=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,d=a.map((u,h)=>{var E=(u.startAngle+u.endAngle)/2,A=X(u.cx,u.cy,u.outerRadius+g,E),O=v(v(v(v({},c),u),{},{stroke:"none"},f),{},{index:h,textAnchor:mt(A.x,u.cx)},A),p=v(v(v(v({},c),u),{},{fill:"none",stroke:u.fill},m),{},{index:h,points:[X(u.cx,u.cy,u.outerRadius,E),A],key:"line"});return s.createElement(ke,{zIndex:Ie.label,key:"label-".concat(u.startAngle,"-").concat(u.endAngle,"-").concat(u.midAngle,"-").concat(h)},s.createElement(L,null,i&&gt(i,p),ht(n,O,k(u,o))))});return s.createElement(L,{className:"recharts-pie-labels"},d)}function yt(e){var{sectors:a,props:t,showLabels:r}=e,{label:n}=t;return typeof n=="object"&&n!=null&&"position"in n?s.createElement(Ea,{label:n}):s.createElement(bt,{sectors:a,props:t,showLabels:r})}function xt(e){var{sectors:a,activeShape:t,inactiveShape:r,allOtherPieProps:n,shape:i,id:o}=e,c=W(fa),f=W(va),m=W(ga),{onMouseEnter:g,onClick:d,onMouseLeave:u}=n,h=q(n,rt),E=ha(g,n.dataKey,o),A=ba(u),O=ya(d,n.dataKey,o);return a==null||a.length===0?null:s.createElement(s.Fragment,null,a.map((p,j)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&a.length!==1)return null;var T=m==null||m===o,I=String(j)===c&&(f==null||n.dataKey===f)&&T,S=c?r:null,P=t&&I?t:S,x=v(v({},p),{},{stroke:p.stroke,tabIndex:-1,[Pa]:j,[xa]:o});return s.createElement(L,N({key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(j),tabIndex:-1,className:"recharts-pie-sector"},Aa(h,p,j),{onMouseEnter:E(p,j),onMouseLeave:A(p,j),onClick:O(p,j)}),s.createElement(ja,N({option:i??P,index:j,shapeType:"sector",isActive:I},x)))}))}function Pt(e){var a,{pieSettings:t,displayedData:r,cells:n,offset:i}=e,{cornerRadius:o,startAngle:c,endAngle:f,dataKey:m,nameKey:g,tooltipType:d}=t,u=Math.abs(t.minAngle),h=vt(c,f),E=Math.abs(h),A=r.length<=1?0:(a=t.paddingAngle)!==null&&a!==void 0?a:0,O=r.filter(P=>k(P,m,0)!==0).length,p=(E>=360?O:O-1)*A,j=E-O*u-p,T=r.reduce((P,x)=>{var b=k(x,m,0);return P+(ie(b)?b:0)},0),I;if(T>0){var S;I=r.map((P,x)=>{var b=k(P,m,0),K=k(P,g,x),w=ft(t,i,P),R=(ie(b)?b:0)/T,D,_=v(v({},P),n&&n[x]&&n[x].props);x?D=S.endAngle+z(h)*A*(b!==0?1:0):D=c;var F=D+z(h)*((b!==0?u:0)+R*j),B=(D+F)/2,V=(w.innerRadius+w.outerRadius)/2,G=[{name:K,value:b,payload:_,dataKey:m,type:d,graphicalItemId:t.id}],_e=X(w.cx,w.cy,V,B);return S=v(v(v(v({},t.presentationProps),{},{percent:R,cornerRadius:typeof o=="string"?parseFloat(o):o,name:K,tooltipPayload:G,midAngle:B,middleRadius:V,tooltipPosition:_e},_),w),{},{value:b,dataKey:m,startAngle:D,endAngle:F,payload:_,paddingAngle:z(h)*A}),S})}return I}function At(e){var{showLabels:a,sectors:t,children:r}=e,n=s.useMemo(()=>!a||!t?[]:t.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[t,a]);return s.createElement(pa,{value:a?n:void 0},r)}function jt(e){var{props:a,previousSectorsRef:t,id:r}=e,{sectors:n,isAnimationActive:i,animationBegin:o,animationDuration:c,animationEasing:f,activeShape:m,inactiveShape:g,onAnimationStart:d,onAnimationEnd:u}=a,h=ua(a,"recharts-pie-"),E=t.current,[A,O]=s.useState(!1),p=s.useCallback(()=>{typeof u=="function"&&u(),O(!1)},[u]),j=s.useCallback(()=>{typeof d=="function"&&d(),O(!0)},[d]);return s.createElement(At,{showLabels:!A,sectors:n},s.createElement(da,{animationId:h,begin:o,duration:c,isActive:i,easing:f,onAnimationStart:j,onAnimationEnd:p,key:h},T=>{var I,S=[],P=n&&n[0],x=(I=P==null?void 0:P.startAngle)!==null&&I!==void 0?I:0;return n==null||n.forEach((b,K)=>{var w=E&&E[K],R=K>0?ma(b,"paddingAngle",0):0;if(w){var D=ne(w.endAngle-w.startAngle,b.endAngle-b.startAngle,T),_=v(v({},b),{},{startAngle:x+R,endAngle:x+D+R});S.push(_),x=_.endAngle}else{var{endAngle:F,startAngle:B}=b,V=ne(0,F-B,T),G=v(v({},b),{},{startAngle:x+R,endAngle:x+V+R});S.push(G),x=G.endAngle}}),t.current=S,s.createElement(L,null,s.createElement(xt,{sectors:S,activeShape:m,inactiveShape:g,allOtherPieProps:a,shape:a.shape,id:r}))}),s.createElement(yt,{showLabels:!A,sectors:n,props:a}),a.children)}var Et={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ie.area};function Ot(e){var{id:a}=e,t=q(e,nt),{hide:r,className:n,rootTabIndex:i}=e,o=s.useMemo(()=>we(e.children,Y),[e.children]),c=W(g=>at(g,a,o)),f=s.useRef(null),m=ee("recharts-pie",n);return r||c==null?(f.current=null,s.createElement(L,{tabIndex:i,className:m})):s.createElement(ke,{zIndex:e.zIndex},s.createElement(dt,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:a}),s.createElement(L,{tabIndex:i,className:m},s.createElement(jt,{props:v(v({},t),{},{sectors:c}),previousSectorsRef:f,id:a})))}function De(e){var a=Q(e,Et),{id:t}=a,r=q(a,it),n=Se(r);return s.createElement(sa,{id:t,type:"pie"},i=>s.createElement(s.Fragment,null,s.createElement(la,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:n,maxRadius:a.maxRadius}),s.createElement(ut,N({},r,{id:i})),s.createElement(Ot,N({},r,{id:i}))))}De.displayName="Pie";function St(e){var a=ka();return s.useEffect(()=>{a(Na(e))},[a,e]),null}var It=["layout"];function J(){return J=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},J.apply(null,arguments)}function wt(e,a){if(e==null)return{};var t,r,n=kt(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function kt(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}var Nt={top:5,right:5,bottom:5,left:5},Ce={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Nt,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Tt=s.forwardRef(function(a,t){var r,n=Q(a.categoricalChartProps,Ce),{layout:i}=n,o=wt(n,It),{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g}=a,d={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,eventEmitter:void 0};return s.createElement(Ta,{preloadedState:{options:d},reduxStoreName:(r=n.id)!==null&&r!==void 0?r:c},s.createElement(Ra,{chartData:n.data}),s.createElement(Da,{layout:i,margin:n.margin}),s.createElement(Ca,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),s.createElement(St,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),s.createElement(_a,J({},o,{ref:t})))});function me(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function pe(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?me(Object(t),!0).forEach(function(r){Rt(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):me(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Rt(e,a,t){return(a=Dt(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function Dt(e){var a=Ct(e,"string");return typeof a=="symbol"?a:a+""}function Ct(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var _t=["item"],Lt=pe(pe({},Ce),{},{layout:"centric",startAngle:0,endAngle:360}),Kt=s.forwardRef((e,a)=>{var t=Q(e,Lt);return s.createElement(Tt,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:_t,tooltipPayloadSearcher:La,categoricalChartProps:t,ref:a})});const Mt=({active:e,payload:a,totalBytes:t})=>{if(e&&a&&a.length){const{name:r,value:n}=a[0],i=t===-1?void 0:(n/t*100).toFixed(2);return l.jsxs(be,{className:"p-3 text-neutral-900 dark:text-neutral-100",children:[l.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:r}),l.jsxs("p",{children:[Pe(n)," ",i&&`(${i}%)`]})]})}return null},fe=275,Wt=({usage:e})=>{const{resolvedTheme:a}=$a(),t=a==="dark",r=[le.warning,le.success],n=Ma(t),{rse:i,used_bytes:o,bytes_limit:c}=e,f=c-o,m=c===-1&&o===0,g=[{name:"Used",value:o},{name:"Remaining",value:f>0?f:0}];return l.jsxs("div",{className:"flex flex-col justify-center h-fit w-full mx-3 my-5 overflow-hidden",children:[l.jsxs(xe,{href:`/rse/list?expression=${i}&autoSearch=true`,className:"flex space-x-2 justify-center items-center text-neutral-900 dark:text-neutral-100 hover:text-brand-500 dark:hover:text-brand-500 font-medium",children:[l.jsx(ye,{className:"flex-shrink-0"}),l.jsx("span",{className:"truncate",children:i})]}),m&&l.jsx("div",{className:"flex justify-center items-center text-neutral-900 dark:text-neutral-100",style:{height:fe},children:"No usage"}),!m&&l.jsx(Wa,{height:fe,children:l.jsxs(Kt,{children:[l.jsx(De,{data:g,dataKey:"value",nameKey:"name",stroke:n,children:g.map((d,u)=>l.jsx(Y,{fill:r[u%r.length],className:"outline-none"},`cell-${u}`))}),l.jsx(Ua,{content:l.jsx(Mt,{totalBytes:c})})]})}),l.jsx("div",{className:"w-full flex flex-col items-center space-y-3",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:"Quota"}),l.jsx($e,{children:c===-1?"Infinity":Pe(c)})]})})]})},Ut=[{label:"Used",color:"bg-base-warning-500"},{label:"Remaining",color:"bg-base-success-500"}],re=({usages:e,isLoading:a,errorMessage:t})=>{const r=(e==null?void 0:e.filter(d=>d.used_bytes>0||d.bytes_limit!==-1&&d.bytes_limit>0))||[],n=(e==null?void 0:e.filter(d=>d.used_bytes===0&&d.bytes_limit===-1))||[],i=r.sort((d,u)=>u.used_bytes-d.used_bytes).slice(0,10),o=i.length>0,c=n.length>0,f=!o&&!c&&!t&&!a,m=()=>l.jsx("div",{className:"flex flex-wrap justify-center gap-4 w-full h-full",children:i.map(d=>l.jsx("div",{className:"flex justify-center items-center flex-1 min-w-[300px]",children:l.jsx(Wt,{usage:d})},d.rse_id))}),g=()=>n.length===0?null:l.jsx("div",{className:"w-full p-4 pb-6 mb-4 border-b border-neutral-200 dark:border-neutral-700",children:l.jsxs("div",{className:"border border-neutral-200 dark:border-neutral-700 rounded-lg p-5 dark:bg-neutral-800/50",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-neutral-400 dark:bg-neutral-500"}),l.jsx("p",{className:"text-sm font-semibold text-neutral-700 dark:text-neutral-300 uppercase tracking-wide",children:"Available RSEs"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(d=>l.jsxs(xe,{href:`/rse/list?expression=${d.rse}&autoSearch=true`,className:"inline-flex items-center space-x-1.5 px-3 py-2 bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg hover:border-brand-500 dark:hover:border-brand-500 hover:shadow-sm transition-all text-neutral-900 dark:text-neutral-100 group",children:[l.jsx(ye,{className:"text-sm flex-shrink-0 text-neutral-400 dark:text-neutral-500 group-hover:text-brand-500"}),l.jsx("span",{className:"text-sm font-medium",children:d.rse})]},d.rse_id))})]})});return l.jsxs(be,{className:"w-full p-5 overflow-x-auto space-y-2",children:[l.jsx(Ke,{text:"RSE Usage",size:"md"}),o&&l.jsx(Ka,{legendOptions:Ut}),l.jsxs("div",{className:"flex flex-col min-w-[700px] items-center justify-center",children:[f&&l.jsx("div",{className:"h-[740px] flex items-center justify-center",children:l.jsx(Me,{children:l.jsx("span",{children:"No RSEs configured"})})}),t&&l.jsx("div",{className:"h-[740px] flex items-center justify-center",children:l.jsx(We,{children:l.jsx("span",{children:t})})}),a&&l.jsx("div",{className:"h-[740px] flex items-center justify-center",children:l.jsx(Ue,{})}),!a&&!t&&l.jsxs(l.Fragment,{children:[c&&g(),o?l.jsx("div",{className:"flex items-center justify-center w-full py-4",children:m()}):c&&l.jsx("div",{className:"py-8 flex items-center justify-center w-full",children:l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"No storage usage data available"}),l.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-500",children:"Charts will appear once files are stored in your RSEs"})]})})]})]})]})};re.__docgenInfo={description:"",methods:[],displayName:"TopStorageUsageWidget",props:{usages:{required:!1,tsType:{name:"Array",elements:[{name:"RSEAccountUsageViewModel"}],raw:"RSEAccountUsageViewModel[]"},description:""},isLoading:{required:!0,tsType:{name:"boolean"},description:""},errorMessage:{required:!1,tsType:{name:"string"},description:""}}};const fr={title:"Components/Pages/Dashboard/Widgets",component:re,parameters:{docs:{disable:!0}}},$t=e=>l.jsx(re,{...e}),M=$t.bind({});M.args={usages:Array.from({length:10},Le),isLoading:!1};var ve,ge,he;M.parameters={...M.parameters,docs:{...(ve=M.parameters)==null?void 0:ve.docs,source:{originalSource:"args => <TopStorageUsageWidget {...args} />",...(he=(ge=M.parameters)==null?void 0:ge.docs)==null?void 0:he.source}}};const vr=["TopStorageUsage"];export{M as TopStorageUsage,vr as __namedExportsOrder,fr as default};
