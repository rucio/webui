import{r as N,j as e}from"./iframe-CbZ9RuD1.js";import{f as y}from"./table-fixtures-VRmzXp_h.js";import{T as S}from"./Tabs-D-PyTQIY.js";import{t as o}from"./tw-merge-Ds6tgvmq.js";import{G as m,T as a,C as s}from"./Metatable-JNxd4RuC.js";import{D as d}from"./DateTag-DU0t4JRp.js";import{B as k}from"./BoolTag-DByj_5lj.js";import{S as v}from"./SubscriptionStateTag-ML9PfCll.js";import{A as c}from"./Accordion-Cqlmc_Ka.js";import{C as j}from"./Code-DtCRVdZM.js";import{P as h}from"./PageSubscriptionJSONEditor-DNs_bQ2E.js";import{H as w}from"./Heading-DLxQ40ac.js";import{B as T}from"./Body-x_-vnVzx.js";import{I as P}from"./InfoField-BfxqvlKm.js";import"./preload-helper-Dp1pzeXC.js";import"./rucio-BBdC5vD1.js";import"./index.esm-Bh9o6rCW.js";import"./iconBase-BDSQWw1B.js";import"./Collapsible-DMgsBerS.js";import"./github-DHfBN4si.js";import"./button-CTUPBRYB.js";import"./index-DSpI4bVK.js";import"./utils-DsKtx5Xo.js";import"./AreaInput-B7avv_aP.js";import"./H1-ZkNDeRje.js";import"./H2-DJkyENuB.js";import"./Field-CSa0GJHY.js";const x=({show:r=!1,run:i,...l})=>{const{className:t,children:u,...R}=l;return N.useEffect(()=>{r&&i&&i()},[r]),e.jsx("div",{className:o(r?"block":"hidden","grow rounded-b-md",t),...l,children:u})};x.__docgenInfo={description:"",methods:[],displayName:"SubPage",props:{show:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},run:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const p=r=>{const[i,l]=N.useState(0),t=r.subscriptionViewModel;return e.jsxs("div",{className:o("flex flex-col space-y-2 w-full"),children:[e.jsx(P,{children:e.jsx("span",{children:"This page is currently in development. We are working on improvements, so stay tuned!"})}),e.jsx(w,{className:"text-neutral-1000 dark:text-neutral-0",title:"View Subscription",subtitle:`For subscription ${r.subscriptionViewModel.name}`}),e.jsxs(T,{children:[e.jsx(S,{tabs:["Metadata","Edit Subscription"],_ariaControls:["metadata","edit-subscription"],active:0,updateActive:u=>{l(u)}}),e.jsx(x,{show:i===0,id:"subpage-metadata","aria-labelledby":"tab-0",role:"tabpanel",children:e.jsxs("div",{className:o("flex flex-col space-y-2","md:grid md:grid-cols-2 md:gap-2","w-full"),children:[e.jsxs("div",{children:[e.jsx(c,{name:"Filter",className:"p-1",children:e.jsx(j,{children:t.filter})}),e.jsx(c,{name:"Replication Rules",className:"p-1",children:e.jsx(j,{children:t.replication_rules})})]}),e.jsxs("div",{className:o("bg-neutral-100 dark:bg-neutral-900 p-2 mt-2 rounded-md","flex flex-col space-y-2"),children:[e.jsxs(m,{children:[e.jsxs("tr",{children:[e.jsx(a,{className:"text-neutral-1000 dark:text-neutral-0",children:"Name"}),e.jsx(s,{className:"text-neutral-1000 dark:text-neutral-0",children:t.name})]}),e.jsxs("tr",{children:[e.jsx(a,{className:"text-neutral-1000 dark:text-neutral-0",children:"Account"}),e.jsx(s,{className:"text-neutral-1000 dark:text-neutral-0",children:t.account})]}),e.jsxs("tr",{children:[e.jsx(a,{className:"text-neutral-1000 dark:text-neutral-0",children:"ID"}),e.jsx(s,{className:"text-neutral-1000 dark:text-neutral-0",children:t.id})]})]}),e.jsxs(m,{children:[e.jsxs("tr",{children:[e.jsx(a,{className:"text-neutral-1000 dark:text-neutral-0",children:"Created At"}),e.jsx(s,{className:"text-neutral-1000 dark:text-neutral-0",children:e.jsx(d,{date:new Date(t.created_at)})})]}),e.jsxs("tr",{children:[e.jsx(a,{className:"text-neutral-1000 dark:text-neutral-0",children:"Last Processed"}),e.jsx(s,{className:"text-neutral-1000 dark:text-neutral-0",children:e.jsx(d,{date:new Date(t.last_processed)})})]}),e.jsxs("tr",{children:[e.jsx(a,{className:"text-neutral-1000 dark:text-neutral-0",children:"Updated At"}),e.jsx(s,{className:"text-neutral-1000 dark:text-neutral-0",children:e.jsx(d,{date:new Date(t.updated_at)})})]}),e.jsxs("tr",{children:[e.jsx(a,{className:"text-neutral-1000 dark:text-neutral-0",children:"Lifetime"}),e.jsx(s,{className:"text-neutral-1000 dark:text-neutral-0",children:e.jsx(d,{date:new Date(t.lifetime)})})]})]}),e.jsxs(m,{children:[e.jsxs("tr",{children:[e.jsx(a,{className:"text-neutral-1000 dark:text-neutral-0",children:"State"}),e.jsx(s,{children:e.jsx(v,{state:t.state})})]}),e.jsxs("tr",{children:[e.jsx(a,{className:"text-neutral-1000 dark:text-neutral-0",children:"Retroactive"}),e.jsx(s,{children:e.jsx(k,{val:t.retroactive})})]}),e.jsxs("tr",{children:[e.jsx(a,{className:"text-neutral-1000 dark:text-neutral-0",children:"Policy ID"}),e.jsx(s,{className:"text-neutral-1000 dark:text-neutral-0",children:t.policyid})]})]})]})]})}),e.jsx(x,{show:i===1,id:"subpage-edit-subscription","aria-labelledby":"tab-1",role:"tabpanel",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(c,{name:"Filter",className:"p-1",children:e.jsx(h,{defaultString:t.filter,submit:r.editFilter})}),e.jsx(c,{name:"Replication Rules",className:"p-1",children:e.jsx(h,{defaultString:t.replication_rules,submit:r.editReplicationRules})})]})})]})]})};p.__docgenInfo={description:"",methods:[],displayName:"PageSubscription",props:{subscriptionViewModel:{required:!0,tsType:{name:"SubscriptionViewModel"},description:""},editFilter:{required:!0,tsType:{name:"signature",type:"function",raw:"(filter: string) => void",signature:{arguments:[{type:{name:"string"},name:"filter"}],return:{name:"void"}}},description:""},editReplicationRules:{required:!0,tsType:{name:"signature",type:"function",raw:"(rules: string) => void",signature:{arguments:[{type:{name:"string"},name:"rules"}],return:{name:"void"}}},description:""}}};const ae={title:"Components/Pages/Subscriptions",component:p},_=r=>e.jsx(p,{...r}),n=_.bind({});n.args={subscriptionViewModel:y()};var f,g,b;n.parameters={...n.parameters,docs:{...(f=n.parameters)==null?void 0:f.docs,source:{originalSource:"args => <P {...args} />",...(b=(g=n.parameters)==null?void 0:g.docs)==null?void 0:b.source}}};const se=["PageSubscription"];export{n as PageSubscription,se as __namedExportsOrder,ae as default};
