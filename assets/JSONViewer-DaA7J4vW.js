import{r as o,j as e}from"./iframe-CbZ9RuD1.js";import{H}from"./github-DHfBN4si.js";import{o as Q,p as G,f as B,q as R}from"./index.esm-Bh9o6rCW.js";import{b as X}from"./index.esm-CDVKQKGR.js";import{R as P,P as z,O as D,C as L,T as K,a as U}from"./index--6AZhPao.js";import{t as T}from"./useToast-YXabfrDf.js";import{t as m}from"./tw-merge-Ds6tgvmq.js";import{F as W}from"./XMarkIcon-Co96hGar.js";const F=({data:t,keyName:a,level:r,expandDepth:l,isLast:c=!1})=>{const[n,x]=o.useState(r<l),u=o.useCallback(()=>{x(s=>!s)},[]),f=s=>{if(s===null)return e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"null"});switch(typeof s){case"string":return e.jsxs("span",{className:"text-green-700 dark:text-green-400",children:['"',s,'"']});case"number":return e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:s});case"boolean":return e.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:s.toString()});default:return e.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:String(s)})}};if(t!==null&&typeof t=="object"&&!Array.isArray(t)){const s=Object.keys(t),i=s.length===0;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start group",children:[a!==void 0&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:u,className:"flex items-center hover:bg-neutral-200 dark:hover:bg-neutral-700 rounded px-0.5 -ml-0.5 transition-colors","aria-label":n?"Collapse object":"Expand object","aria-expanded":n,children:[i?e.jsx("span",{className:"w-4 h-4"}):n?e.jsx(B,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400"}):e.jsx(R,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400"}),e.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:a})]}),e.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:": "})]}),i?e.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:"{}"}):n?e.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:"{"}):e.jsxs("button",{type:"button",onClick:u,className:"text-neutral-500 dark:text-neutral-400 italic hover:text-neutral-700 dark:hover:text-neutral-200 transition-colors",children:["{"," ",s.length," ",s.length===1?"property":"properties"," ","}"]})]}),n&&!i&&e.jsx("div",{className:"pl-4 border-l border-neutral-200 dark:border-neutral-700 ml-2",children:s.map((d,b)=>e.jsx(F,{data:t[d],keyName:d,level:r+1,expandDepth:l,isLast:b===s.length-1},d))}),n&&!i&&e.jsxs("div",{className:"text-neutral-900 dark:text-neutral-100",children:["}",!c&&","]})]})}if(Array.isArray(t)){const s=t.length===0;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start group",children:[a!==void 0&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:u,className:"flex items-center hover:bg-neutral-200 dark:hover:bg-neutral-700 rounded px-0.5 -ml-0.5 transition-colors","aria-label":n?"Collapse array":"Expand array","aria-expanded":n,children:[s?e.jsx("span",{className:"w-4 h-4"}):n?e.jsx(B,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400"}):e.jsx(R,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400"}),e.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:a})]}),e.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:": "})]}),s?e.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:"[]"}):n?e.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:"["}):e.jsxs("button",{type:"button",onClick:u,className:"text-neutral-500 dark:text-neutral-400 italic hover:text-neutral-700 dark:hover:text-neutral-200 transition-colors",children:["["," ",t.length," ",t.length===1?"item":"items"," ","]"]})]}),n&&!s&&e.jsx("div",{className:"pl-4 border-l border-neutral-200 dark:border-neutral-700 ml-2",children:t.map((i,d)=>e.jsx(F,{data:i,level:r+1,expandDepth:l,isLast:d===t.length-1},d))}),n&&!s&&e.jsxs("div",{className:"text-neutral-900 dark:text-neutral-100",children:["]",!c&&","]})]})}return e.jsxs("div",{className:"flex items-start",children:[a!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:a}),e.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:": "})]}),f(t),!c&&e.jsx("span",{className:"text-neutral-900 dark:text-neutral-100",children:","})]})},q=({value:t,expandDepth:a=2,showCopyButton:r=!0,showExpandButton:l=!1,onExpand:c,maxHeight:n="600px",className:x})=>{const[u,f]=o.useState(!1),[s,i]=o.useState(!0),[d,b]=o.useState(null);o.useEffect(()=>{try{const g=JSON.parse(t);b(g),i(!0)}catch{b(null),i(!1)}},[t]);const h=async()=>{try{const g=JSON.stringify(d,null,2);await navigator.clipboard.writeText(g),f(!0),T({title:"Copied to clipboard",description:"JSON content has been copied successfully",variant:"success"}),setTimeout(()=>f(!1),2e3)}catch{T({title:"Copy failed",description:"Failed to copy JSON content to clipboard",variant:"error"})}},k=n==="100%",v=m("relative rounded border","bg-neutral-100 dark:bg-neutral-800","border-neutral-200 dark:border-neutral-700",k&&"flex flex-col",x),w="flex items-center justify-between gap-2 px-3 py-2 border-b border-neutral-200 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900",p="inline-flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded transition-colors",C=m(p,u?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-600"),S=m(p,"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-600"),O=m("overflow-auto p-3 font-mono text-sm leading-relaxed",k&&"flex-1 min-h-0"),j="inline-flex items-center px-2 py-1 text-xs font-medium rounded bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400 border border-yellow-300 dark:border-yellow-700";return s?e.jsxs("div",{className:v,children:[(r||l)&&e.jsxs("div",{className:w,children:[e.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:"Interactive Tree View"}),e.jsxs("div",{className:"flex items-center gap-2",children:[l&&c&&e.jsxs("button",{type:"button",onClick:c,className:S,"aria-label":"Expand to full screen",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{children:"Expand"})]}),r&&e.jsx("button",{type:"button",onClick:h,className:C,"aria-label":"Copy to clipboard",children:u?e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4"}),e.jsx("span",{children:"Copy"})]})})]})]}),e.jsx("div",{className:O,style:k?void 0:{maxHeight:n},children:e.jsx(F,{data:d,level:0,expandDepth:a,isLast:!0})})]}):e.jsxs("div",{className:v,children:[e.jsx("div",{className:w,children:e.jsx("span",{className:j,children:"Invalid JSON - cannot display tree view"})}),e.jsx("div",{className:"p-3 text-sm font-mono text-neutral-900 dark:text-neutral-100",children:e.jsx("pre",{className:"whitespace-pre-wrap break-words m-0",children:t})})]})};q.__docgenInfo={description:`JSONTreeView component for displaying JSON with interactive expand/collapse tree structure.

Features:
- Interactive expand/collapse for nested objects and arrays
- Syntax highlighting with dark mode support
- Copy to clipboard functionality
- Keyboard navigation (click to expand/collapse)
- Design system compliant styling
- Fully custom implementation with no external dependencies

@example
\`\`\`tsx
<JSONTreeView
  value={jsonString}
  expandDepth={2}
  showCopyButton
  maxHeight="400px"
/>
\`\`\``,methods:[],displayName:"JSONTreeView",props:{value:{required:!0,tsType:{name:"string"},description:""},expandDepth:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"2",computed:!1}},showCopyButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showExpandButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onExpand:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},maxHeight:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'600px'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};function E(t,a=0){if(t===null||typeof t!="object")return a;if(Array.isArray(t))return t.length===0?a+1:Math.max(...t.map(l=>E(l,a+1)));const r=Object.keys(t);return r.length===0?a+1:Math.max(...r.map(l=>E(t[l],a+1)))}function A(t){if(t===null||typeof t!="object")return 0;if(Array.isArray(t))return t.reduce((r,l)=>r+A(l),0);const a=Object.keys(t);return a.length+a.reduce((r,l)=>r+A(t[l]),0)}function ne(t){try{const a=JSON.parse(t);if(Array.isArray(a)&&a.length>1)return"interactive";if(a!==null&&typeof a=="object"){const r=E(a),l=A(a);if(r>2||l>10)return"interactive"}return"static"}catch{return"static"}}function oe(t,a="auto"){return o.useMemo(()=>a==="static"||a==="interactive"?a:ne(t),[t,a])}const ie=({value:t,mode:a="auto",expandDepth:r=2,showLineNumbers:l=!1,showCopyButton:c=!0,showRawToggle:n=!0,showExpandButton:x=!1,expandTitle:u="JSON Viewer",maxHeight:f="600px",className:s})=>{const i=oe(t,a),[d,b]=o.useState(!1),[h,k]=o.useState(!0),[v,w]=o.useState(!1),[p,C]=o.useState(!0),[S,O]=o.useState(""),[j,g]=o.useState(""),[_,J]=o.useState(!1);o.useEffect(()=>{const y=window.matchMedia("(prefers-color-scheme: dark)");b(y.matches);const N=M=>{b(M.matches)};return y.addEventListener("change",N),()=>y.removeEventListener("change",N)},[]),o.useEffect(()=>{try{const y=JSON.parse(t),N=JSON.stringify(y,null,2);O(N),g(N),C(!0)}catch{O(t),g(t),C(!1)}},[t]),o.useEffect(()=>{p&&g(h?S:t)},[h,p,S,t]);const Y=async()=>{try{await navigator.clipboard.writeText(j),w(!0),T({title:"Copied to clipboard",description:"JSON content has been copied successfully",variant:"success"}),setTimeout(()=>w(!1),2e3)}catch{T({title:"Copy failed",description:"Failed to copy JSON content to clipboard",variant:"error"})}},Z=()=>{k(!h)},I=()=>"pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}"+(d?".hljs{color:#adbac7;background:transparent}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#f47067}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#dcbdfb}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#6cb6ff}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#96d0ff}.hljs-built_in,.hljs-symbol{color:#f69d50}.hljs-code,.hljs-comment,.hljs-formula{color:#768390}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#8ddb8c}.hljs-subst{color:#adbac7}.hljs-section{color:#316dca;font-weight:700}.hljs-bullet{color:#eac55f}.hljs-emphasis{color:#adbac7;font-style:italic}.hljs-strong{color:#adbac7;font-weight:700}.hljs-addition{color:#b4f1b4;background-color:#1b4721}.hljs-deletion{color:#ffd8d3;background-color:#78191b}":".hljs{color:#24292e;background:transparent}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#d73a49}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#6f42c1}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#005cc5}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#032f62}.hljs-built_in,.hljs-symbol{color:#e36209}.hljs-code,.hljs-comment,.hljs-formula{color:#6a737d}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#22863a}.hljs-subst{color:#24292e}.hljs-section{color:#005cc5;font-weight:700}.hljs-bullet{color:#735c0f}.hljs-emphasis{color:#24292e;font-style:italic}.hljs-strong{color:#24292e;font-weight:700}.hljs-addition{color:#22863a;background-color:#f0fff4}.hljs-deletion{color:#b31d28;background-color:#ffeef0}"),$=m("relative rounded border","bg-neutral-100 dark:bg-neutral-800","border-neutral-200 dark:border-neutral-700",s),ee="flex items-center justify-between gap-2 px-3 py-2 border-b border-neutral-200 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900",V="inline-flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-medium rounded transition-colors",te=m(V,v?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-600"),ae=m(V,"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-600"),se=m(V,"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-600"),re=m("overflow-auto p-3 text-sm font-mono leading-relaxed",l&&"counter-reset-line"),le="inline-flex items-center px-2 py-1 text-xs font-medium rounded bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400 border border-yellow-300 dark:border-yellow-700";return i==="interactive"?e.jsxs(e.Fragment,{children:[e.jsx(q,{value:t,expandDepth:r,showCopyButton:c,showExpandButton:x,onExpand:()=>J(!0),maxHeight:f,className:s}),x&&e.jsx(P,{open:_,onOpenChange:J,children:e.jsxs(z,{children:[e.jsx(D,{className:"fixed inset-0 bg-neutral-900/80 backdrop-blur-sm z-50"}),e.jsxs(L,{className:" fixed inset-4 md:inset-8 bg-neutral-0 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg shadow-lg z-50 focus:outline-none flex flex-col ",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200 dark:border-neutral-700",children:[e.jsx(K,{className:"text-2xl font-semibold text-neutral-900 dark:text-neutral-100",children:u}),e.jsx(U,{asChild:!0,children:e.jsx("button",{className:" p-1.5 rounded hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-brand-500 transition-colors duration-150 ","aria-label":"Close",children:e.jsx(W,{className:"w-6 h-6 text-neutral-600 dark:text-neutral-400"})})})]}),e.jsx("div",{className:"flex-1 overflow-hidden p-6",children:e.jsx(q,{value:t,expandDepth:r,showCopyButton:!0,maxHeight:"100%",className:"h-full"})})]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("style",{children:I()}),e.jsxs("div",{className:$,children:[(c||n||x||!p)&&e.jsxs("div",{className:ee,children:[e.jsx("div",{className:"flex items-center gap-2",children:!p&&e.jsx("span",{className:le,children:"Invalid JSON - displaying raw value"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[x&&e.jsxs("button",{type:"button",onClick:()=>J(!0),className:se,"aria-label":"Expand to full screen",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{children:"Expand"})]}),n&&p&&e.jsx("button",{type:"button",onClick:Z,className:ae,"aria-label":h?"Show raw JSON":"Show formatted JSON",children:h?"Raw":"Formatted"}),c&&e.jsx("button",{type:"button",onClick:Y,className:te,"aria-label":"Copy to clipboard",children:v?e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4"}),e.jsx("span",{children:"Copy"})]})})]})]}),e.jsx("div",{className:re,style:{maxHeight:f},children:p&&h?e.jsx(H,{className:"language-json",children:j}):e.jsx("pre",{className:"text-neutral-900 dark:text-neutral-100 whitespace-pre-wrap break-words m-0",children:j})})]}),x&&e.jsx(P,{open:_,onOpenChange:J,children:e.jsxs(z,{children:[e.jsx(D,{className:"fixed inset-0 bg-neutral-900/80 backdrop-blur-sm z-50"}),e.jsxs(L,{className:" fixed inset-4 md:inset-8 bg-neutral-0 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg shadow-lg z-50 focus:outline-none flex flex-col ",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200 dark:border-neutral-700",children:[e.jsx(K,{className:"text-2xl font-semibold text-neutral-900 dark:text-neutral-100",children:u}),e.jsx(U,{asChild:!0,children:e.jsx("button",{className:" p-1.5 rounded hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-brand-500 transition-colors duration-150 ","aria-label":"Close",children:e.jsx(W,{className:"w-6 h-6 text-neutral-600 dark:text-neutral-400"})})})]}),e.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[e.jsx("style",{children:I()}),e.jsx("div",{className:"font-mono text-sm leading-relaxed",children:p&&h?e.jsx(H,{className:"language-json",children:j}):e.jsx("pre",{className:"text-neutral-900 dark:text-neutral-100 whitespace-pre-wrap break-words m-0",children:j})})]})]})]})})]})};ie.__docgenInfo={description:`JSONViewer component with dual display modes for JSON data.

Features:
- **Dual modes**: Static (syntax highlighting) and Interactive (expandable tree)
- **Auto-detection**: Automatically chooses best mode based on JSON complexity
- Syntax highlighting with dark mode support
- Interactive expand/collapse for nested structures (interactive mode)
- Copy to clipboard functionality
- Toggle between raw and formatted views (static mode)
- Error handling for invalid JSON
- Design system compliant styling

Mode selection:
- \`mode="auto"\` (default): Automatically detects complexity
  - Uses interactive for: arrays with 2+ items, depth > 2 levels, or 10+ total keys
  - Uses static for: simple flat objects and small structures
- \`mode="static"\`: Always use syntax highlighting (best for simple JSON)
- \`mode="interactive"\`: Always use expandable tree (best for complex nested JSON)

@example
\`\`\`tsx
// Auto-detect mode (recommended)
<JSONViewer value={jsonString} />

// Explicit static mode
<JSONViewer value={jsonString} mode="static" showRawToggle />

// Explicit interactive mode
<JSONViewer value={jsonString} mode="interactive" expandDepth={2} />
\`\`\``,methods:[],displayName:"JSONViewer",props:{value:{required:!0,tsType:{name:"string"},description:""},mode:{required:!1,tsType:{name:"union",raw:"'static' | 'interactive' | 'auto'",elements:[{name:"literal",value:"'static'"},{name:"literal",value:"'interactive'"},{name:"literal",value:"'auto'"}]},description:"",defaultValue:{value:"'auto'",computed:!1}},expandDepth:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"2",computed:!1}},defaultExpanded:{required:!1,tsType:{name:"boolean"},description:""},showLineNumbers:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showCopyButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showRawToggle:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showExpandButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},expandTitle:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'JSON Viewer'",computed:!1}},maxHeight:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'600px'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};export{ie as J};
