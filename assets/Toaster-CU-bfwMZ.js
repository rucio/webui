import{r as n,j as s}from"./iframe-CbZ9RuD1.js";import{u as ke}from"./useToast-YXabfrDf.js";import{r as Ae}from"./index-BVAf5DAB.js";import{P as S,u as De,c as C,a as ce,b as Fe,f as Le,d as Me}from"./index-YEY9OEgd.js";import{c as Oe}from"./index-B5AF9blO.js";import{u as W,B as Ve,R as Ke,P as He}from"./index-Dwd-kS-d.js";import{P as $e}from"./index-CI9TgWTM.js";import{c as We}from"./index-DSpI4bVK.js";import{c as j}from"./utils-DsKtx5Xo.js";import{i as Xe,c as Ue,j as Ye,k as Be,l as qe}from"./index.esm-Bh9o6rCW.js";var ze=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ge="VisuallyHidden",J=n.forwardRef((e,t)=>s.jsx(S.span,{...e,ref:t,style:{...ze,...e.style}}));J.displayName=Ge;var Q="ToastProvider",[Z,Je,Qe]=Oe("Toast"),[de]=Fe("Toast",[Qe]),[Ze,X]=de(Q),ue=e=>{const{__scopeToast:t,label:r="Notification",duration:o=5e3,swipeDirection:d="right",swipeThreshold:u=50,children:f}=e,[v,w]=n.useState(null),[a,h]=n.useState(0),b=n.useRef(!1),D=n.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Q}\`. Expected non-empty \`string\`.`),s.jsx(Z.Provider,{scope:t,children:s.jsx(Ze,{scope:t,label:r,duration:o,swipeDirection:d,swipeThreshold:u,toastCount:a,viewport:v,onViewportChange:w,onToastAdd:n.useCallback(()=>h(R=>R+1),[]),onToastRemove:n.useCallback(()=>h(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:D,children:f})})};ue.displayName=Q;var le="ToastViewport",et=["F8"],q="toast.viewportPause",z="toast.viewportResume",fe=n.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:o=et,label:d="Notifications ({hotkey})",...u}=e,f=X(le,r),v=Je(r),w=n.useRef(null),a=n.useRef(null),h=n.useRef(null),b=n.useRef(null),D=ce(t,b,f.onViewportChange),R=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=f.toastCount>0;n.useEffect(()=>{const c=g=>{var m;o.length!==0&&o.every(x=>g[x]||g.code===x)&&((m=b.current)==null||m.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[o]),n.useEffect(()=>{const c=w.current,g=b.current;if(N&&c&&g){const p=()=>{if(!f.isClosePausedRef.current){const y=new CustomEvent(q);g.dispatchEvent(y),f.isClosePausedRef.current=!0}},m=()=>{if(f.isClosePausedRef.current){const y=new CustomEvent(z);g.dispatchEvent(y),f.isClosePausedRef.current=!1}},x=y=>{!c.contains(y.relatedTarget)&&m()},T=()=>{c.contains(document.activeElement)||m()};return c.addEventListener("focusin",p),c.addEventListener("focusout",x),c.addEventListener("pointermove",p),c.addEventListener("pointerleave",T),window.addEventListener("blur",p),window.addEventListener("focus",m),()=>{c.removeEventListener("focusin",p),c.removeEventListener("focusout",x),c.removeEventListener("pointermove",p),c.removeEventListener("pointerleave",T),window.removeEventListener("blur",p),window.removeEventListener("focus",m)}}},[N,f.isClosePausedRef]);const l=n.useCallback(({tabbingDirection:c})=>{const p=v().map(m=>{const x=m.ref.current,T=[x,...pt(x)];return c==="forwards"?T:T.reverse()});return(c==="forwards"?p.reverse():p).flat()},[v]);return n.useEffect(()=>{const c=b.current;if(c){const g=p=>{var T,y,_;const m=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!m){const F=document.activeElement,k=p.shiftKey;if(p.target===c&&k){(T=a.current)==null||T.focus();return}const I=l({tabbingDirection:k?"backwards":"forwards"}),V=I.findIndex(i=>i===F);B(I.slice(V+1))?p.preventDefault():k?(y=a.current)==null||y.focus():(_=h.current)==null||_.focus()}};return c.addEventListener("keydown",g),()=>c.removeEventListener("keydown",g)}},[v,l]),s.jsxs(Ve,{ref:w,role:"region","aria-label":d.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&s.jsx(G,{ref:a,onFocusFromOutsideViewport:()=>{const c=l({tabbingDirection:"forwards"});B(c)}}),s.jsx(Z.Slot,{scope:r,children:s.jsx(S.ol,{tabIndex:-1,...u,ref:D})}),N&&s.jsx(G,{ref:h,onFocusFromOutsideViewport:()=>{const c=l({tabbingDirection:"backwards"});B(c)}})]})});fe.displayName=le;var pe="ToastFocusProxy",G=n.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...d}=e,u=X(pe,r);return s.jsx(J,{tabIndex:0,...d,ref:t,style:{position:"fixed"},onFocus:f=>{var a;const v=f.relatedTarget;!((a=u.viewport)!=null&&a.contains(v))&&o()}})});G.displayName=pe;var O="Toast",tt="toast.swipeStart",rt="toast.swipeMove",ot="toast.swipeCancel",st="toast.swipeEnd",me=n.forwardRef((e,t)=>{const{forceMount:r,open:o,defaultOpen:d,onOpenChange:u,...f}=e,[v,w]=De({prop:o,defaultProp:d??!0,onChange:u,caller:O});return s.jsx($e,{present:r||v,children:s.jsx(it,{open:v,...f,ref:t,onClose:()=>w(!1),onPause:W(e.onPause),onResume:W(e.onResume),onSwipeStart:C(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:C(e.onSwipeMove,a=>{const{x:h,y:b}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:C(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:C(e.onSwipeEnd,a=>{const{x:h,y:b}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),w(!1)})})})});me.displayName=O;var[nt,at]=de(O,{onClose(){}}),it=n.forwardRef((e,t)=>{const{__scopeToast:r,type:o="foreground",duration:d,open:u,onClose:f,onEscapeKeyDown:v,onPause:w,onResume:a,onSwipeStart:h,onSwipeMove:b,onSwipeCancel:D,onSwipeEnd:R,...N}=e,l=X(O,r),[c,g]=n.useState(null),p=ce(t,i=>g(i)),m=n.useRef(null),x=n.useRef(null),T=d||l.duration,y=n.useRef(0),_=n.useRef(T),F=n.useRef(0),{onToastAdd:k,onToastRemove:U}=l,A=W(()=>{var E;(c==null?void 0:c.contains(document.activeElement))&&((E=l.viewport)==null||E.focus()),f()}),I=n.useCallback(i=>{!i||i===1/0||(window.clearTimeout(F.current),y.current=new Date().getTime(),F.current=window.setTimeout(A,i))},[A]);n.useEffect(()=>{const i=l.viewport;if(i){const E=()=>{I(_.current),a==null||a()},P=()=>{const L=new Date().getTime()-y.current;_.current=_.current-L,window.clearTimeout(F.current),w==null||w()};return i.addEventListener(q,P),i.addEventListener(z,E),()=>{i.removeEventListener(q,P),i.removeEventListener(z,E)}}},[l.viewport,T,w,a,I]),n.useEffect(()=>{u&&!l.isClosePausedRef.current&&I(T)},[u,T,l.isClosePausedRef,I]),n.useEffect(()=>(k(),()=>U()),[k,U]);const V=n.useMemo(()=>c?ye(c):null,[c]);return l.viewport?s.jsxs(s.Fragment,{children:[V&&s.jsx(ct,{__scopeToast:r,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:V}),s.jsx(nt,{scope:r,onClose:A,children:Ae.createPortal(s.jsx(Z.ItemSlot,{scope:r,children:s.jsx(Ke,{asChild:!0,onEscapeKeyDown:C(v,()=>{l.isFocusedToastEscapeKeyDownRef.current||A(),l.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(S.li,{tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":l.swipeDirection,...N,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:C(e.onKeyDown,i=>{i.key==="Escape"&&(v==null||v(i.nativeEvent),i.nativeEvent.defaultPrevented||(l.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:C(e.onPointerDown,i=>{i.button===0&&(m.current={x:i.clientX,y:i.clientY})}),onPointerMove:C(e.onPointerMove,i=>{if(!m.current)return;const E=i.clientX-m.current.x,P=i.clientY-m.current.y,L=!!x.current,M=["left","right"].includes(l.swipeDirection),K=["left","up"].includes(l.swipeDirection)?Math.min:Math.max,Se=M?K(0,E):0,je=M?0:K(0,P),Y=i.pointerType==="touch"?10:2,H={x:Se,y:je},ae={originalEvent:i,delta:H};L?(x.current=H,$(rt,b,ae,{discrete:!1})):ie(H,l.swipeDirection,Y)?(x.current=H,$(tt,h,ae,{discrete:!1}),i.target.setPointerCapture(i.pointerId)):(Math.abs(E)>Y||Math.abs(P)>Y)&&(m.current=null)}),onPointerUp:C(e.onPointerUp,i=>{const E=x.current,P=i.target;if(P.hasPointerCapture(i.pointerId)&&P.releasePointerCapture(i.pointerId),x.current=null,m.current=null,E){const L=i.currentTarget,M={originalEvent:i,delta:E};ie(E,l.swipeDirection,l.swipeThreshold)?$(st,R,M,{discrete:!0}):$(ot,D,M,{discrete:!0}),L.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),l.viewport)})]}):null}),ct=e=>{const{__scopeToast:t,children:r,...o}=e,d=X(O,t),[u,f]=n.useState(!1),[v,w]=n.useState(!1);return lt(()=>f(!0)),n.useEffect(()=>{const a=window.setTimeout(()=>w(!0),1e3);return()=>window.clearTimeout(a)},[]),v?null:s.jsx(He,{asChild:!0,children:s.jsx(J,{...o,children:u&&s.jsxs(s.Fragment,{children:[d.label," ",r]})})})},dt="ToastTitle",ve=n.forwardRef((e,t)=>{const{__scopeToast:r,...o}=e;return s.jsx(S.div,{...o,ref:t})});ve.displayName=dt;var ut="ToastDescription",we=n.forwardRef((e,t)=>{const{__scopeToast:r,...o}=e;return s.jsx(S.div,{...o,ref:t})});we.displayName=ut;var xe="ToastAction",Te=n.forwardRef((e,t)=>{const{altText:r,...o}=e;return r.trim()?s.jsx(ge,{altText:r,asChild:!0,children:s.jsx(ee,{...o,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${xe}\`. Expected non-empty \`string\`.`),null)});Te.displayName=xe;var be="ToastClose",ee=n.forwardRef((e,t)=>{const{__scopeToast:r,...o}=e,d=at(be,r);return s.jsx(ge,{asChild:!0,children:s.jsx(S.button,{type:"button",...o,ref:t,onClick:C(e.onClick,d.onClose)})})});ee.displayName=be;var ge=n.forwardRef((e,t)=>{const{__scopeToast:r,altText:o,...d}=e;return s.jsx(S.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...d,ref:t})});function ye(e){const t=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&t.push(o.textContent),ft(o)){const d=o.ariaHidden||o.hidden||o.style.display==="none",u=o.dataset.radixToastAnnounceExclude==="";if(!d)if(u){const f=o.dataset.radixToastAnnounceAlt;f&&t.push(f)}else t.push(...ye(o))}}),t}function $(e,t,r,{discrete:o}){const d=r.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&d.addEventListener(e,t,{once:!0}),o?Le(d,u):d.dispatchEvent(u)}var ie=(e,t,r=0)=>{const o=Math.abs(e.x),d=Math.abs(e.y),u=o>d;return t==="left"||t==="right"?u&&o>r:!u&&d>r};function lt(e=()=>{}){const t=W(e);Me(()=>{let r=0,o=0;return r=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(o)}},[t])}function ft(e){return e.nodeType===e.ELEMENT_NODE}function pt(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const d=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||d?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function B(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var mt=ue,Ee=fe,he=me,Ce=ve,Pe=we,Re=Te,Ne=ee;const vt=mt,te=n.forwardRef(({className:e,...t},r)=>s.jsx(Ee,{ref:r,className:j("fixed bottom-0 right-0 z-50 flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));te.displayName=Ee.displayName;const wt={info:"bg-base-info-100 dark:bg-base-info-900 text-base-info-900 dark:text-base-info-100 border-base-info-600 dark:border-base-info-700",success:"bg-base-success-100 dark:bg-base-success-900 text-base-success-900 dark:text-base-success-100 border-base-success-600 dark:border-base-success-700",warning:"bg-base-warning-100 dark:bg-base-warning-900 text-base-warning-900 dark:text-base-warning-100 border-base-warning-700 dark:border-base-warning-700",error:"bg-base-error-100 dark:bg-base-error-900 text-base-error-900 dark:text-base-error-100 border-base-error-600 dark:border-base-error-700"},xt=We(j("flex items-center justify-between space-x-4","w-full","overflow-hidden","rounded-lg","pointer-events-auto","border","p-6 pr-8","group relative","shadow-lg","transition-all duration-200","data-[state=open]:fade-in-20 data-[state=closed]:fade-out-20","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full","data-[state=closed]:slide-out-to-right-full","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500 focus-visible:ring-offset-2"),{variants:{variant:wt},defaultVariants:{variant:"info"}}),re=n.forwardRef(({className:e,variant:t,...r},o)=>s.jsx(he,{ref:o,className:j(xt({variant:t}),e),...r}));re.displayName=he.displayName;const _e=n.forwardRef(({className:e,...t},r)=>s.jsx(Re,{ref:r,className:j("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-neutral-200 bg-transparent px-3 text-sm font-medium ring-offset-neutral-0 transition-colors hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-neutral-100/40 group-[.destructive]:hover:border-base-error-500/30 group-[.destructive]:hover:bg-base-error-500 group-[.destructive]:hover:text-neutral-100 group-[.destructive]:focus:ring-base-error-500 dark:border-neutral-800 dark:ring-offset-neutral-900 dark:hover:bg-neutral-800 dark:focus:ring-brand-500 dark:group-[.destructive]:border-neutral-800/40 dark:group-[.destructive]:hover:border-base-error-900/30 dark:group-[.destructive]:hover:bg-base-error-900 dark:group-[.destructive]:hover:text-neutral-100 dark:group-[.destructive]:focus:ring-base-error-900",e),...t}));_e.displayName=Re.displayName;const oe=n.forwardRef(({className:e,...t},r)=>s.jsx(Ne,{ref:r,className:j("absolute right-2 top-2 rounded-md p-1","opacity-0 transition-opacity group-hover:opacity-100","hover:opacity-100 focus:opacity-100","focus:outline-none focus:ring-2 focus:ring-brand-500",e),"toast-close":"","aria-label":"Close notification",...t,children:s.jsx(Xe,{className:"h-4 w-4"})}));oe.displayName=Ne.displayName;const se=n.forwardRef(({className:e,...t},r)=>s.jsx(Ce,{ref:r,className:j("text-sm font-semibold inline-block",e),...t}));se.displayName=Ce.displayName;const ne=n.forwardRef(({className:e,...t},r)=>s.jsx(Pe,{ref:r,className:j("text-sm opacity-90",e),...t}));ne.displayName=Pe.displayName;const Ie=({variant:e})=>{const t={info:s.jsx(qe,{}),success:s.jsx(Be,{}),warning:s.jsx(Ye,{}),error:s.jsx(Ue,{})};return s.jsx("div",{className:"pr-2 text-xl inline-block",children:t[e]})};te.__docgenInfo={description:"",methods:[]};re.__docgenInfo={description:"",methods:[]};se.__docgenInfo={description:"",methods:[]};ne.__docgenInfo={description:"",methods:[]};oe.__docgenInfo={description:"",methods:[]};_e.__docgenInfo={description:"",methods:[]};Ie.__docgenInfo={description:"",methods:[],displayName:"ToastIcon",props:{variant:{required:!0,tsType:{name:"union",raw:"keyof typeof variantsDefinition",elements:[{name:"literal",value:"info"},{name:"literal",value:"success"},{name:"literal",value:"warning"},{name:"literal",value:"error"}]},description:""}}};function Tt(){const{toasts:e}=ke();return s.jsxs(vt,{children:[e.map(function({id:t,title:r,description:o,action:d,...u}){return s.jsxs(re,{...u,children:[s.jsxs("div",{className:"grid gap-1",children:[s.jsxs("div",{className:"flex items-center",children:[u.variant&&s.jsx(Ie,{variant:u.variant}),r&&s.jsx(se,{children:r})]}),o&&s.jsx(ne,{children:o})]}),d,s.jsx(oe,{})]},t)}),s.jsx(te,{})]})}Tt.__docgenInfo={description:"",methods:[],displayName:"Toaster"};export{Tt as T};
