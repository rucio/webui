import{r as u,j as w}from"./iframe-CbZ9RuD1.js";import{h as _t}from"./table-fixtures-VRmzXp_h.js";import{K as tt}from"./KeyValueWrapper-p5ZbVku4.js";import{H as Bt}from"./Heading-BBK5GD02.js";import{L as Dt}from"./LoadingSpinner-DNn-SVom.js";import{K as Lt}from"./index.esm-Bh9o6rCW.js";import{B as zt}from"./Badge-ClFuoEMl.js";import{L as xe}from"./rucio-BBdC5vD1.js";import{I as Rt}from"./InfoField-BfxqvlKm.js";import{W as Nt}from"./WarningField-D_GotWnc.js";import{i as $t,a as me,g as ke,b as Pe,c as Mt,d as ne,G as Kt,e as be,m as we,r as le,D as se,Z as ce,L as X,s as he,C as Wt,f as Ft,h as rt,j as at,k as Te,l as Gt,T as it,u as B,n as Yt,o as Xt,p as C,q as E,t as Ht,v as nt,S as Vt,w as G,x as qt,y as _e,z as te,A as Ut,B as Q,E as ee,F as ot,H as lt,I as st,J as Zt,K as Jt,M as ze,N as Qt,O as Re,P as er,Q as ct,R as ge,U as tr,V as rr,W as ar,X as ut,Y as ir,_ as nr,$ as or,a0 as lr,a1 as sr,a2 as dt,a3 as cr,a4 as ur,a5 as Ne,a6 as vt,a7 as ft,a8 as pt,a9 as mt,aa as dr,ab as vr,ac as W,ad as fr,ae as pr,af as mr,ag as hr,ah as Be,ai as ht,aj as gr,ak as yr,al as xr,am as gt,an as br,ao as kr,ap as Pr,aq as yt,ar as wr,as as Or,at as Ar,au as Sr,av as jr,aw as Cr,ax as Er,ay as Ir,az as Tr,aA as _r,aB as Br,aC as Dr,aD as Lr,aE as zr,aF as Rr,aG as Nr,aH as $r,aI as Mr,aJ as Kr,aK as $e}from"./chart-colors-DTxB7Clu.js";import{z as Wr}from"./index-CY5-pjTU.js";import{c as Me}from"./rule-sorting-utils-CA35suoB.js";import{a as F}from"./utils-DsKtx5Xo.js";import"./preload-helper-Dp1pzeXC.js";import"./index-DSpI4bVK.js";import"./list-toasts-CqaY5F_J.js";import"./useToast-YXabfrDf.js";import"./iconBase-BDSQWw1B.js";import"./Field-CSa0GJHY.js";import"./index-BVAf5DAB.js";import"./index-CitRXwj5.js";import"./index-COXxs0hY.js";import"./CircleWithText-V1QaHt8L.js";import"./colors-D788UJep.js";import"./tw-merge-Ds6tgvmq.js";var Ke=(e,t,r)=>{var a=r??e;if(!me(a))return ke(a,t,0)},Fr=(e,t,r)=>{var a={},i=e.filter($t),n=e.filter(s=>s.stackId==null),o=i.reduce((s,d)=>{var v=s[d.stackId];return v==null&&(v=[]),v.push(d),s[d.stackId]=v,s},a),l=Object.entries(o).map(s=>{var d,[v,f]=s,b=f.map(g=>g.dataKey),p=Ke(t,r,(d=f[0])===null||d===void 0?void 0:d.barSize);return{stackId:v,dataKeys:b,barSize:p}}),c=n.map(s=>{var d=[s.dataKey].filter(f=>f!=null),v=Ke(t,r,s.barSize);return{stackId:void 0,dataKeys:d,barSize:v}});return[...l,...c]};function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?We(Object(r),!0).forEach(function(a){Gr(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Gr(e,t,r){return(t=Yr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yr(e){var t=Xr(e,"string");return typeof t=="symbol"?t:t+""}function Xr(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(e,t,r,a,i){var n,o=a.length;if(!(o<1)){var l=ke(e,r,0,!0),c,s=[];if(Pe((n=a[0])===null||n===void 0?void 0:n.barSize)){var d=!1,v=r/o,f=a.reduce((y,P)=>y+(P.barSize||0),0);f+=(o-1)*l,f>=r&&(f-=(o-1)*l,l=0),f>=r&&v>0&&(d=!0,v*=.9,f=o*v);var b=(r-f)/2>>0,p={offset:b-l,size:0};c=a.reduce((y,P)=>{var x,O={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:p.offset+p.size+l,size:d?v:(x=P.barSize)!==null&&x!==void 0?x:0}},k=[...y,O];return p=O.position,k},s)}else{var g=ke(t,r,0,!0);r-2*g-(o-1)*l<=0&&(l=0);var h=(r-2*g-(o-1)*l)/o;h>1&&(h>>=0);var m=Pe(i)?Math.min(h,i):h;c=a.reduce((y,P,x)=>[...y,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:g+(h+l)*x+(h-m)/2,size:m}}],s)}return c}}var Vr=(e,t,r,a,i,n,o)=>{var l=me(o)?t:o,c=Hr(r,a,i!==n?i:n,e,l);return i!==n&&c!=null&&(c=c.map(s=>de(de({},s),{},{position:de(de({},s.position),{},{offset:s.position.offset-i/2})}))),c},qr=(e,t)=>{var r=Mt(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var i=e[a];if(i){var{stackedData:n}=i;if(n)return n.find(o=>o.key===r)}}}},Ur=(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function Zr(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Pe(e.zIndex)?e.zIndex:t}function Jr(e){return(e%180+180)%180}var Qr=function(t){var{width:r,height:a}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=Jr(i),o=n*Math.PI/180,l=Math.atan(a/r),c=o>l&&o<Math.PI-l?a/Math.sin(o):r/Math.cos(o);return Math.abs(c)};function xt(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],a=0;a<e.length;a+=t){var i=e[a];i!==void 0&&r.push(i)}return r}function ea(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return Qr(a,r)}function ta(e,t,r){var a=r==="width",{x:i,y:n,width:o,height:l}=e;return t===1?{start:a?i:n,end:a?i+o:n+l}:{start:a?i+o:n+l,end:a?i:n}}function oe(e,t,r,a,i){if(e*t<e*a||e*t>e*i)return!1;var n=r();return e*(t-e*n/2-a)>=0&&e*(t+e*n/2-i)<=0}function ra(e,t){return xt(e,t+1)}function aa(e,t,r,a,i){for(var n=(a||[]).slice(),{start:o,end:l}=t,c=0,s=1,d=o,v=function(){var p=a==null?void 0:a[c];if(p===void 0)return{v:xt(a,s)};var g=c,h,m=()=>(h===void 0&&(h=r(p,g)),h),y=p.coordinate,P=c===0||oe(e,y,m,d,l);P||(c=0,d=o,s+=1),P&&(d=y+e*(m()/2+i),c+=s)},f;s<=n.length;)if(f=v(),f)return f.v;return[]}function ia(e,t,r,a,i){var n=(a||[]).slice(),o=n.length;if(o===0)return[];for(var{start:l,end:c}=t,s=1;s<=o;s++){for(var d=(o-1)%s,v=l,f=!0,b=function(){var x=a[g];if(x==null)return 0;var O=g,k,A=()=>(k===void 0&&(k=r(x,O)),k),I=x.coordinate,j=g===d||oe(e,I,A,v,c);if(!j)return f=!1,1;j&&(v=I+e*(A()/2+i))},p,g=d;g<o&&(p=b(),!(p!==0&&p===1));g+=s);if(f){for(var h=[],m=d;m<o;m+=s){var y=a[m];y!=null&&h.push(y)}return h}}return[]}function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fe(Object(r),!0).forEach(function(a){na(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function na(e,t,r){return(t=oa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oa(e){var t=la(e,"string");return typeof t=="symbol"?t:t+""}function la(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sa(e,t,r,a,i){for(var n=(a||[]).slice(),o=n.length,{start:l}=t,{end:c}=t,s=function(f){var b=n[f];if(b==null)return 1;var p=b,g,h=()=>(g===void 0&&(g=r(b,f)),g);if(f===o-1){var m=e*(p.coordinate+e*h()/2-c);n[f]=p=_(_({},p),{},{tickCoord:m>0?p.coordinate-m*e:p.coordinate})}else n[f]=p=_(_({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var y=oe(e,p.tickCoord,h,l,c);y&&(c=p.tickCoord-e*(h()/2+i),n[f]=_(_({},p),{},{isShow:!0}))}},d=o-1;d>=0;d--)s(d);return n}function ca(e,t,r,a,i,n){var o=(a||[]).slice(),l=o.length,{start:c,end:s}=t;if(n){var d=a[l-1];if(d!=null){var v=r(d,l-1),f=e*(d.coordinate+e*v/2-s);if(o[l-1]=d=_(_({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate}),d.tickCoord!=null){var b=oe(e,d.tickCoord,()=>v,c,s);b&&(s=d.tickCoord-e*(v/2+i),o[l-1]=_(_({},d),{},{isShow:!0}))}}}for(var p=n?l-1:l,g=function(y){var P=o[y];if(P==null)return 1;var x=P,O,k=()=>(O===void 0&&(O=r(P,y)),O);if(y===0){var A=e*(x.coordinate-e*k()/2-c);o[y]=x=_(_({},x),{},{tickCoord:A<0?x.coordinate-A*e:x.coordinate})}else o[y]=x=_(_({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var I=oe(e,x.tickCoord,k,c,s);I&&(c=x.tickCoord+e*(k()/2+i),o[y]=_(_({},x),{},{isShow:!0}))}},h=0;h<p;h++)g(h);return o}function ua(e,t,r){var{tick:a,ticks:i,viewBox:n,minTickGap:o,orientation:l,interval:c,tickFormatter:s,unit:d,angle:v}=e;if(!i||!i.length||!a)return[];if(ne(c)||Kt.isSsr){var f;return(f=ra(i,ne(c)?c:0))!==null&&f!==void 0?f:[]}var b=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?be(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},h=(O,k)=>{var A=typeof s=="function"?s(O.value,k):O.value;return p==="width"?ea(be(A,{fontSize:t,letterSpacing:r}),g,v):be(A,{fontSize:t,letterSpacing:r})[p]},m=i[0],y=i[1],P=i.length>=2&&m!=null&&y!=null?we(y.coordinate-m.coordinate):1,x=ta(n,P,p);return c==="equidistantPreserveStart"?aa(P,x,h,i,o):c==="equidistantPreserveEnd"?ia(P,x,h,i,o):(c==="preserveStart"||c==="preserveStartEnd"?b=ca(P,x,h,i,o,c==="preserveStartEnd"):b=sa(P,x,h,i,o),b.filter(O=>O.isShow))}var da=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:i=0,tickMargin:n=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var v=d.getBoundingClientRect();v.width>o&&(o=v.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+n,s=o+c+l+(r?a:0);return Math.round(s)}return 0},va=["axisLine","width","height","className","hide","ticks","axisType"];function fa(e,t){if(e==null)return{};var r,a,i=pa(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pa(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},H.apply(null,arguments)}function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ge(Object(r),!0).forEach(function(a){ma(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ma(e,t,r){return(t=ha(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ha(e){var t=ga(e,"string");return typeof t=="symbol"?t:t+""}function ga(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:se.axis};function ya(e){var{x:t,y:r,width:a,height:i,orientation:n,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var s=S(S(S({},c),he(l)),{},{fill:"none"});if(n==="top"||n==="bottom"){var d=+(n==="top"&&!o||n==="bottom"&&o);s=S(S({},s),{},{x1:t,y1:r+d*i,x2:t+a,y2:r+d*i})}else{var v=+(n==="left"&&!o||n==="right"&&o);s=S(S({},s),{},{x1:t+v*a,y1:r,x2:t+v*a,y2:r+i})}return u.createElement("line",H({},s,{className:F("recharts-cartesian-axis-line",rt(l,"className"))}))}function xa(e,t,r,a,i,n,o,l,c){var s,d,v,f,b,p,g=l?-1:1,h=e.tickSize||o,m=ne(e.tickCoord)?e.tickCoord:e.coordinate;switch(n){case"top":s=d=e.coordinate,f=r+ +!l*i,v=f-g*h,p=v-g*c,b=m;break;case"left":v=f=e.coordinate,d=t+ +!l*a,s=d-g*h,b=s-g*c,p=m;break;case"right":v=f=e.coordinate,d=t+ +l*a,s=d+g*h,b=s+g*c,p=m;break;default:s=d=e.coordinate,f=r+ +l*i,v=f+g*h,p=v+g*c,b=m;break}return{line:{x1:s,y1:v,x2:d,y2:f},tick:{x:b,y:p}}}function ba(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ka(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Pa(e){var{option:t,tickProps:r,value:a}=e,i,n=F(r.className,"recharts-cartesian-axis-tick-value");if(u.isValidElement(t))i=u.cloneElement(t,S(S({},r),{},{className:n}));else if(typeof t=="function")i=t(S(S({},r),{},{className:n}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=F(o,Gt(t))),i=u.createElement(it,H({},r,{className:o}),a)}return i}var wa=u.forwardRef((e,t)=>{var{ticks:r=[],tick:a,tickLine:i,stroke:n,tickFormatter:o,unit:l,padding:c,tickTextProps:s,orientation:d,mirror:v,x:f,y:b,width:p,height:g,tickSize:h,tickMargin:m,fontSize:y,letterSpacing:P,getTicksConfig:x,events:O,axisType:k}=e,A=ua(S(S({},x),{},{ticks:r}),y,P),I=ba(d,v),j=ka(d,v),T=he(x),re=at(a),ae={};typeof i=="object"&&(ae=i);var L=S(S({},T),{},{fill:"none"},ae),U=A.map(R=>S({entry:R},xa(R,f,b,p,g,d,h,v,m))),Z=U.map(R=>{var{entry:z,line:N}=R;return u.createElement(X,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},i&&u.createElement("line",H({},L,N,{className:F("recharts-cartesian-axis-tick-line",rt(i,"className"))})))}),K=U.map((R,z)=>{var N,J,{entry:$,tick:ye}=R,It=S(S(S(S({verticalAnchor:j},T),{},{textAnchor:I,stroke:"none",fill:n},ye),{},{index:z,payload:$,visibleTicksCount:A.length,tickFormatter:o,padding:c},s),{},{angle:(N=(J=s==null?void 0:s.angle)!==null&&J!==void 0?J:T.angle)!==null&&N!==void 0?N:0}),Tt=S(S({},It),re);return u.createElement(X,H({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Te(O,$,z)),a&&u.createElement(Pa,{option:a,tickProps:Tt,value:"".concat(typeof o=="function"?o($.value,z):$.value).concat(l||"")}))});return u.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},K.length>0&&u.createElement(ce,{zIndex:se.label},u.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},K)),Z.length>0&&u.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},Z))}),Oa=u.forwardRef((e,t)=>{var{axisLine:r,width:a,height:i,className:n,hide:o,ticks:l,axisType:c}=e,s=fa(e,va),[d,v]=u.useState(""),[f,b]=u.useState(""),p=u.useRef(null);u.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var h;return da({ticks:p.current,label:(h=e.labelRef)===null||h===void 0?void 0:h.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=u.useCallback(h=>{if(h){var m=h.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=m;var y=m[0];if(y){var P=window.getComputedStyle(y),x=P.fontSize,O=P.letterSpacing;(x!==d||O!==f)&&(v(x),b(O))}}},[d,f]);return o||a!=null&&a<=0||i!=null&&i<=0?null:u.createElement(ce,{zIndex:e.zIndex},u.createElement(X,{className:F("recharts-cartesian-axis",n)},u.createElement(ya,{x:e.x,y:e.y,width:a,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:he(e)}),u.createElement(wa,{ref:g,axisType:c,events:s,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:f,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),u.createElement(Wt,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},u.createElement(Ft,{label:e.label,labelRef:e.labelRef}),e.children)))}),De=u.forwardRef((e,t)=>{var r=le(e,Y);return u.createElement(Oa,H({},r,{ref:t}))});De.displayName="CartesianAxis";var Aa=["children"];function Sa(e,t){if(e==null)return{};var r,a,i=ja(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ja(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Ca={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ea=u.createContext(Ca);function Ia(e){var{children:t}=e,r=Sa(e,Aa);return u.createElement(Ea.Provider,{value:r},t)}function bt(e,t){var r,a,i=B(s=>Yt(s,e)),n=B(s=>Xt(s,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:C.allowDataOverflow,l=(a=n==null?void 0:n.allowDataOverflow)!==null&&a!==void 0?a:E.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function Ta(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,i=Ht(),{needClipX:n,needClipY:o,needClip:l}=bt(t,r);if(!l||!i)return null;var{x:c,y:s,width:d,height:v}=i;return u.createElement("clipPath",{id:"clipPath-".concat(a)},u.createElement("rect",{x:n?c:c-d/2,y:o?s:s-v/2,width:n?d:d*2,height:o?v:v*2}))}function V(e,t){var r,a;return(r=(a=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||a===void 0?void 0:a.xAxisId)!==null&&r!==void 0?r:nt}function q(e,t){var r,a;return(r=(a=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||a===void 0?void 0:a.yAxisId)!==null&&r!==void 0?r:nt}var _a="Invariant failed";function Ba(e,t){throw new Error(_a)}function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Oe.apply(null,arguments)}function fe(e){return u.createElement(Vt,Oe({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Da=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,i)=>{if(ne(t))return t;var n=ne(a)||me(a);return n?t(a,i):(n||Ba(),r)}},La=(e,t,r)=>r,za=(e,t)=>t,ue=G([lt,za],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Ra=G([ue],e=>e==null?void 0:e.maxBarSize),Na=(e,t,r,a)=>a,$a=G([te,lt,V,q,La],(e,t,r,a,i)=>t.filter(n=>e==="horizontal"?n.xAxisId===r:n.yAxisId===a).filter(n=>n.isPanorama===i).filter(n=>n.hide===!1).filter(n=>n.type==="bar")),Ma=(e,t,r)=>{var a=te(e),i=V(e,t),n=q(e,t);if(!(i==null||n==null))return a==="horizontal"?ze(e,"yAxis",n,r):ze(e,"xAxis",i,r)},Ka=(e,t)=>{var r=te(e),a=V(e,t),i=q(e,t);if(!(a==null||i==null))return r==="horizontal"?Re(e,"xAxis",a):Re(e,"yAxis",i)},Wa=G([$a,Qt,Ka],Fr),Fa=(e,t,r)=>{var a,i,n=ue(e,t);if(n==null)return 0;var o=V(e,t),l=q(e,t);if(o==null||l==null)return 0;var c=te(e),s=st(e),{maxBarSize:d}=n,v=me(d)?s:d,f,b;return c==="horizontal"?(f=Q(e,"xAxis",o,r),b=ee(e,"xAxis",o,r)):(f=Q(e,"yAxis",l,r),b=ee(e,"yAxis",l,r)),(a=(i=ot(f,b,!0))!==null&&i!==void 0?i:v)!==null&&a!==void 0?a:0},kt=(e,t,r)=>{var a=te(e),i=V(e,t),n=q(e,t);if(!(i==null||n==null)){var o,l;return a==="horizontal"?(o=Q(e,"xAxis",i,r),l=ee(e,"xAxis",i,r)):(o=Q(e,"yAxis",n,r),l=ee(e,"yAxis",n,r)),ot(o,l)}},Ga=G([Wa,st,Zt,Jt,Fa,kt,Ra],Vr),Ya=(e,t,r)=>{var a=V(e,t);if(a!=null)return Q(e,"xAxis",a,r)},Xa=(e,t,r)=>{var a=q(e,t);if(a!=null)return Q(e,"yAxis",a,r)},Ha=(e,t,r)=>{var a=V(e,t);if(a!=null)return ee(e,"xAxis",a,r)},Va=(e,t,r)=>{var a=q(e,t);if(a!=null)return ee(e,"yAxis",a,r)},qa=G([Ga,ue],Ur),Ua=G([Ma,ue],qr),Za=G([qt,_e,Ya,Xa,Ha,Va,qa,te,Ut,kt,Ua,ue,Na],(e,t,r,a,i,n,o,l,c,s,d,v,f)=>{var{chartData:b,dataStartIndex:p,dataEndIndex:g}=c;if(!(v==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||a==null||i==null||n==null||s==null)){var{data:h}=v,m;if(h!=null&&h.length>0?m=h:m=b==null?void 0:b.slice(p,g+1),m!=null)return Ai({layout:l,barSettings:v,pos:o,parentViewBox:t,bandSize:s,xAxis:r,yAxis:a,xAxisTicks:i,yAxisTicks:n,stackedData:d,displayedData:m,offset:e,cells:f,dataStartIndex:p})}}),Ja=["index"];function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ae.apply(null,arguments)}function Qa(e,t){if(e==null)return{};var r,a,i=ei(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ei(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Pt=u.createContext(void 0),ti=e=>{var t=u.useContext(Pt);if(t!=null)return t.stackId;if(e!=null)return er(e)},ri=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),ai=e=>{var t=u.useContext(Pt);if(t!=null){var{stackId:r}=t;return"url(#".concat(ri(r,e),")")}},wt=e=>{var{index:t}=e,r=Qa(e,Ja),a=ai(t);return u.createElement(X,Ae({className:"recharts-bar-stack-layer",clipPath:a},r))},ii=["onMouseEnter","onMouseLeave","onClick"],ni=["value","background","tooltipPosition"],oi=["id"],li=["onMouseEnter","onClick","onMouseLeave"];function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},M.apply(null,arguments)}function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ye(Object(r),!0).forEach(function(a){si(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function si(e,t,r){return(t=ci(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ci(e){var t=ui(e,"string");return typeof t=="symbol"?t:t+""}function ui(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pe(e,t){if(e==null)return{};var r,a,i=di(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function di(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var vi=e=>{var{dataKey:t,name:r,fill:a,legendType:i,hide:n}=e;return[{inactive:n,dataKey:t,type:i,color:a,value:ut(r,t),payload:e}]},fi=u.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:a,fill:i,name:n,hide:o,unit:l,tooltipType:c,id:s}=e,d={dataDefinedOnItem:void 0,getPosition:nr,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ut(n,t),hide:o,type:c,color:i,unit:l,graphicalItemId:s}};return u.createElement(ir,{tooltipEntrySettings:d})});function pi(e){var t=B(vt),{data:r,dataKey:a,background:i,allOtherBarProps:n}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=n,s=pe(n,ii),d=ft(o,a,n.id),v=pt(l),f=mt(c,a,n.id);if(!i||r==null)return null;var b=at(i);return u.createElement(ce,{zIndex:Zr(i,se.barBackground)},r.map((p,g)=>{var{value:h,background:m,tooltipPosition:y}=p,P=pe(p,ni);if(!m)return null;var x=d(p,g),O=v(p,g),k=f(p,g),A=D(D(D(D(D({option:i,isActive:String(g)===t},P),{},{fill:"#eee"},m),b),Te(s,p,g)),{},{onMouseEnter:x,onMouseLeave:O,onClick:k,dataKey:a,index:g,className:"recharts-bar-background-rectangle"});return u.createElement(fe,M({key:"background-bar-".concat(g)},A))}))}function mi(e){var{showLabels:t,children:r,rects:a}=e,i=a==null?void 0:a.map(n=>{var o={x:n.x,y:n.y,width:n.width,lowerWidth:n.width,upperWidth:n.width,height:n.height};return D(D({},o),{},{value:n.value,payload:n.payload,parentViewBox:n.parentViewBox,viewBox:o,fill:n.fill})});return u.createElement(pr,{value:t?i:void 0},r)}function hi(e){var{shape:t,activeBar:r,baseProps:a,entry:i,index:n,dataKey:o}=e,l=B(vt),c=B(mr),s=r&&String(n)===l&&(c==null||o===c),d=s?r:t;return s?u.createElement(ce,{zIndex:se.activeBar},u.createElement(wt,{index:n},u.createElement(fe,M({},a,{name:String(a.name)},i,{isActive:s,option:d,index:n,dataKey:o})))):u.createElement(fe,M({},a,{name:String(a.name)},i,{isActive:s,option:d,index:n,dataKey:o}))}function gi(e){var{shape:t,baseProps:r,entry:a,index:i,dataKey:n}=e;return u.createElement(fe,M({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:i,dataKey:n}))}function yi(e){var t,{data:r,props:a}=e,i=(t=he(a))!==null&&t!==void 0?t:{},{id:n}=i,o=pe(i,oi),{shape:l,dataKey:c,activeBar:s}=a,{onMouseEnter:d,onClick:v,onMouseLeave:f}=a,b=pe(a,li),p=ft(d,c,n),g=pt(f),h=mt(v,c,n);return r?u.createElement(u.Fragment,null,r.map((m,y)=>u.createElement(wt,M({index:y,key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y),className:"recharts-bar-rectangle"},Te(b,m,y),{onMouseEnter:p(m,y),onMouseLeave:g(m,y),onClick:h(m,y)}),s?u.createElement(hi,{shape:l,activeBar:s,baseProps:o,entry:m,index:y,dataKey:c}):u.createElement(gi,{shape:l,baseProps:o,entry:m,index:y,dataKey:c})))):null}function xi(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:i,isAnimationActive:n,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:s,onAnimationStart:d}=t,v=r.current,f=dr(t,"recharts-bar-"),[b,p]=u.useState(!1),g=!b,h=u.useCallback(()=>{typeof s=="function"&&s(),p(!1)},[s]),m=u.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return u.createElement(mi,{showLabels:g,rects:a},u.createElement(vr,{animationId:f,begin:o,duration:l,isActive:n,easing:c,onAnimationEnd:h,onAnimationStart:m,key:f},y=>{var P=y===1?a:a==null?void 0:a.map((x,O)=>{var k=v&&v[O];if(k)return D(D({},x),{},{x:W(k.x,x.x,y),y:W(k.y,x.y,y),width:W(k.width,x.width,y),height:W(k.height,x.height,y)});if(i==="horizontal"){var A=W(0,x.height,y),I=W(x.stackedBarStart,x.y,y);return D(D({},x),{},{y:I,height:A})}var j=W(0,x.width,y),T=W(x.stackedBarStart,x.x,y);return D(D({},x),{},{width:j,x:T})});return y>0&&(r.current=P??null),P==null?null:u.createElement(X,null,u.createElement(yi,{props:t,data:P}))}),u.createElement(fr,{label:t.label}),t.children)}function bi(e){var t=u.useRef(null);return u.createElement(xi,{previousRectanglesRef:t,props:e})}var Ot=0,ki=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:dt(e,t)}};class Pi extends u.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:i,xAxisId:n,yAxisId:o,needClip:l,background:c,id:s}=this.props;if(t||r==null)return null;var d=F("recharts-bar",i),v=s;return u.createElement(X,{className:d,id:s},l&&u.createElement("defs",null,u.createElement(Ta,{clipPathId:v,xAxisId:n,yAxisId:o})),u.createElement(X,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(v,")"):void 0},u.createElement(pi,{data:r,dataKey:a,background:c,allOtherBarProps:this.props}),u.createElement(bi,this.props)))}}var wi={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Ot,xAxisId:0,yAxisId:0,zIndex:se.bar};function Oi(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:i,minPointSize:n,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:s,isAnimationActive:d}=e,{needClip:v}=bt(t,r),f=or(),b=ge(),p=lr(e.children,sr),g=B(y=>Za(y,e.id,b,p));if(f!=="vertical"&&f!=="horizontal")return null;var h,m=g==null?void 0:g[0];return m==null||m.height==null||m.width==null?h=0:h=f==="vertical"?m.height/2:m.width/2,u.createElement(Ia,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:ki,errorBarOffset:h},u.createElement(Pi,M({},e,{layout:f,needClip:v,data:g,xAxisId:t,yAxisId:r,hide:a,legendType:i,minPointSize:n,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:s,isAnimationActive:d})))}function Ai(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:i,bandSize:n,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:s,stackedData:d,displayedData:v,offset:f,cells:b,parentViewBox:p,dataStartIndex:g}=e,h=t==="horizontal"?l:o,m=d?h.scale.domain():null,y=cr({numericAxis:h}),P=h.scale.map(y);return v.map((x,O)=>{var k,A,I,j,T,re;if(d){var ae=d[O+g];if(ae==null)return null;k=ur(ae,m)}else k=dt(x,r),Array.isArray(k)||(k=[y,k]);var L=Da(a,Ot)(k[1],O);if(t==="horizontal"){var U,Z=l.scale.map(k[0]),K=l.scale.map(k[1]);if(Z==null||K==null)return null;A=Ne({axis:o,ticks:c,bandSize:n,offset:i.offset,entry:x,index:O}),I=(U=K??Z)!==null&&U!==void 0?U:void 0,j=i.size;var R=Z-K;if(T=hr(R)?0:R,re={x:A,y:f.top,width:j,height:f.height},Math.abs(L)>0&&Math.abs(T)<Math.abs(L)){var z=we(T||L)*(Math.abs(L)-Math.abs(T));I-=z,T+=z}}else{var N=o.scale.map(k[0]),J=o.scale.map(k[1]);if(N==null||J==null)return null;if(A=N,I=Ne({axis:l,ticks:s,bandSize:n,offset:i.offset,entry:x,index:O}),j=J-N,T=i.size,re={x:f.left,y:I,width:f.width,height:T},Math.abs(L)>0&&Math.abs(j)<Math.abs(L)){var $=we(j||L)*(Math.abs(L)-Math.abs(j));j+=$}}if(A==null||I==null||j==null||T==null)return null;var ye=D(D({},x),{},{stackedBarStart:P,x:A,y:I,width:j,height:T,value:d?k:k[1],payload:x,background:re,tooltipPosition:{x:A+j/2,y:I+T/2},parentViewBox:p},b&&b[O]&&b[O].props);return ye}).filter(Boolean)}function Si(e){var t=le(e,wi),r=ti(t.stackId),a=ge();return u.createElement(tr,{id:t.id,type:"bar"},i=>u.createElement(u.Fragment,null,u.createElement(rr,{legendPayload:vi(t)}),u.createElement(fi,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),u.createElement(ar,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),u.createElement(ce,{zIndex:t.zIndex},u.createElement(Oi,M({},t,{id:i})))))}var At=u.memo(Si,ct);At.displayName="Bar";var ji=["domain","range"],Ci=["domain","range"];function Xe(e,t){if(e==null)return{};var r,a,i=Ei(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ei(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function He(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function St(e,t){if(e===t)return!0;var{domain:r,range:a}=e,i=Xe(e,ji),{domain:n,range:o}=t,l=Xe(t,Ci);return!He(r,n)||!He(a,o)?!1:ct(i,l)}var Ii=["type"],Ti=["dangerouslySetInnerHTML","ticks","scale"],_i=["id","scale"];function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Se.apply(null,arguments)}function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ve(Object(r),!0).forEach(function(a){Bi(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Bi(e,t,r){return(t=Di(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Di(e){var t=Li(e,"string");return typeof t=="symbol"?t:t+""}function Li(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function je(e,t){if(e==null)return{};var r,a,i=zi(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zi(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Ri(e){var t=Be(),r=u.useRef(null),a=ht(),{type:i}=e,n=je(e,Ii),o=yt(a,"xAxis",i),l=u.useMemo(()=>{if(o!=null)return qe(qe({},n),{},{type:o})},[n,o]);return u.useLayoutEffect(()=>{l!=null&&(r.current===null?t(gr(l)):r.current!==l&&t(yr({prev:r.current,next:l})),r.current=l)},[l,t]),u.useLayoutEffect(()=>()=>{r.current&&(t(xr(r.current)),r.current=null)},[t]),null}var Ni=e=>{var{xAxisId:t,className:r}=e,a=B(_e),i=ge(),n="xAxis",o=B(m=>gt(m,n,t,i)),l=B(m=>br(m,t)),c=B(m=>kr(m,t)),s=B(m=>Pr(m,t));if(l==null||c==null||s==null)return null;var{dangerouslySetInnerHTML:d,ticks:v,scale:f}=e,b=je(e,Ti),{id:p,scale:g}=s,h=je(s,_i);return u.createElement(De,Se({},b,h,{x:c.x,y:c.y,width:l.width,height:l.height,className:F("recharts-".concat(n," ").concat(n),r),viewBox:a,ticks:o,axisType:n}))},$i={allowDataOverflow:C.allowDataOverflow,allowDecimals:C.allowDecimals,allowDuplicatedCategory:C.allowDuplicatedCategory,angle:C.angle,axisLine:Y.axisLine,height:C.height,hide:!1,includeHidden:C.includeHidden,interval:C.interval,label:!1,minTickGap:C.minTickGap,mirror:C.mirror,orientation:C.orientation,padding:C.padding,reversed:C.reversed,scale:C.scale,tick:C.tick,tickCount:C.tickCount,tickLine:Y.tickLine,tickSize:Y.tickSize,type:C.type,xAxisId:0},Mi=e=>{var t=le(e,$i);return u.createElement(u.Fragment,null,u.createElement(Ri,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),u.createElement(Ni,t))},jt=u.memo(Mi,St);jt.displayName="XAxis";var Ki=["type"],Wi=["dangerouslySetInnerHTML","ticks","scale"],Fi=["id","scale"];function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ce.apply(null,arguments)}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ue(Object(r),!0).forEach(function(a){Gi(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Gi(e,t,r){return(t=Yi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yi(e){var t=Xi(e,"string");return typeof t=="symbol"?t:t+""}function Xi(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ee(e,t){if(e==null)return{};var r,a,i=Hi(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Hi(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Vi(e){var t=Be(),r=u.useRef(null),a=ht(),{type:i}=e,n=Ee(e,Ki),o=yt(a,"yAxis",i),l=u.useMemo(()=>{if(o!=null)return Ze(Ze({},n),{},{type:o})},[o,n]);return u.useLayoutEffect(()=>{l!=null&&(r.current===null?t(wr(l)):r.current!==l&&t(Or({prev:r.current,next:l})),r.current=l)},[l,t]),u.useLayoutEffect(()=>()=>{r.current&&(t(Ar(r.current)),r.current=null)},[t]),null}function qi(e){var{yAxisId:t,className:r,width:a,label:i}=e,n=u.useRef(null),o=u.useRef(null),l=B(_e),c=ge(),s=Be(),d="yAxis",v=B(k=>Sr(k,t)),f=B(k=>jr(k,t)),b=B(k=>gt(k,d,t,c)),p=B(k=>Cr(k,t));if(u.useLayoutEffect(()=>{if(!(a!=="auto"||!v||Er(i)||u.isValidElement(i)||p==null)){var k=n.current;if(k){var A=k.getCalculatedWidth();Math.round(v.width)!==Math.round(A)&&s(Ir({id:t,width:A}))}}},[b,v,s,i,t,a,p]),v==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:h,scale:m}=e,y=Ee(e,Wi),{id:P,scale:x}=p,O=Ee(p,Fi);return u.createElement(De,Ce({},y,O,{ref:n,labelRef:o,x:f.x,y:f.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:v.width,height:v.height,className:F("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:b,axisType:d}))}var Ui={allowDataOverflow:E.allowDataOverflow,allowDecimals:E.allowDecimals,allowDuplicatedCategory:E.allowDuplicatedCategory,angle:E.angle,axisLine:Y.axisLine,hide:!1,includeHidden:E.includeHidden,interval:E.interval,label:!1,minTickGap:E.minTickGap,mirror:E.mirror,orientation:E.orientation,padding:E.padding,reversed:E.reversed,scale:E.scale,tick:E.tick,tickCount:E.tickCount,tickLine:Y.tickLine,tickSize:Y.tickSize,type:E.type,width:E.width,yAxisId:0},Zi=e=>{var t=le(e,Ui);return u.createElement(u.Fragment,null,u.createElement(Vi,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),u.createElement(qi,t))},Ct=u.memo(Zi,St);Ct.displayName="YAxis";function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ie.apply(null,arguments)}var Ji={top:5,right:5,bottom:5,left:5},Qi={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ji,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},en=u.forwardRef(function(t,r){var a,i=le(t.categoricalChartProps,Qi),{chartName:n,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:s}=t,d={chartName:n,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return u.createElement(Tr,{preloadedState:{options:d},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:n},u.createElement(_r,{chartData:s.data}),u.createElement(Br,{layout:i.layout,margin:i.margin}),u.createElement(Dr,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),u.createElement(Lr,Ie({},i,{ref:r})))}),tn=["axis","item"],rn=u.forwardRef((e,t)=>u.createElement(en,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tn,tooltipPayloadSearcher:zr,categoricalChartProps:e,ref:t}));const an={O:"OK",R:"Replicating",S:"Stuck",U:"Unknown"},nn={O:"success",R:"warning",S:"error",U:"neutral"},ve=e=>w.jsx(zt,{value:an[e.value],variant:nn[e.value],className:e.className});ve.__docgenInfo={description:"",methods:[],displayName:"LockStateBadge",props:{value:{required:!0,tsType:{name:"LockState"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const Et=e=>{window.open(`/rule/page/${e}`,"_blank")},on=e=>{const t=e.payload.value,r=t.substring(0,12),a=e.fill;return w.jsx("g",{onClick:()=>Et(t),className:"cursor-pointer",children:w.jsx(it,{...e,fill:a,children:r})})},ln=({active:e,payload:t,label:r})=>{if(e&&t&&t.length){const{locksOk:a,locksReplicating:i,locksStuck:n,name:o,scope:l,rseExpression:c}=t[0].payload;return w.jsxs(tt,{className:"p-3 space-y-2 text-neutral-900 dark:text-neutral-100",children:[w.jsxs("div",{className:"mb-2",children:[w.jsxs("div",{className:"flex space-x-2 items-center",children:[w.jsx(Lt,{}),w.jsx("span",{children:r})]}),w.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["For ",l,":",o]}),w.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["On ",c]})]}),w.jsxs("div",{children:[w.jsx(ve,{value:xe.OK}),": ",a]}),w.jsxs("div",{children:[w.jsx(ve,{value:xe.REPLICATING}),": ",i]}),w.jsxs("div",{children:[w.jsx(ve,{value:xe.STUCK}),": ",n]})]})}return null},sn=({rules:e})=>{const t=e.map(c=>{const s=c.locks_stuck_cnt+c.locks_replicating_cnt+c.locks_ok_cnt,d=c.locks_ok_cnt/s*100,v=c.locks_replicating_cnt/s*100,f=100-d-v;return{id:c.id,scope:c.scope,name:c.name,rseExpression:c.rse_expression,locksOkPercentage:d,locksOk:c.locks_ok_cnt,locksReplicatingPercentage:v,locksReplicating:c.locks_replicating_cnt,locksStuckPercentage:f,locksStuck:c.locks_stuck_cnt}}),{resolvedTheme:r}=Wr(),a=r==="dark",i=a?"#f1f5f9":"#0f172a",n=Nr(a),o={locksOkPercentage:{fill:$e.success,stroke:n},locksReplicatingPercentage:{fill:$r("base.warning",400,.8),stroke:n},locksStuckPercentage:{fill:$e.error,stroke:n}},l=c=>w.jsx(At,{dataKey:c,stackId:"locks",fill:o[c].fill,maxBarSize:35,stroke:o[c].stroke,strokeWidth:1});return w.jsx(Mr,{children:w.jsxs(rn,{layout:"vertical",data:t,onClick:c=>{var v;const s=c.activeIndex;if(s==null)return;const d=(v=t[s])==null?void 0:v.id;d&&Et(d)},children:[w.jsx(jt,{type:"number",domain:[0,100],ticks:[0,20,40,60,80,100],tickFormatter:c=>`${c}%`,stroke:i}),w.jsx(Ct,{dataKey:"id",type:"category",tick:w.jsx(on,{fill:i}),width:120,stroke:i}),w.jsx(Kr,{content:w.jsx(ln,{}),cursor:{fill:n}}),l("locksOkPercentage"),l("locksReplicatingPercentage"),l("locksStuckPercentage")]})})},cn=[{label:"OK",color:"bg-base-success-500"},{label:"Replicating",color:"bg-base-warning-400"},{label:"Error",color:"bg-base-error-500"}],Le=({rules:e,isLoading:t,errorMessage:r})=>{const a=e==null?void 0:e.filter(o=>o.locks_stuck_cnt+o.locks_replicating_cnt+o.locks_ok_cnt>0).sort((o,l)=>{const c=Me(o),s=Me(l);if(c!==s)return s-c;const d=new Date(o.created_at);return new Date(l.created_at).getTime()-d.getTime()}).slice(0,10),i=a&&a.length!==0,n=!i&&!r&&!t;return w.jsxs(tt,{className:"w-full p-5 overflow-x-auto",children:[w.jsx(Bt,{text:"Locks of latest rules",size:"md"}),w.jsxs("div",{className:"flex min-w-[700px] h-[500px] items-center justify-center my-5",children:[n&&w.jsx(Rt,{children:w.jsx("span",{children:"No rules to show"})}),r&&w.jsx(Nt,{children:w.jsx("span",{children:r})}),i&&w.jsx(sn,{rules:a}),t&&w.jsx(Dt,{})]}),i&&w.jsx(Rr,{legendOptions:cn})]})};Le.__docgenInfo={description:"",methods:[],displayName:"TopRulesWidget",props:{rules:{required:!1,tsType:{name:"Array",elements:[{name:"RuleViewModel"}],raw:"RuleViewModel[]"},description:""},isLoading:{required:!0,tsType:{name:"boolean"},description:""},errorMessage:{required:!1,tsType:{name:"string"},description:""}}};const Rn={title:"Components/Pages/Dashboard/Widgets",component:Le,parameters:{docs:{disable:!0}}},un=e=>w.jsx(Le,{...e}),ie=un.bind({});ie.args={rules:Array.from({length:100},_t),isLoading:!1};var Je,Qe,et;ie.parameters={...ie.parameters,docs:{...(Je=ie.parameters)==null?void 0:Je.docs,source:{originalSource:"args => <TopRulesWidget {...args} />",...(et=(Qe=ie.parameters)==null?void 0:Qe.docs)==null?void 0:et.source}}};const Nn=["TopRules"];export{ie as TopRules,Nn as __namedExportsOrder,Rn as default};
