import{r as d,j as o}from"./iframe-CbZ9RuD1.js";import{P as R,u as z,a as S,c as N,b as G}from"./index-YEY9OEgd.js";import{u as K}from"./index-jI6H8jZ4.js";import{u as U}from"./index-CzukIY3d.js";import{P as X}from"./index-CI9TgWTM.js";import{e as $,b as J}from"./index.esm-Bh9o6rCW.js";import{c as w}from"./utils-DsKtx5Xo.js";var y="Checkbox",[Q]=G(y),[V,P]=Q(y);function W(t){const{__scopeCheckbox:r,checked:a,children:l,defaultChecked:s,disabled:e,form:f,name:p,onCheckedChange:i,required:m,value:k="on",internal_do_not_use_render:u}=t,[b,v]=z({prop:a,defaultProp:s??!1,onChange:i,caller:y}),[C,x]=d.useState(null),[g,n]=d.useState(null),c=d.useRef(!1),_=C?!!f||!!C.closest("form"):!0,E={checked:b,disabled:e,setChecked:v,control:C,setControl:x,name:p,form:f,value:k,hasConsumerStoppedPropagationRef:c,required:m,defaultChecked:h(s)?!1:s,isFormControl:_,bubbleInput:g,setBubbleInput:n};return o.jsx(V,{scope:r,...E,children:Y(u)?u(E):l})}var B="CheckboxTrigger",M=d.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:a,...l},s)=>{const{control:e,value:f,disabled:p,checked:i,required:m,setControl:k,setChecked:u,hasConsumerStoppedPropagationRef:b,isFormControl:v,bubbleInput:C}=P(B,t),x=S(s,k),g=d.useRef(i);return d.useEffect(()=>{const n=e==null?void 0:e.form;if(n){const c=()=>u(g.current);return n.addEventListener("reset",c),()=>n.removeEventListener("reset",c)}},[e,u]),o.jsx(R.button,{type:"button",role:"checkbox","aria-checked":h(i)?"mixed":i,"aria-required":m,"data-state":D(i),"data-disabled":p?"":void 0,disabled:p,value:f,...l,ref:x,onKeyDown:N(r,n=>{n.key==="Enter"&&n.preventDefault()}),onClick:N(a,n=>{u(c=>h(c)?!0:!c),C&&v&&(b.current=n.isPropagationStopped(),b.current||n.stopPropagation())})})});M.displayName=B;var I=d.forwardRef((t,r)=>{const{__scopeCheckbox:a,name:l,checked:s,defaultChecked:e,required:f,disabled:p,value:i,onCheckedChange:m,form:k,...u}=t;return o.jsx(W,{__scopeCheckbox:a,checked:s,defaultChecked:e,disabled:p,required:f,onCheckedChange:m,name:l,form:k,value:i,internal_do_not_use_render:({isFormControl:b})=>o.jsxs(o.Fragment,{children:[o.jsx(M,{...u,ref:r,__scopeCheckbox:a}),b&&o.jsx(H,{__scopeCheckbox:a})]})})});I.displayName=y;var T="CheckboxIndicator",q=d.forwardRef((t,r)=>{const{__scopeCheckbox:a,forceMount:l,...s}=t,e=P(T,a);return o.jsx(X,{present:l||h(e.checked)||e.checked===!0,children:o.jsx(R.span,{"data-state":D(e.checked),"data-disabled":e.disabled?"":void 0,...s,ref:r,style:{pointerEvents:"none",...t.style}})})});q.displayName=T;var A="CheckboxBubbleInput",H=d.forwardRef(({__scopeCheckbox:t,...r},a)=>{const{control:l,hasConsumerStoppedPropagationRef:s,checked:e,defaultChecked:f,required:p,disabled:i,name:m,value:k,form:u,bubbleInput:b,setBubbleInput:v}=P(A,t),C=S(a,v),x=K(e),g=U(l);d.useEffect(()=>{const c=b;if(!c)return;const _=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(_,"checked").set,L=!s.current;if(x!==e&&j){const O=new Event("click",{bubbles:L});c.indeterminate=h(e),j.call(c,h(e)?!1:e),c.dispatchEvent(O)}},[b,x,e,s]);const n=d.useRef(h(e)?!1:e);return o.jsx(R.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??n.current,required:p,disabled:i,name:m,value:k,form:u,...r,tabIndex:-1,ref:C,style:{...r.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});H.displayName=A;function Y(t){return typeof t=="function"}function h(t){return t==="indeterminate"}function D(t){return h(t)?"indeterminate":t?"checked":"unchecked"}const F=d.forwardRef(({className:t,...r},a)=>o.jsx(I,{ref:a,className:w("peer h-5 w-5 shrink-0 rounded border","border-neutral-900 dark:border-neutral-100 border-opacity-20 dark:border-opacity-20","bg-neutral-200 dark:bg-neutral-900","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-base-success-600 data-[state=checked]:border-base-success-600","data-[state=checked]:bg-opacity-80 dark:data-[state=checked]:bg-opacity-60","data-[state=indeterminate]:bg-brand-600 data-[state=indeterminate]:border-brand-600","data-[state=indeterminate]:bg-opacity-80 dark:data-[state=indeterminate]:bg-opacity-60","transition-colors",t),...r,children:o.jsxs(q,{className:w("flex items-center justify-center text-neutral-100"),children:[r.checked==="indeterminate"&&o.jsx($,{className:"h-4 w-4"}),r.checked===!0&&o.jsx(J,{className:"h-4 w-4"})]})}));F.displayName=I.displayName;F.__docgenInfo={description:"",methods:[]};export{F as C};
