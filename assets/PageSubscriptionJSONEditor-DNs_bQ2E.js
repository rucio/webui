import{r as o,j as e}from"./iframe-CbZ9RuD1.js";import{B as i}from"./button-CTUPBRYB.js";import{A as N}from"./AreaInput-B7avv_aP.js";import{P as g}from"./index.esm-Bh9o6rCW.js";import{C as w}from"./Collapsible-DMgsBerS.js";import{t as l}from"./tw-merge-Ds6tgvmq.js";const y=({defaultString:s,submit:b,schemaDescription:d,...h})=>{const{className:f,...k}=h,[c,t]=o.useState(s);o.useEffect(()=>{t(s)},[s]);const[n,r]=o.useState(""),[m,j]=o.useState(!1),p=(s??"").split(/\n/).length;return e.jsxs("div",{className:l("flex flex-col space-y-1",f??""),children:[e.jsx(N,{content:c,rows:p<16?p:16,className:"",onChange:a=>{t(a.target.value),r("")}}),e.jsxs("div",{className:"flex flex-row justify-between items-baseline",children:[e.jsx("div",{children:n===null?e.jsx("span",{className:l("w-fit px-2.5 py-0.5","bg-base-success-100 text-base-success-800 dark:bg-base-success-900 dark:text-base-success-300"),children:"JSON is valid"}):e.jsx("span",{className:l(n===""?"hidden":"block","w-fit px-2.5 py-0.5 rounded","bg-base-error-100 text-base-error-800 dark:bg-base-error-900 dark:text-base-error-300"),children:n})}),e.jsxs("div",{className:"flex flex-row space-x-2",children:[e.jsx(i,{size:"icon","aria-label":"Show schema",onClick:a=>{j(!m)},children:e.jsx(g,{className:"h-5 w-5"})}),e.jsx(i,{variant:"error",className:"w-28",onClick:a=>{t(s),r("")},children:"Reset"}),e.jsx(i,{variant:"neutral",className:"w-28",onClick:a=>{try{const u=JSON.parse(c),x=JSON.stringify(u,null,2);r(x===s?"JSON unchanged":null),t(x)}catch{r("Syntax Error")}},children:"Check"}),e.jsx(i,{variant:"success",type:"submit",disabled:n!==null,className:"w-28",onClick:a=>{b(c)},children:"Commit"})]})]}),d&&e.jsxs(w,{showIf:m,children:[e.jsx("h4",{className:"text-neutral-800 dark:text-neutral-100 font-bold",children:"Help"}),e.jsx("div",{className:"mt-2 p-4 bg-base-neutral-100 dark:bg-base-neutral-800 rounded",children:d})]})]})};y.__docgenInfo={description:"",methods:[],displayName:"PageSubscriptionJSONEditor",props:{defaultString:{required:!0,tsType:{name:"string"},description:""},submit:{required:!0,tsType:{name:"signature",type:"function",raw:"(json: string) => void",signature:{arguments:[{type:{name:"string"},name:"json"}],return:{name:"void"}}},description:""},schemaDescription:{required:!1,tsType:{name:"string"},description:""}}};export{y as P};
