import{j as s,r as D}from"./iframe-CbZ9RuD1.js";import{j as y,g as L}from"./table-fixtures-VRmzXp_h.js";import{D as xe,b as x,c as Ne,S as ve,u as Le,a as Pe,g as o,d as De,e as we,f as ke}from"./streaming-handlers-CgBbc_-g.js";import{b as Ie,a as je,C as Ve}from"./badge-cell-fL0iak6c.js";import{C as N,c as v,R as Ce}from"./RSESearchPanel-BgaHAOar.js";import{B as _e}from"./Badge-ClFuoEMl.js";import{b as ge}from"./rucio-BBdC5vD1.js";import{g as r}from"./index-vMKhJVm3.js";import{g as Ae}from"./error-handlers-BDhlL6Zy.js";import{T as Me}from"./ToastedTemplate-BGCvPkR0.js";import"./preload-helper-Dp1pzeXC.js";import"./index.esm-Bh9o6rCW.js";import"./iconBase-BDSQWw1B.js";import"./Skeleton-DWlDUj5U.js";import"./index-DSpI4bVK.js";import"./utils-DsKtx5Xo.js";import"./tw-merge-Ds6tgvmq.js";import"./index-BVAf5DAB.js";import"./index-CY5-pjTU.js";import"./LoadingSpinner-DNn-SVom.js";import"./useToast-YXabfrDf.js";import"./list-toasts-CqaY5F_J.js";import"./checkbox-Dm_TBBEE.js";import"./index-YEY9OEgd.js";import"./index-jI6H8jZ4.js";import"./index-CzukIY3d.js";import"./index-CI9TgWTM.js";import"./input-DudEH1ht.js";import"./SearchButton-CIUEaMGJ.js";import"./button-CTUPBRYB.js";import"./Toaster-CU-bfwMZ.js";import"./index-B5AF9blO.js";import"./index-Dwd-kS-d.js";const We={DISK:"success",TAPE:"info",UNKNOWN:"warning"},Se=e=>s.jsx(_e,{value:e.value,variant:We[e.value],className:e.className});Se.__docgenInfo={description:"",methods:[],displayName:"RSETypeBadge",props:{value:{required:!0,tsType:{name:"RSEType"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const qe=e=>s.jsx(Ve,{href:`/rse/page/${e.value}`,children:e.value}),Te=e=>{const h=D.useRef(null),[n]=D.useState([{headerName:"Name",field:"name",flex:4,minWidth:250,pinned:"left",cellRenderer:qe,filter:!0,filterParams:xe,sort:"asc"},{headerName:"Type",field:"rse_type",flex:1,minWidth:125,cellStyle:je,cellRenderer:Se,cellRendererParams:{className:Ie},filter:!0,filterParams:Ne(Object.values(ge))},{headerName:"Volatile",field:"volatile",flex:1,minWidth:125,cellStyle:v,cellRenderer:N,filter:!0,filterParams:x},{headerName:"Deterministic",field:"deterministic",flex:1,minWidth:175,cellStyle:v,cellRenderer:N,filter:!0,filterParams:x},{headerName:"Staging",field:"staging_area",flex:1,minWidth:125,cellStyle:v,cellRenderer:N,filter:!0,filterParams:x}]);return s.jsx(ve,{columnDefs:n,tableRef:h,...e})};Te.__docgenInfo={description:"",methods:[],displayName:"ListRSETable",props:{streamingHook:{required:!0,tsType:{name:"UseStreamReader",elements:[{name:"RSEViewModel"}],raw:"UseStreamReader<RSEViewModel>"},description:""},onGridReady:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: GridReadyEvent) => void",signature:{arguments:[{type:{name:"GridReadyEvent"},name:"event"}],return:{name:"void"}}},description:""}}};const P=e=>{const{onGridReady:h,streamingHook:n,startStreaming:Ee,stopStreaming:Re,gridApi:ye}=Le(e.initialData),he=be=>{Ee(`/api/feature/list-rses?rseExpression=${be}`)};return s.jsxs("div",{className:"flex flex-col space-y-6 w-full",children:[s.jsx("div",{className:"rounded-lg bg-neutral-0 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 shadow-sm p-6",children:s.jsx(Ce,{onSearch:he,stopStreaming:Re,isRunning:n.status===Pe.RUNNING,initialExpression:e.initialExpression,autoSearch:e.autoSearch,gridApi:ye||void 0})}),s.jsx("div",{className:"rounded-lg bg-neutral-0 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 shadow-sm overflow-hidden h-[calc(100vh-20rem)]",children:s.jsx(Te,{streamingHook:n,onGridReady:h})})]})};P.__docgenInfo={description:"",methods:[],displayName:"ListRSE",props:{initialExpression:{required:!1,tsType:{name:"string"},description:""},initialData:{required:!1,tsType:{name:"Array",elements:[{name:"RSEViewModel"}],raw:"RSEViewModel[]"},description:""},autoSearch:{required:!1,tsType:{name:"boolean"},description:""}}};const ha={title:"Components/Pages/RSE/List",component:P,parameters:{docs:{disable:!0}}},a=e=>s.jsx(Me,{children:s.jsx(P,{...e})}),Be=Array.from({length:20},y),b=Array.from({length:140},y),fe=Array.from({length:1e5},y),t="/api/feature/list-rses",l=a.bind({});l.args={initialData:b};const d=a.bind({});d.decorators=[r([o(t,{data:b,delay:1})])];const m=a.bind({});m.decorators=[r([o(t,{data:b,delay:200})])];const c=a.bind({});c.decorators=[r([o(t,{data:fe,delay:1})])];const p=a.bind({});p.decorators=[r([o(t,{data:fe})])];const i=a.bind({});i.args={initialExpression:"test"};i.decorators=[r([o(t,{data:Be,isRequestValid:e=>new URL(e.url).searchParams.get("rseExpression")==="test"})])];const u=a.bind({});u.decorators=[r([Ae(t,{statusCode:404,message:"No RSEs found."})])];const g=a.bind({});g.decorators=[r([o(t,{data:Array.from({length:50},L),delay:10})])];const S=a.bind({});S.decorators=[r([o(t,{data:[...Array.from({length:20},L),...Array.from({length:30},y)]})])];const T=a.bind({});T.decorators=[r([De(t)])];const f=a.bind({});f.decorators=[r([we(t,Array.from({length:5},y))])];const E=a.bind({});E.decorators=[r([ke(t,{data:b})])];const Fe={deterministic:!1,id:"",name:"",rse_type:ge.UNKNOWN,staging_area:!1,volatile:!1,...L()},R=a.bind({});R.args={initialData:Array.from({length:20},()=>Fe)};var w,k,I;l.parameters={...l.parameters,docs:{...(w=l.parameters)==null?void 0:w.docs,source:{originalSource:`args => <ToastedTemplate>
        <ListRSE {...args} />
    </ToastedTemplate>`,...(I=(k=l.parameters)==null?void 0:k.docs)==null?void 0:I.source}}};var j,V,C;d.parameters={...d.parameters,docs:{...(j=d.parameters)==null?void 0:j.docs,source:{originalSource:`args => <ToastedTemplate>
        <ListRSE {...args} />
    </ToastedTemplate>`,...(C=(V=d.parameters)==null?void 0:V.docs)==null?void 0:C.source}}};var _,A,M;m.parameters={...m.parameters,docs:{...(_=m.parameters)==null?void 0:_.docs,source:{originalSource:`args => <ToastedTemplate>
        <ListRSE {...args} />
    </ToastedTemplate>`,...(M=(A=m.parameters)==null?void 0:A.docs)==null?void 0:M.source}}};var W,q,B;c.parameters={...c.parameters,docs:{...(W=c.parameters)==null?void 0:W.docs,source:{originalSource:`args => <ToastedTemplate>
        <ListRSE {...args} />
    </ToastedTemplate>`,...(B=(q=c.parameters)==null?void 0:q.docs)==null?void 0:B.source}}};var F,U,G;p.parameters={...p.parameters,docs:{...(F=p.parameters)==null?void 0:F.docs,source:{originalSource:`args => <ToastedTemplate>
        <ListRSE {...args} />
    </ToastedTemplate>`,...(G=(U=p.parameters)==null?void 0:U.docs)==null?void 0:G.source}}};var H,O,K;i.parameters={...i.parameters,docs:{...(H=i.parameters)==null?void 0:H.docs,source:{originalSource:`args => <ToastedTemplate>
        <ListRSE {...args} />
    </ToastedTemplate>`,...(K=(O=i.parameters)==null?void 0:O.docs)==null?void 0:K.source}}};var $,z,J;u.parameters={...u.parameters,docs:{...($=u.parameters)==null?void 0:$.docs,source:{originalSource:`args => <ToastedTemplate>
        <ListRSE {...args} />
    </ToastedTemplate>`,...(J=(z=u.parameters)==null?void 0:z.docs)==null?void 0:J.source}}};var Q,X,Y;g.parameters={...g.parameters,docs:{...(Q=g.parameters)==null?void 0:Q.docs,source:{originalSource:`args => <ToastedTemplate>
        <ListRSE {...args} />
    </ToastedTemplate>`,...(Y=(X=g.parameters)==null?void 0:X.docs)==null?void 0:Y.source}}};var Z,ee,ae;S.parameters={...S.parameters,docs:{...(Z=S.parameters)==null?void 0:Z.docs,source:{originalSource:`args => <ToastedTemplate>
        <ListRSE {...args} />
    </ToastedTemplate>`,...(ae=(ee=S.parameters)==null?void 0:ee.docs)==null?void 0:ae.source}}};var re,te,se;T.parameters={...T.parameters,docs:{...(re=T.parameters)==null?void 0:re.docs,source:{originalSource:`args => <ToastedTemplate>
        <ListRSE {...args} />
    </ToastedTemplate>`,...(se=(te=T.parameters)==null?void 0:te.docs)==null?void 0:se.source}}};var oe,ie,ne;f.parameters={...f.parameters,docs:{...(oe=f.parameters)==null?void 0:oe.docs,source:{originalSource:`args => <ToastedTemplate>
        <ListRSE {...args} />
    </ToastedTemplate>`,...(ne=(ie=f.parameters)==null?void 0:ie.docs)==null?void 0:ne.source}}};var le,de,me;E.parameters={...E.parameters,docs:{...(le=E.parameters)==null?void 0:le.docs,source:{originalSource:`args => <ToastedTemplate>
        <ListRSE {...args} />
    </ToastedTemplate>`,...(me=(de=E.parameters)==null?void 0:de.docs)==null?void 0:me.source}}};var ce,pe,ue;R.parameters={...R.parameters,docs:{...(ce=R.parameters)==null?void 0:ce.docs,source:{originalSource:`args => <ToastedTemplate>
        <ListRSE {...args} />
    </ToastedTemplate>`,...(ue=(pe=R.parameters)==null?void 0:pe.docs)==null?void 0:ue.source}}};const ba=["InitialDataNoEndpoint","RegularStreaming","SlowStreaming","HugeStreaming","InstantStreaming","InitialValidatedExpression","NotFound","NoValidData","SomeInvalidData","FullParsingError","PartialParsingError","PartialStreaming","BadInitialData"];export{R as BadInitialData,T as FullParsingError,c as HugeStreaming,l as InitialDataNoEndpoint,i as InitialValidatedExpression,p as InstantStreaming,g as NoValidData,u as NotFound,f as PartialParsingError,E as PartialStreaming,d as RegularStreaming,m as SlowStreaming,S as SomeInvalidData,ba as __namedExportsOrder,ha as default};
