import{r as i}from"./iframe-CbZ9RuD1.js";function h({title:r,titleId:t,...e},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},e),r?i.createElement("title",{id:t},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const L=i.forwardRef(h);function E({title:r,titleId:t,...e},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},e),r?i.createElement("title",{id:t},r):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const I=i.forwardRef(E);var o=(function(r){return r.DID="DID",r.DID_LIST="DID_LIST",r.RULE="RULE",r.RULE_LIST="RULE_LIST",r.RSE="RSE",r.RSE_LIST="RSE_LIST",r})({});const x="rucio_hotbar_cards",u=9;function w(r){try{const e=new URL(r,window.location.origin).pathname;return e.includes("/did/list")?o.DID_LIST:e.includes("/did/page/")?o.DID:e.includes("/rule/list")?o.RULE_LIST:e.includes("/rule/page/")?o.RULE:e.includes("/rse/list")?o.RSE_LIST:e.includes("/rse/page/")?o.RSE:o.DID}catch{return o.DID}}function m(r){try{return new URL(r,window.location.origin).hostname===window.location.hostname}catch{return!1}}function S(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r==="x"?t:t&3|8).toString(16)})}function c(){try{const r=localStorage.getItem(x);if(!r)return[];const t=JSON.parse(r);return Array.isArray(t)?t:[]}catch(r){return console.error("Error reading HotBar cards from storage:",r),[]}}function l(r){try{localStorage.setItem(x,JSON.stringify(r))}catch(t){throw console.error("Error saving HotBar cards to storage:",t),new Error("Failed to save bookmarks")}}function R(r){var a;const t=c();if(t.length>=u)throw new Error(`Maximum ${u} bookmarks allowed`);if(!m(r.url))throw new Error("URL must be from the same host");const e=new Date().toISOString(),n={id:S(),title:r.title.trim(),description:(a=r.description)==null?void 0:a.trim(),url:r.url,type:w(r.url),created_at:e,updated_at:e},s=[...t,n];return l(s),n}function D(r,t){var d,f;const e=c(),n=e.findIndex(g=>g.id===r);if(n===-1)throw new Error("Bookmark not found");const s=e[n];if(t.url&&!m(t.url))throw new Error("URL must be from the same host");const a={...s,title:((d=t.title)==null?void 0:d.trim())??s.title,description:((f=t.description)==null?void 0:f.trim())??s.description,url:t.url??s.url,type:t.url?w(t.url):s.type,updated_at:new Date().toISOString()};return e[n]=a,l(e),a}function k(r){const t=c(),e=t.filter(n=>n.id!==r);if(e.length===t.length)throw new Error("Bookmark not found");l(e)}function b(){return c().length>=u}function _(){return c().length}export{I as F,o as H,L as a,m as b,_ as c,b as d,k as e,R as f,c as g,w as i,D as u};
