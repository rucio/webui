import{r,u as z,j as e}from"./iframe-CbZ9RuD1.js";import{K as L}from"./KeyValueWrapper-p5ZbVku4.js";import{H as T}from"./Heading-BBK5GD02.js";import{B as j}from"./button-CTUPBRYB.js";import{H as u,i as K,b as V,g as Z,c as G,d as E,F as R,a as X,e as J,u as Q,f as ee}from"./hotbar-storage-CFH6d_ip.js";import{R as te,P as re,O as ae,C as se,T as ne,a as S}from"./index--6AZhPao.js";import{I as D,T as oe}from"./input-DudEH1ht.js";import{F as ie}from"./XMarkIcon-Co96hGar.js";import{u as de}from"./useToast-YXabfrDf.js";import"./preload-helper-Dp1pzeXC.js";import"./utils-DsKtx5Xo.js";import"./tw-merge-Ds6tgvmq.js";import"./index-DSpI4bVK.js";import"./list-toasts-CqaY5F_J.js";import"./index.esm-Bh9o6rCW.js";import"./iconBase-BDSQWw1B.js";import"./index-YEY9OEgd.js";import"./index-BVAf5DAB.js";import"./index-_REj2qAT.js";import"./index-Dwd-kS-d.js";import"./Combination-C2wgG2I7.js";import"./index-CI9TgWTM.js";function le({title:t,titleId:n,...a},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const ce=r.forwardRef(le);function ue({title:t,titleId:n,...a},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const me=r.forwardRef(ue);function pe({title:t,titleId:n,...a},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const be=r.forwardRef(pe);function ge(t){switch(t){case u.DID:case u.DID_LIST:return"bg-base-info-100 text-base-info-900 dark:bg-base-info-900/20 dark:text-base-info-100";case u.RULE:case u.RULE_LIST:return"bg-base-success-100 text-base-success-900 dark:bg-base-success-900/20 dark:text-base-success-100";case u.RSE:case u.RSE_LIST:return"bg-base-warning-100 text-base-warning-900 dark:bg-base-warning-900/20 dark:text-base-warning-100";default:return"bg-neutral-100 text-neutral-900 dark:bg-neutral-800 dark:text-neutral-100"}}function xe(t){return t.replace(/_/g," ")}function A(t){try{return new Date(t).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}catch{return""}}const M=({card:t,onEdit:n,onDelete:a,onCopyLink:l})=>{const m=z(),p=()=>{m.push(t.url)},b=o=>{o.stopPropagation(),n(t)},g=o=>{o.stopPropagation(),a(t.id)},s=o=>{o.stopPropagation();const i=`${window.location.origin}${t.url}`;l(i)};return e.jsxs("div",{onClick:p,className:" relative bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-all duration-150 cursor-pointer hover:bg-neutral-200 dark:hover:bg-neutral-700 focus-within:ring-2 focus-within:ring-brand-500 group ",role:"button",tabIndex:0,onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),p())},children:[e.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-150",children:[e.jsx("button",{onClick:s,className:" p-1.5 bg-neutral-0 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded hover:bg-base-info-50 dark:hover:bg-base-info-900/20 hover:border-base-info-500 focus:outline-none focus:ring-2 focus:ring-base-info-500 transition-colors duration-150 ","aria-label":"Copy link to clipboard",children:e.jsx(me,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-400"})}),e.jsx("button",{onClick:b,className:" p-1.5 bg-neutral-0 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded hover:bg-brand-50 dark:hover:bg-brand-900/20 hover:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-500 transition-colors duration-150 ","aria-label":"Edit bookmark",children:e.jsx(ce,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-400"})}),e.jsx("button",{onClick:g,className:" p-1.5 bg-neutral-0 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded hover:bg-base-error-50 dark:hover:bg-base-error-900/20 hover:border-base-error-500 focus:outline-none focus:ring-2 focus:ring-base-error-500 transition-colors duration-150 ","aria-label":"Delete bookmark",children:e.jsx(be,{className:"w-4 h-4 text-neutral-600 dark:text-neutral-400"})})]}),e.jsx("div",{className:"mb-3",children:e.jsx("span",{className:`
                    inline-block
                    px-2 py-1
                    rounded
                    text-xs font-medium
                    ${ge(t.type)}
                `,children:xe(t.type)})}),e.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100 mb-2 pr-16",children:t.title}),t.description&&e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-3 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-neutral-500 dark:text-neutral-500 mt-4 pt-3 border-t border-neutral-200 dark:border-neutral-700",children:[e.jsxs("span",{children:["Created: ",A(t.created_at)]}),t.created_at!==t.updated_at&&e.jsxs("span",{children:["Updated: ",A(t.updated_at)]})]})]})};M.__docgenInfo={description:"",methods:[],displayName:"HotBarCard",props:{card:{required:!0,tsType:{name:"HotBarCardType"},description:""},onEdit:{required:!0,tsType:{name:"signature",type:"function",raw:"(card: HotBarCardType) => void",signature:{arguments:[{type:{name:"HotBarCardType"},name:"card"}],return:{name:"void"}}},description:""},onDelete:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},onCopyLink:{required:!0,tsType:{name:"signature",type:"function",raw:"(url: string) => void",signature:{arguments:[{type:{name:"string"},name:"url"}],return:{name:"void"}}},description:""}}};function ke(t){switch(t){case u.DID:case u.DID_LIST:return"bg-base-info-100 text-base-info-900 dark:bg-base-info-900/20 dark:text-base-info-100";case u.RULE:case u.RULE_LIST:return"bg-base-success-100 text-base-success-900 dark:bg-base-success-900/20 dark:text-base-success-100";case u.RSE:case u.RSE_LIST:return"bg-base-warning-100 text-base-warning-900 dark:bg-base-warning-900/20 dark:text-base-warning-100";default:return"bg-neutral-100 text-neutral-900 dark:bg-neutral-800 dark:text-neutral-100"}}function fe(t){return t.replace(/_/g," ")}const P=({open:t,onOpenChange:n,card:a,onSave:l})=>{const[m,p]=r.useState(""),[b,g]=r.useState(""),[s,o]=r.useState(""),[i,x]=r.useState({}),v=!!a,k=s?K(s):null;r.useEffect(()=>{t&&(p((a==null?void 0:a.title)||""),g((a==null?void 0:a.description)||""),o((a==null?void 0:a.url)||""),x({}))},[t,a]);const w=()=>{const d={};return m.trim()||(d.title="Title is required"),s.trim()?V(s)||(d.url="URL must be from the same host"):d.url="URL is required",x(d),Object.keys(d).length===0},C=d=>{d.preventDefault(),w()&&(l({title:m.trim(),description:b.trim()||void 0,url:s.trim()}),n(!1))};return e.jsx(te,{open:t,onOpenChange:n,children:e.jsxs(re,{children:[e.jsx(ae,{className:"fixed inset-0 bg-neutral-900/50 dark:bg-neutral-900/80 z-50"}),e.jsxs(se,{className:" fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-neutral-0 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg shadow-lg w-full max-w-md p-6 z-50 focus:outline-none ",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(ne,{className:"text-2xl font-semibold text-neutral-900 dark:text-neutral-100",children:v?"Edit Bookmark":"Add Bookmark"}),e.jsx(S,{asChild:!0,children:e.jsx("button",{className:" p-1 rounded hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-brand-500 transition-colors duration-150 ","aria-label":"Close",children:e.jsx(ie,{className:"w-6 h-6 text-neutral-600 dark:text-neutral-400"})})})]}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:["Title ",e.jsx("span",{className:"text-base-error-600",children:"*"})]}),e.jsx(D,{id:"title",value:m,onChange:d=>{p(d.target.value),i.title&&x({...i,title:void 0})},placeholder:"e.g., My Important Dataset",className:i.title?"border-base-error-500":""}),i.title&&e.jsx("p",{className:"mt-1 text-sm text-base-error-600 dark:text-base-error-400",children:i.title})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:"Description (optional)"}),e.jsx(oe,{id:"description",value:b,onChange:d=>g(d.target.value),placeholder:"Add a short description...",rows:3})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"url",className:"block text-sm font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:["URL ",e.jsx("span",{className:"text-base-error-600",children:"*"})]}),e.jsx(D,{id:"url",type:"url",value:s,onChange:d=>{o(d.target.value),i.url&&x({...i,url:void 0})},placeholder:"/did/page/scope:name",className:i.url?"border-base-error-500":""}),i.url&&e.jsx("p",{className:"mt-1 text-sm text-base-error-600 dark:text-base-error-400",children:i.url})]}),k&&e.jsxs("div",{children:[e.jsx("div",{className:"block text-sm font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:"Type (auto-detected)"}),e.jsx("span",{className:`
                                    inline-block
                                    px-3 py-1.5
                                    rounded
                                    text-sm font-medium
                                    ${ke(k)}
                                `,children:fe(k)})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[e.jsx(S,{asChild:!0,children:e.jsx(j,{variant:"neutral",type:"button",children:"Cancel"})}),e.jsx(j,{variant:"default",type:"submit",children:v?"Save Changes":"Add Bookmark"})]})]})]})]})})};P.__docgenInfo={description:"",methods:[],displayName:"AddEditCardDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},card:{required:!1,tsType:{name:"union",raw:"HotBarCard | null",elements:[{name:"HotBarCard"},{name:"null"}]},description:""},onSave:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: { title: string; description?: string; url: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ title: string; description?: string; url: string }",signature:{properties:[{key:"title",value:{name:"string",required:!0}},{key:"description",value:{name:"string",required:!1}},{key:"url",value:{name:"string",required:!0}}]}},name:"data"}],return:{name:"void"}}},description:""}}};const N=9,Y=()=>{const[t,n]=r.useState([]),[a,l]=r.useState(!1),[m,p]=r.useState(null),[b,g]=r.useState(!1),{toast:s}=de();r.useEffect(()=>{g(!0),o()},[]);const o=()=>{const c=Z();n(c)},i=()=>{if(E()){s({variant:"error",title:"Maximum bookmarks reached",description:`You can only save up to ${N} bookmarks. Please delete one to add more.`});return}p(null),l(!0)},x=c=>{p(c),l(!0)},v=c=>{try{J(c),o(),s({variant:"success",title:"Bookmark deleted",description:"Your bookmark has been removed."})}catch(f){s({variant:"error",title:"Delete failed",description:f instanceof Error?f.message:"Failed to delete bookmark"})}},k=c=>{try{m?(Q(m.id,c),s({variant:"success",title:"Bookmark updated",description:"Your changes have been saved."})):(ee(c),s({variant:"success",title:"Bookmark added",description:"Your bookmark has been saved."})),o()}catch(f){s({variant:"error",title:m?"Update failed":"Add failed",description:f instanceof Error?f.message:"An error occurred"})}},w=async c=>{try{await navigator.clipboard.writeText(c),s({variant:"success",title:"Link copied",description:"The bookmark link has been copied to your clipboard."})}catch{s({variant:"error",title:"Copy failed",description:"Failed to copy link to clipboard. Please try again."})}};if(!b)return e.jsxs(L,{className:"w-full p-5",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx(T,{text:"HotBar",size:"md"})}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("p",{className:"text-neutral-500 dark:text-neutral-500",children:"Loading..."})})]});const C=G(),d=E();return e.jsxs(e.Fragment,{children:[e.jsxs(L,{className:"w-full p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(T,{text:"HotBar",size:"md"}),e.jsxs(j,{variant:"default",onClick:i,disabled:d,className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4"}),"Add Card (",C,"/",N,")"]})]}),t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[e.jsx(X,{className:"w-16 h-16 text-neutral-400 dark:text-neutral-600 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100 mb-2",children:"No bookmarks yet"}),e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 text-center mb-6 max-w-md",children:["Add your frequently accessed pages for quick navigation. You can save up to ",N," bookmarks."]}),e.jsxs(j,{variant:"default",onClick:i,className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4"}),"Add Your First Bookmark"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(c=>e.jsx(M,{card:c,onEdit:x,onDelete:v,onCopyLink:w},c.id))})]}),e.jsx(P,{open:a,onOpenChange:l,card:m,onSave:k})]})};Y.__docgenInfo={description:"",methods:[],displayName:"HotBarWidget"};const $e={title:"Dashboard/Widgets/HotBarWidget",component:Y,parameters:{layout:"padded"},tags:["autodocs"]},h={args:{}},y={args:{},parameters:{docs:{description:{story:`
### Features
- **Local Storage**: Bookmarks are persisted in browser localStorage
- **Type Detection**: Automatically infers bookmark type from URL path
- **Validation**: Ensures URLs are same-host and required fields are filled
- **Responsive**: Adapts to mobile (1 col), tablet (2 cols), desktop (3 cols)
- **Accessible**: Full keyboard navigation and WCAG AAA contrast

### Usage
1. Click "Add Card" to create a new bookmark
2. Enter title (required), description (optional), and URL (required)
3. URL must be from the same host (e.g., /did/page/scope:name)
4. Type is auto-detected from URL pattern
5. Maximum 5 bookmarks allowed
                `}}}};var B,U,q,_,F;h.parameters={...h.parameters,docs:{...(B=h.parameters)==null?void 0:B.docs,source:{originalSource:`{
  args: {}
}`,...(q=(U=h.parameters)==null?void 0:U.docs)==null?void 0:q.source},description:{story:`Default state showing the HotBar widget.
The widget manages its own state and persists bookmarks to localStorage.`,...(F=(_=h.parameters)==null?void 0:_.docs)==null?void 0:F.description}}};var H,I,W,$,O;y.parameters={...y.parameters,docs:{...(H=y.parameters)==null?void 0:H.docs,source:{originalSource:`{
  args: {},
  parameters: {
    docs: {
      description: {
        story: \`
### Features
- **Local Storage**: Bookmarks are persisted in browser localStorage
- **Type Detection**: Automatically infers bookmark type from URL path
- **Validation**: Ensures URLs are same-host and required fields are filled
- **Responsive**: Adapts to mobile (1 col), tablet (2 cols), desktop (3 cols)
- **Accessible**: Full keyboard navigation and WCAG AAA contrast

### Usage
1. Click "Add Card" to create a new bookmark
2. Enter title (required), description (optional), and URL (required)
3. URL must be from the same host (e.g., /did/page/scope:name)
4. Type is auto-detected from URL pattern
5. Maximum 5 bookmarks allowed
                \`
      }
    }
  }
}`,...(W=(I=y.parameters)==null?void 0:I.docs)==null?void 0:W.source},description:{story:`The HotBar widget allows users to:
- Add up to 5 bookmarks
- Edit existing bookmarks
- Delete bookmarks
- Click bookmarks to navigate
- Auto-detect bookmark type from URL`,...(O=($=y.parameters)==null?void 0:$.docs)==null?void 0:O.description}}};const Oe=["Default","WithInstructions"];export{h as Default,y as WithInstructions,Oe as __namedExportsOrder,$e as default};
