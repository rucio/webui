"use strict";(self.webpackChunkrucio_webui=self.webpackChunkrucio_webui||[]).push([[3038],{"./src/component-library/features/legacy/StreamedTables/StreamedTable.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{StreamedTable:()=>StreamedTable_stories_StreamedTable,__namedExportsOrder:()=>__namedExportsOrder,default:()=>StreamedTable_stories});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),lib=__webpack_require__("./node_modules/@tanstack/table-core/build/lib/index.mjs"),table_fixtures=__webpack_require__("./test/fixtures/table-fixtures.ts"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),tw_merge=__webpack_require__("./node_modules/tailwind-merge/dist/lib/tw-merge.mjs"),TableFooter=__webpack_require__("./src/component-library/features/legacy/StreamedTables/TableFooter.tsx"),TableBody=__webpack_require__("./src/component-library/features/legacy/StreamedTables/TableBody.tsx"),TableHeader=__webpack_require__("./src/component-library/features/legacy/StreamedTables/TableHeader.tsx"),helpers=__webpack_require__("./src/component-library/features/legacy/StreamedTables/helpers.tsx"),_excluded=["className"],__jsx=react.createElement;function StreamedTable(props){var _props$tableselecting,_props$tableselecting2,_props$tablestyling$t,_props$tablestyling,className=props.className,otherprops=(0,objectWithoutProperties.Z)(props,_excluded),_usePrepareTable=(0,helpers.p)({tabledata:props.tablecomdom.query.data.all||[],successViewModels:props.tablecomdom.query.data.success,errorViewModels:props.tablecomdom.query.data.error,tablecolumns:props.tablecolumns,tablestyling:props.tablestyling,tableselecting:props.tableselecting}),table=_usePrepareTable.table,breakoutVisibility=(_usePrepareTable.rowSelection,_usePrepareTable.setRowSelection,_usePrepareTable.breakoutVisibility);_usePrepareTable.setBreakoutVisibility;return __jsx("table",(0,esm_extends.Z)({className:(0,tw_merge.m)("fetching"===props.tablecomdom.query.fetchStatus?"hover:cursor-wait":"","bg-neutral-0 dark:bg-neutral-700 dark:text-text-0 text-text-1000","w-full","relative","table-fixed",className)},otherprops,{role:"grid"}),__jsx(TableHeader.x,{table,tablestyling:props.tablestyling}),__jsx(TableBody.R,{table,tablestyling:props.tablestyling}),__jsx(TableFooter.y,{table,comdom:props.tablecomdom,breakout:{breakoutVisibility,keys:null!==(_props$tableselecting=null===(_props$tableselecting2=props.tableselecting)||void 0===_props$tableselecting2||null===(_props$tableselecting2=_props$tableselecting2.breakOut)||void 0===_props$tableselecting2?void 0:_props$tableselecting2.keys)&&void 0!==_props$tableselecting?_props$tableselecting:{}},stacked:null!==(_props$tablestyling$t=null===(_props$tablestyling=props.tablestyling)||void 0===_props$tablestyling?void 0:_props$tablestyling.tableFooterStack)&&void 0!==_props$tablestyling$t&&_props$tablestyling$t}))}StreamedTable.displayName="StreamedTable";try{StreamedTable.displayName="StreamedTable",StreamedTable.__docgenInfo={description:"",displayName:"StreamedTable",props:{tablecolumns:{defaultValue:null,description:"",name:"tablecolumns",required:!0,type:{name:"any[]"}},tablestyling:{defaultValue:null,description:"",name:"tablestyling",required:!1,type:{name:"Partial<{ visibility?: Record<string, boolean>; tableHeadRowStyle?: string; tableBodyRowStyle?: string | undefined; pageSize?: number | undefined; tableFooterStack?: boolean | undefined; }> | undefined"}},tableselecting:{defaultValue:null,description:"",name:"tableselecting",required:!1,type:{name:"TableSelecting<T>"}},tablecomdom:{defaultValue:null,description:"",name:"tablecomdom",required:!0,type:{name:"UseComDOM<T>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/legacy/StreamedTables/StreamedTable.tsx#StreamedTable"]={docgenInfo:StreamedTable.__docgenInfo,name:"StreamedTable",path:"src/component-library/features/legacy/StreamedTables/StreamedTable.tsx#StreamedTable"})}catch(__react_docgen_typescript_loader_error){}var console=__webpack_require__("./node_modules/console-browserify/index.js"),StreamedTable_stories_jsx=react.createElement;const StreamedTable_stories={title:"Components/StreamedTables",component:StreamedTable};var Template=function Template(args){return StreamedTable_stories_jsx(StreamedTable,args)};Template.displayName="Template";var columnHelper=(0,lib.Cl)(),StreamedTable_stories_StreamedTable=Template.bind({});StreamedTable_stories_StreamedTable.args={tablecomdom:(0,table_fixtures.Fs)(Array.from({length:5},(function(){return(0,table_fixtures.n1)()}))),tablecolumns:[columnHelper.accessor((function(row){return"".concat(row.scope,":").concat(row.name)}),{id:"did"}),columnHelper.accessor("did_type",{id:"did_type",header:function header(info){return StreamedTable_stories_jsx("div",{onClick:function onClick(e){var nextRecord={undefined:"Dataset",Dataset:"Container",Container:void 0};console.log(info.column.getFilterValue());var currentFilterValue=String(info.column.getFilterValue());info.column.setFilterValue(nextRecord[null!=currentFilterValue?currentFilterValue:"null"])}},StreamedTable_stories_jsx("span",null,"DID Type"))}})]},StreamedTable_stories_StreamedTable.parameters={...StreamedTable_stories_StreamedTable.parameters,docs:{...StreamedTable_stories_StreamedTable.parameters?.docs,source:{originalSource:"args => <S {...args} />",...StreamedTable_stories_StreamedTable.parameters?.docs?.source}}};const __namedExportsOrder=["StreamedTable"]},"./src/component-library/features/legacy/StreamedTables/TableBody.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>TableBody});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@tanstack/react-table/build/lib/index.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tailwind-merge/dist/lib/tw-merge.mjs"),_excluded=["className"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function TableBody(props){var className=props.className,otherprops=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(props,_excluded),table=props.table;return __jsx("tbody",(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.Z)({role:"rowgroup","aria-label":"Table Body",className:(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_3__.m)(null!=className?className:"")},otherprops),table.getRowModel().rows.map((function(row){var _props$tablestyling$t,_props$tablestyling,selected=row.getIsSelected();return __jsx("tr",{key:row.id,className:(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_3__.m)("h-16 md:h-8",selected?"bg-brand-200 odd:bg-brand-200":"bg-neutral-0 odd:bg-neutral-100",selected?"dark:bg-brand-500 odd:dark:bg-brand-500":"dark:bg-neutral-700 dark:odd:bg-neutral-800",selected?"hover:bg-brand-300  dark:hover:bg-brand-600":"hover:bg-neutral-200 dark:hover:bg-neutral-900",selected?"border-brand-400 dark:border-brand-700 border":"",row.getCanSelect()?"hover:cursor-pointer":"hover:cursor-normal",null!==(_props$tablestyling$t=null===(_props$tablestyling=props.tablestyling)||void 0===_props$tablestyling?void 0:_props$tablestyling.tableBodyRowStyle)&&void 0!==_props$tablestyling$t?_props$tablestyling$t:""),onClick:function onClick(e){row.getCanSelect()&&row.toggleSelected()},role:"row","aria-selected":row.getCanSelect()?selected:void 0},row.getVisibleCells().map((function(cell){return __jsx("td",{key:cell.id},(0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.ie)(cell.column.columnDef.cell,cell.getContext()))})))})))}TableBody.displayName="TableBody";try{TableBody.displayName="TableBody",TableBody.__docgenInfo={description:"",displayName:"TableBody",props:{table:{defaultValue:null,description:"",name:"table",required:!0,type:{name:"Table<T>"}},tablestyling:{defaultValue:null,description:"",name:"tablestyling",required:!1,type:{name:"Partial<{ visibility?: Record<string, boolean>; tableHeadRowStyle?: string; tableBodyRowStyle?: string | undefined; pageSize?: number | undefined; tableFooterStack?: boolean | undefined; }> | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/legacy/StreamedTables/TableBody.tsx#TableBody"]={docgenInfo:TableBody.__docgenInfo,name:"TableBody",path:"src/component-library/features/legacy/StreamedTables/TableBody.tsx#TableBody"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/features/legacy/StreamedTables/TableHeader.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>TableHeader});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@tanstack/react-table/build/lib/index.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tailwind-merge/dist/lib/tw-merge.mjs"),_excluded=["className"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function TableHeader(props){var _props$tablestyling$t,_props$tablestyling,className=props.className,otherprops=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(props,_excluded),table=props.table;return __jsx("thead",(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.Z)({role:"rowgroup","aria-label":"Table Header",className:(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_3__.m)(null!=className?className:"")},otherprops),__jsx("tr",{className:(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_3__.m)("h-16 md:h-12","bg-neutral-0 dark:bg-neutral-700","relative",null!==(_props$tablestyling$t=null===(_props$tablestyling=props.tablestyling)||void 0===_props$tablestyling?void 0:_props$tablestyling.tableHeadRowStyle)&&void 0!==_props$tablestyling$t?_props$tablestyling$t:""),role:"row"},table.getLeafHeaders().map((function(header){var _meta$style,_meta;return __jsx("th",{key:header.id,className:null!==(_meta$style=null===(_meta=header.column.columnDef.meta)||void 0===_meta?void 0:_meta.style)&&void 0!==_meta$style?_meta$style:"",role:"columnheader","aria-label":header.id},(0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.ie)(header.column.columnDef.header,header.getContext()))}))))}TableHeader.displayName="TableHeader";try{TableHeader.displayName="TableHeader",TableHeader.__docgenInfo={description:"",displayName:"TableHeader",props:{table:{defaultValue:null,description:"",name:"table",required:!0,type:{name:"Table<T>"}},tablestyling:{defaultValue:null,description:"",name:"tablestyling",required:!1,type:{name:"Partial<{ visibility?: Record<string, boolean>; tableHeadRowStyle?: string; tableBodyRowStyle?: string | undefined; pageSize?: number | undefined; tableFooterStack?: boolean | undefined; }> | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/legacy/StreamedTables/TableHeader.tsx#TableHeader"]={docgenInfo:TableHeader.__docgenInfo,name:"TableHeader",path:"src/component-library/features/legacy/StreamedTables/TableHeader.tsx#TableHeader"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/features/legacy/StreamedTables/helpers.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>usePrepareTable});var _tanstack_react_table__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@tanstack/react-table/build/lib/index.mjs"),_tanstack_react_table__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@tanstack/table-core/build/lib/index.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function didToScopename(list){return list.map((function(did){return did.scope+":"+did.name}))}function usePrepareTable(props){var _props$tableselecting,_props$tableselecting2,_props$tableselecting3,_props$tableselecting4,_props$tablestyling,_props$tablestyling3,_props$tableselecting7,_props$tableselecting8,_props$tableselecting9,_props$tableselecting12,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),rowSelection=_useState[0],setRowSelection=_useState[1],table=(0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_1__.b7)({data:props.tabledata,columns:props.tablecolumns,getCoreRowModel:(0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_2__.sC)(),getPaginationRowModel:(0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_2__.G_)(),getFilteredRowModel:(0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_2__.vL)(),getSortedRowModel:(0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_2__.tj)(),debugTable:!1,enableRowSelection:null!==(_props$tableselecting=null===(_props$tableselecting2=props.tableselecting)||void 0===_props$tableselecting2?void 0:_props$tableselecting2.enableRowSelection)&&void 0!==_props$tableselecting&&_props$tableselecting,enableMultiRowSelection:null!==(_props$tableselecting3=null===(_props$tableselecting4=props.tableselecting)||void 0===_props$tableselecting4?void 0:_props$tableselecting4.enableMultiRowSelection)&&void 0!==_props$tableselecting3&&_props$tableselecting3,onRowSelectionChange:setRowSelection,state:{columnVisibility:null===(_props$tablestyling=props.tablestyling)||void 0===_props$tablestyling?void 0:_props$tablestyling.visibility,rowSelection}}),_useState2=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(table.getState().pagination.pageIndex),pageIndex=_useState2[0],setPageIndex=_useState2[1];(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){setPageIndex(table.getState().pagination.pageIndex)}),[table]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){table.setPageIndex(pageIndex)}),[pageIndex,table]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var _props$tablestyling$p,_props$tablestyling2;table.setPageSize(null!==(_props$tablestyling$p=null===(_props$tablestyling2=props.tablestyling)||void 0===_props$tablestyling2?void 0:_props$tablestyling2.pageSize)&&void 0!==_props$tablestyling$p?_props$tablestyling$p:10)}),[null===(_props$tablestyling3=props.tablestyling)||void 0===_props$tablestyling3?void 0:_props$tablestyling3.pageSize,table]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var _props$tableselecting5;null===(_props$tableselecting5=props.tableselecting)||void 0===_props$tableselecting5||_props$tableselecting5.handleChange(table.getSelectedRowModel().flatRows.map((function(row){return row.original})))}),[rowSelection,table]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var _props$tableselecting6;!1===(null===(_props$tableselecting6=props.tableselecting)||void 0===_props$tableselecting6?void 0:_props$tableselecting6.enableRowSelection)&&table.setRowSelection({})}),[null===(_props$tableselecting7=props.tableselecting)||void 0===_props$tableselecting7?void 0:_props$tableselecting7.enableRowSelection]);var _useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null!==(_props$tableselecting8=null===(_props$tableselecting9=props.tableselecting)||void 0===_props$tableselecting9||null===(_props$tableselecting9=_props$tableselecting9.breakOut)||void 0===_props$tableselecting9?void 0:_props$tableselecting9.breakoutVisibility)&&void 0!==_props$tableselecting8&&_props$tableselecting8),breakoutVisibility=_useState3[0],setBreakoutVisibility=_useState3[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var _props$tableselecting10,_props$tableselecting11;setBreakoutVisibility(null!==(_props$tableselecting10=null===(_props$tableselecting11=props.tableselecting)||void 0===_props$tableselecting11||null===(_props$tableselecting11=_props$tableselecting11.breakOut)||void 0===_props$tableselecting11?void 0:_props$tableselecting11.breakoutVisibility)&&void 0!==_props$tableselecting10&&_props$tableselecting10)}),[null===(_props$tableselecting12=props.tableselecting)||void 0===_props$tableselecting12||null===(_props$tableselecting12=_props$tableselecting12.breakOut)||void 0===_props$tableselecting12?void 0:_props$tableselecting12.breakoutVisibility]),{table,rowSelection,setRowSelection,breakoutVisibility,setBreakoutVisibility}}try{didToScopename.displayName="didToScopename",didToScopename.__docgenInfo={description:"",displayName:"didToScopename",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/legacy/StreamedTables/helpers.tsx#didToScopename"]={docgenInfo:didToScopename.__docgenInfo,name:"didToScopename",path:"src/component-library/features/legacy/StreamedTables/helpers.tsx#didToScopename"})}catch(__react_docgen_typescript_loader_error){}try{usePrepareTable.displayName="usePrepareTable",usePrepareTable.__docgenInfo={description:"",displayName:"usePrepareTable",props:{tabledata:{defaultValue:null,description:"",name:"tabledata",required:!0,type:{name:"T[]"}},successViewModels:{defaultValue:null,description:"",name:"successViewModels",required:!1,type:{name:"T[]"}},errorViewModels:{defaultValue:null,description:"",name:"errorViewModels",required:!1,type:{name:"T[]"}},tablecolumns:{defaultValue:null,description:"",name:"tablecolumns",required:!0,type:{name:"any[]"}},tablestyling:{defaultValue:null,description:"",name:"tablestyling",required:!1,type:{name:"Partial<{ visibility?: Record<string, boolean>; tableHeadRowStyle?: string; tableBodyRowStyle?: string | undefined; pageSize?: number | undefined; tableFooterStack?: boolean | undefined; }> | undefined"}},tableselecting:{defaultValue:null,description:"",name:"tableselecting",required:!1,type:{name:"TableSelecting<T>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/legacy/StreamedTables/helpers.tsx#usePrepareTable"]={docgenInfo:usePrepareTable.__docgenInfo,name:"usePrepareTable",path:"src/component-library/features/legacy/StreamedTables/helpers.tsx#usePrepareTable"})}catch(__react_docgen_typescript_loader_error){}}}]);