"use strict";(self.webpackChunkrucio_webui=self.webpackChunkrucio_webui||[]).push([[5506],{"./src/component-library/pages/Dashboard/widgets/TopRulesWidget.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{TopRules:()=>TopRules,__namedExportsOrder:()=>__namedExportsOrder,default:()=>TopRulesWidget_stories});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),table_fixtures=__webpack_require__("./test/fixtures/table-fixtures.ts"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),KeyValueWrapper=__webpack_require__("./src/component-library/features/key-value/KeyValueWrapper.tsx"),Heading=__webpack_require__("./src/component-library/atoms/misc/Heading.tsx"),LoadingSpinner=__webpack_require__("./src/component-library/atoms/loading/LoadingSpinner.tsx"),Text=__webpack_require__("./node_modules/recharts/es6/component/Text.js"),Bar=__webpack_require__("./node_modules/recharts/es6/cartesian/Bar.js"),ResponsiveContainer=__webpack_require__("./node_modules/recharts/es6/component/ResponsiveContainer.js"),BarChart=__webpack_require__("./node_modules/recharts/es6/chart/BarChart.js"),XAxis=__webpack_require__("./node_modules/recharts/es6/cartesian/XAxis.js"),YAxis=__webpack_require__("./node_modules/recharts/es6/cartesian/YAxis.js"),Tooltip=__webpack_require__("./node_modules/recharts/es6/component/Tooltip.js"),index_esm=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),Badge=__webpack_require__("./src/component-library/atoms/misc/Badge.tsx"),utils=__webpack_require__("./src/component-library/utils.ts"),__jsx=react.createElement,stateString={O:"OK",R:"Replicating",S:"Stuck",U:"Unknown"},stateColorClasses={O:"bg-base-success-500",R:"bg-base-warning-400",S:"bg-base-error-500",U:"bg-neutral-0 dark:bg-neutral-900"},LockStateBadge=function LockStateBadge(props){var classes=(0,utils.cn)(stateColorClasses[props.value],props.className);return __jsx(Badge.C,{value:stateString[props.value],className:classes})};LockStateBadge.displayName="LockStateBadge";try{LockStateBadge.displayName="LockStateBadge",LockStateBadge.__docgenInfo={description:"",displayName:"LockStateBadge",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"enum",value:[{value:'"R"'},{value:'"O"'},{value:'"S"'},{value:'"U"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/badges/Rule/LockStateBadge.tsx#LockStateBadge"]={docgenInfo:LockStateBadge.__docgenInfo,name:"LockStateBadge",path:"src/component-library/features/badges/Rule/LockStateBadge.tsx#LockStateBadge"})}catch(__react_docgen_typescript_loader_error){}var rucio=__webpack_require__("./src/lib/core/entity/rucio.ts"),InfoField=__webpack_require__("./src/component-library/features/fields/InfoField.tsx"),WarningField=__webpack_require__("./src/component-library/features/fields/WarningField.tsx"),CustomLegend=__webpack_require__("./src/component-library/pages/Dashboard/widgets/CustomLegend.tsx"),dist=__webpack_require__("./node_modules/next-themes/dist/index.mjs"),rule_sorting_utils=__webpack_require__("./src/lib/core/utils/rule-sorting-utils.ts"),TopRulesWidget_jsx=react.createElement,openRule=function openRule(id){window.open("/rule/page/".concat(id),"_blank")},LinkTick=function LinkTick(props){var id=props.payload.value,shortId=id.substring(0,12),fill=props.fill;return TopRulesWidget_jsx("g",{onClick:function onClick(){return openRule(id)},className:"cursor-pointer"},TopRulesWidget_jsx(Text.x,(0,esm_extends.Z)({},props,{fill}),shortId))};LinkTick.displayName="LinkTick";var CustomTooltip=function CustomTooltip(_ref){var active=_ref.active,payload=_ref.payload,label=_ref.label;if(active&&payload&&payload.length){var _payload$0$payload=payload[0].payload,locksOk=_payload$0$payload.locksOk,locksReplicating=_payload$0$payload.locksReplicating,locksStuck=_payload$0$payload.locksStuck,name=_payload$0$payload.name,scope=_payload$0$payload.scope,rseExpression=_payload$0$payload.rseExpression;return TopRulesWidget_jsx(KeyValueWrapper.k,{className:"p-3 space-y-2 text-neutral-900 dark:text-neutral-100"},TopRulesWidget_jsx("div",{className:"mb-2"},TopRulesWidget_jsx("div",{className:"flex space-x-2 items-center"},TopRulesWidget_jsx(index_esm.x9Z,null),TopRulesWidget_jsx("span",null,label)),TopRulesWidget_jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400"},"For ",scope,":",name),TopRulesWidget_jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400"},"On ",rseExpression)),TopRulesWidget_jsx("div",null,TopRulesWidget_jsx(LockStateBadge,{value:rucio.Ik.OK}),": ",locksOk),TopRulesWidget_jsx("div",null,TopRulesWidget_jsx(LockStateBadge,{value:rucio.Ik.REPLICATING}),": ",locksReplicating),TopRulesWidget_jsx("div",null,TopRulesWidget_jsx(LockStateBadge,{value:rucio.Ik.STUCK}),": ",locksStuck))}return null},RuleBarChart=function RuleBarChart(_ref2){var data=_ref2.rules.map((function(rule){var totalLocks=rule.locks_stuck_cnt+rule.locks_replicating_cnt+rule.locks_ok_cnt,locksOkPercentage=rule.locks_ok_cnt/totalLocks*100,locksReplicatingPercentage=rule.locks_replicating_cnt/totalLocks*100,locksStuckPercentage=100-locksOkPercentage-locksReplicatingPercentage;return{id:rule.id,scope:rule.scope,name:rule.name,rseExpression:rule.rse_expression,locksOkPercentage,locksOk:rule.locks_ok_cnt,locksReplicatingPercentage,locksReplicating:rule.locks_replicating_cnt,locksStuckPercentage,locksStuck:rule.locks_stuck_cnt}})),isDarkMode="dark"===(0,dist.F)().resolvedTheme,fillColor=isDarkMode?"#f1f5f9":"#0f172a",borderColor=isDarkMode?"rgba(241,245,249,0.15)":"rgba(15,23,42,0.15)",barColors={locksOkPercentage:{fill:"rgba(34,197,94,0.8)",stroke:borderColor},locksReplicatingPercentage:{fill:"rgba(251,191,36,0.8)",stroke:borderColor},locksStuckPercentage:{fill:"rgba(239,68,68,0.8)",stroke:borderColor}},getStyledBar=function getStyledBar(dataKey){return TopRulesWidget_jsx(Bar.$,{dataKey,stackId:"locks",fill:barColors[dataKey].fill,maxBarSize:35,stroke:barColors[dataKey].stroke,strokeWidth:1})};return TopRulesWidget_jsx(ResponsiveContainer.h,null,TopRulesWidget_jsx(BarChart.v,{layout:"vertical",data,onClick:function onClick(event){var _data,index=event.activeIndex;if(null!=index){var id=null===(_data=data[index])||void 0===_data?void 0:_data.id;id&&openRule(id)}}},TopRulesWidget_jsx(XAxis.K,{type:"number",domain:[0,100],ticks:[0,20,40,60,80,100],tickFormatter:function tickFormatter(value){return"".concat(value,"%")},stroke:fillColor}),TopRulesWidget_jsx(YAxis.B,{dataKey:"id",type:"category",tick:TopRulesWidget_jsx(LinkTick,{fill:fillColor}),width:120,stroke:fillColor}),TopRulesWidget_jsx(Tooltip.u,{content:TopRulesWidget_jsx(CustomTooltip,null),cursor:{fill:borderColor}}),getStyledBar("locksOkPercentage"),getStyledBar("locksReplicatingPercentage"),getStyledBar("locksStuckPercentage")))};RuleBarChart.displayName="RuleBarChart";var legendOptions=[{label:"OK",color:"bg-base-success-500"},{label:"Replicating",color:"bg-base-warning-400"},{label:"Error",color:"bg-base-error-500"}],TopRulesWidget=function TopRulesWidget(_ref3){var rules=_ref3.rules,isLoading=_ref3.isLoading,errorMessage=_ref3.errorMessage,displayedRules=null==rules?void 0:rules.filter((function(rule){return rule.locks_stuck_cnt+rule.locks_replicating_cnt+rule.locks_ok_cnt>0})).sort((function(a,b){var scoreA=(0,rule_sorting_utils.nw)(a),scoreB=(0,rule_sorting_utils.nw)(b);if(scoreA!==scoreB)return scoreB-scoreA;var dateA=new Date(a.created_at);return new Date(b.created_at).getTime()-dateA.getTime()})).slice(0,10),hasRules=displayedRules&&0!==displayedRules.length,isResultEmpty=!hasRules&&!errorMessage&&!isLoading;return TopRulesWidget_jsx(KeyValueWrapper.k,{className:"w-full p-5 overflow-x-auto"},TopRulesWidget_jsx(Heading.X,{text:"Locks of latest rules",size:"md"}),TopRulesWidget_jsx("div",{className:"flex min-w-[700px] h-[500px] items-center justify-center my-5"},isResultEmpty&&TopRulesWidget_jsx(InfoField.a,null,TopRulesWidget_jsx("span",null,"No rules to show")),errorMessage&&TopRulesWidget_jsx(WarningField.K,null,TopRulesWidget_jsx("span",null,errorMessage)),hasRules&&TopRulesWidget_jsx(RuleBarChart,{rules:displayedRules}),isLoading&&TopRulesWidget_jsx(LoadingSpinner.T,null)),hasRules&&TopRulesWidget_jsx(CustomLegend.Z,{legendOptions}))};TopRulesWidget.displayName="TopRulesWidget";try{TopRulesWidget.displayName="TopRulesWidget",TopRulesWidget.__docgenInfo={description:"",displayName:"TopRulesWidget",props:{rules:{defaultValue:null,description:"",name:"rules",required:!1,type:{name:"RuleViewModel[]"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/pages/Dashboard/widgets/TopRulesWidget.tsx#TopRulesWidget"]={docgenInfo:TopRulesWidget.__docgenInfo,name:"TopRulesWidget",path:"src/component-library/pages/Dashboard/widgets/TopRulesWidget.tsx#TopRulesWidget"})}catch(__react_docgen_typescript_loader_error){}var TopRulesWidget_stories_jsx=react.createElement;const TopRulesWidget_stories={title:"Components/Pages/Dashboard/Widgets",component:TopRulesWidget,parameters:{docs:{disable:!0}}};var Template=function Template(args){return TopRulesWidget_stories_jsx(TopRulesWidget,args)};Template.displayName="Template";var TopRules=Template.bind({});TopRules.args={rules:Array.from({length:100},table_fixtures.rJ),isLoading:!1},TopRules.parameters={...TopRules.parameters,docs:{...TopRules.parameters?.docs,source:{originalSource:"args => <TopRulesWidget {...args} />",...TopRules.parameters?.docs?.source}}};const __namedExportsOrder=["TopRules"]},"./src/component-library/atoms/loading/LoadingSpinner.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>LoadingSpinner});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_component_library_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/component-library/utils.ts"),__jsx=__webpack_require__("./node_modules/next/dist/compiled/react/index.js").createElement,LoadingSpinner=function LoadingSpinner(props){var _props$size,size=null!==(_props$size=props.size)&&void 0!==_props$size?_props$size:24;return __jsx("svg",(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_1__.Z)({xmlns:"http://www.w3.org/2000/svg",width:size,height:size},props,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("animate-spin",props.className)}),__jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}))};LoadingSpinner.displayName="LoadingSpinner";try{LoadingSpinner.displayName="LoadingSpinner",LoadingSpinner.__docgenInfo={description:"",displayName:"LoadingSpinner",props:{size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/atoms/loading/LoadingSpinner.tsx#LoadingSpinner"]={docgenInfo:LoadingSpinner.__docgenInfo,name:"LoadingSpinner",path:"src/component-library/atoms/loading/LoadingSpinner.tsx#LoadingSpinner"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/atoms/misc/Badge.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>Badge});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),tailwind_merge__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tailwind-merge/dist/lib/tw-merge.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_excluded=["value","className"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,Badge=function Badge(_ref){var value=_ref.value,className=_ref.className,props=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_ref,_excluded),badgeClasses=(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_2__.m)("inline","rounded","px-3","text-neutral-900 dark:text-neutral-100","bg-opacity-50","border border-neutral-900 dark:border-neutral-100 border-opacity-10 dark:border-opacity-10",className);return __jsx("div",(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({className:badgeClasses},props),value)};Badge.displayName="Badge";try{Badge.displayName="Badge",Badge.__docgenInfo={description:"",displayName:"Badge",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/atoms/misc/Badge.tsx#Badge"]={docgenInfo:Badge.__docgenInfo,name:"Badge",path:"src/component-library/atoms/misc/Badge.tsx#Badge"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/atoms/misc/CircleWithText.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_component_library_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/component-library/utils.ts"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,CircleWithText=function CircleWithText(_ref){var text=_ref.text,className=_ref.className,onClick=_ref.onClick,classes=(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("flex items-center justify-center","w-12 h-12 rounded-full","text-neutral-100","border border-neutral-900 dark:border-neutral-100 border-opacity-10 dark:border-opacity-10",className,onClick?"cursor-pointer":"");return __jsx("div",{className:classes,onClick},__jsx("span",{className:"text-lg"},text))};CircleWithText.displayName="CircleWithText";const __WEBPACK_DEFAULT_EXPORT__=CircleWithText;try{CircleWithText.displayName="CircleWithText",CircleWithText.__docgenInfo={description:"",displayName:"CircleWithText",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/atoms/misc/CircleWithText.tsx#CircleWithText"]={docgenInfo:CircleWithText.__docgenInfo,name:"CircleWithText",path:"src/component-library/atoms/misc/CircleWithText.tsx#CircleWithText"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/atoms/misc/Field.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>Field});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_component_library_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/component-library/utils.ts"),_excluded=["children","className"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,Field=function Field(_ref){var children=_ref.children,className=_ref.className,props=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_ref,_excluded),fieldClasses=(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex","rounded","px-3","text-neutral-900 dark:text-neutral-100 whitespace-nowrap","bg-neutral-200 dark:bg-neutral-700","border border-neutral-900 dark:border-neutral-100 border-opacity-10 dark:border-opacity-10",className);return __jsx("div",(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({className:fieldClasses},props),children)};Field.displayName="Field";try{Field.displayName="Field",Field.__docgenInfo={description:"",displayName:"Field",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/atoms/misc/Field.tsx#Field"]={docgenInfo:Field.__docgenInfo,name:"Field",path:"src/component-library/atoms/misc/Field.tsx#Field"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/atoms/misc/Heading.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>Heading});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_component_library_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/component-library/utils.ts"),class_variance_authority__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"),_component_library_features_utils_list_toasts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/component-library/features/utils/list-toasts.ts"),react_icons_hi__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),_lib_infrastructure_hooks_useToast__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/infrastructure/hooks/useToast.tsx"),_excluded=["text","size","className"],_excluded2=["text","size","className"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,headingStyles=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_3__.j)("text-neutral-900 dark:text-neutral-100 font-bold",{variants:{size:{sm:"text-xl font-medium",md:"text-2xl",lg:"text-4xl"}},defaultVariants:{size:"lg"}}),Heading=function Heading(_ref){var text=_ref.text,size=_ref.size,className=_ref.className,props=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_ref,_excluded);return __jsx("h1",(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_5__.Z)({className:(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(headingStyles({size}),className)},props),text)};Heading.displayName="Heading";var CopyableHeading=function CopyableHeading(_ref2){var text=_ref2.text,size=_ref2.size,className=_ref2.className,props=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_ref2,_excluded2),toast=(0,_lib_infrastructure_hooks_useToast__WEBPACK_IMPORTED_MODULE_2__.pm)().toast;return __jsx("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:function handleCopy(){navigator.clipboard.writeText(text).then((function(){toast(_component_library_features_utils_list_toasts__WEBPACK_IMPORTED_MODULE_1__._e)})).catch((function(){toast(_component_library_features_utils_list_toasts__WEBPACK_IMPORTED_MODULE_1__.Y2)}))}},__jsx(react_icons_hi__WEBPACK_IMPORTED_MODULE_7__.zFu,{className:"h-8 w-8 inline"}),__jsx(Heading,(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_5__.Z)({text,size,className},props)))};CopyableHeading.displayName="CopyableHeading";try{Heading.displayName="Heading",Heading.__docgenInfo={description:"",displayName:"Heading",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/atoms/misc/Heading.tsx#Heading"]={docgenInfo:Heading.__docgenInfo,name:"Heading",path:"src/component-library/atoms/misc/Heading.tsx#Heading"})}catch(__react_docgen_typescript_loader_error){}try{CopyableHeading.displayName="CopyableHeading",CopyableHeading.__docgenInfo={description:"",displayName:"CopyableHeading",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/atoms/misc/Heading.tsx#CopyableHeading"]={docgenInfo:CopyableHeading.__docgenInfo,name:"CopyableHeading",path:"src/component-library/atoms/misc/Heading.tsx#CopyableHeading"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/features/fields/InfoField.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>InfoField});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_component_library_atoms_misc_Field__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/component-library/atoms/misc/Field.tsx"),_component_library_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/component-library/utils.ts"),react_icons_hi__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_excluded=["children","className"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,InfoField=function InfoField(_ref){var children=_ref.children,className=_ref.className,props=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded);return __jsx(_component_library_atoms_misc_Field__WEBPACK_IMPORTED_MODULE_1__.g,(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({className:(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("bg-neutral-100 dark:bg-neutral-800","items-center py-2 space-x-2","whitespace-normal",className)},props),__jsx(react_icons_hi__WEBPACK_IMPORTED_MODULE_5__.frK,{className:"h-6 w-6 flex-shrink-0"}),children)};InfoField.displayName="InfoField";try{InfoField.displayName="InfoField",InfoField.__docgenInfo={description:"",displayName:"InfoField",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/fields/InfoField.tsx#InfoField"]={docgenInfo:InfoField.__docgenInfo,name:"InfoField",path:"src/component-library/features/fields/InfoField.tsx#InfoField"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/features/fields/WarningField.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>WarningField});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_component_library_atoms_misc_Field__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/component-library/atoms/misc/Field.tsx"),_component_library_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/component-library/utils.ts"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),react_icons_hi__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),_excluded=["children","className"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,WarningField=function WarningField(_ref){var children=_ref.children,className=_ref.className,props=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded);return __jsx(_component_library_atoms_misc_Field__WEBPACK_IMPORTED_MODULE_1__.g,(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({className:(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("bg-base-error-500 dark:bg-base-error-500 bg-opacity-60 dark:bg-opacity-60","items-center py-2 space-x-2","whitespace-normal",className)},props),__jsx(react_icons_hi__WEBPACK_IMPORTED_MODULE_5__.fd$,{className:"h-6 w-6 flex-shrink-0"}),children)};WarningField.displayName="WarningField";try{WarningField.displayName="WarningField",WarningField.__docgenInfo={description:"",displayName:"WarningField",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/fields/WarningField.tsx#WarningField"]={docgenInfo:WarningField.__docgenInfo,name:"WarningField",path:"src/component-library/features/fields/WarningField.tsx#WarningField"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/features/key-value/KeyValueWrapper.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>KeyValueWrapper});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_component_library_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/component-library/utils.ts"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,KeyValueWrapper=function KeyValueWrapper(_ref){var children=_ref.children,className=_ref.className;return __jsx("div",{className:(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("bg-neutral-0 dark:bg-neutral-800","rounded-md border border-neutral-900 dark:border-neutral-100 border-opacity-10 dark:border-opacity-10",className)},children)};KeyValueWrapper.displayName="KeyValueWrapper";try{KeyValueWrapper.displayName="KeyValueWrapper",KeyValueWrapper.__docgenInfo={description:"",displayName:"KeyValueWrapper",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/key-value/KeyValueWrapper.tsx#KeyValueWrapper"]={docgenInfo:KeyValueWrapper.__docgenInfo,name:"KeyValueWrapper",path:"src/component-library/features/key-value/KeyValueWrapper.tsx#KeyValueWrapper"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/features/utils/list-toasts.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y2:()=>errorCopyingToast,_e:()=>copiedToast,xc:()=>noApiToast,z1:()=>alreadyStreamingToast});var noApiToast={title:"Warning",description:"Cannot start the streaming while the grid is not ready.",variant:"warning"},alreadyStreamingToast={title:"Oops!",description:"Please stop the streaming before trying to search again.",variant:"info"},copiedToast={title:"Copied!",variant:"info"},errorCopyingToast={title:"Cannot copy the text",variant:"error"}},"./src/component-library/pages/Dashboard/widgets/CustomLegend.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_component_library_atoms_misc_CircleWithText__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/component-library/atoms/misc/CircleWithText.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,CustomLegend=function CustomLegend(_ref){var legendOptions=_ref.legendOptions;return __jsx("div",{className:"flex space-x-10 text-sm text-neutral-900 dark:text-neutral-100 py-3"},legendOptions.map((function(option,index){return __jsx("div",{key:index,className:"flex space-x-2 items-center"},__jsx(_component_library_atoms_misc_CircleWithText__WEBPACK_IMPORTED_MODULE_2__.Z,{text:"",className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("bg-opacity-70 h-6 w-6",option.color)}),__jsx("span",null,option.label))})))};CustomLegend.displayName="CustomLegend";const __WEBPACK_DEFAULT_EXPORT__=CustomLegend;try{CustomLegend.displayName="CustomLegend",CustomLegend.__docgenInfo={description:"",displayName:"CustomLegend",props:{legendOptions:{defaultValue:null,description:"",name:"legendOptions",required:!0,type:{name:"LegendOption[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/pages/Dashboard/widgets/CustomLegend.tsx#CustomLegend"]={docgenInfo:CustomLegend.__docgenInfo,name:"CustomLegend",path:"src/component-library/pages/Dashboard/widgets/CustomLegend.tsx#CustomLegend"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>sleep,cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tailwind-merge/dist/lib/tw-merge.mjs");function cn(){for(var _len=arguments.length,inputs=new Array(_len),_key=0;_key<_len;_key++)inputs[_key]=arguments[_key];return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.m)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.W)(inputs))}function sleep(ms){return new Promise((function(resolve){return setTimeout(resolve,ms)}))}},"./src/lib/core/utils/rule-sorting-utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a4:()=>ruleActivityComparator,nw:()=>calculateRuleActivityScore});var _lib_core_entity_rucio__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/lib/core/entity/rucio.ts");function calculateRuleActivityScore(rule){var score=0;return rule.locks_stuck_cnt>0&&(score+=1e3+rule.locks_stuck_cnt),rule.locks_replicating_cnt>0&&(score+=500+rule.locks_replicating_cnt),rule.state===_lib_core_entity_rucio__WEBPACK_IMPORTED_MODULE_0__.pJ.STUCK||"Stuck"===rule.state?score+=200:rule.state!==_lib_core_entity_rucio__WEBPACK_IMPORTED_MODULE_0__.pJ.REPLICATING&&"Replicating"!==rule.state||(score+=100),score}function ruleActivityComparator(valueA,valueB,nodeA,nodeB){var rowA=nodeA.data,rowB=nodeB.data,scoreA=calculateRuleActivityScore(rowA);return calculateRuleActivityScore(rowB)-scoreA}},"./src/lib/infrastructure/hooks/useToast.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{pm:()=>useToast});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectDestructuringEmpty_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var count=0;var toastTimeouts=new Map,addToRemoveQueue=function addToRemoveQueue(toastId){if(!toastTimeouts.has(toastId)){var timeout=setTimeout((function(){toastTimeouts.delete(toastId),dispatch({type:"REMOVE_TOAST",toastId})}),1e6);toastTimeouts.set(toastId,timeout)}},reducer=function reducer(state,action){switch(action.type){case"ADD_TOAST":return _objectSpread(_objectSpread({},state),{},{toasts:[action.toast].concat((0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.Z)(state.toasts)).slice(0,1)});case"UPDATE_TOAST":return _objectSpread(_objectSpread({},state),{},{toasts:state.toasts.map((function(t){return t.id===action.toast.id?_objectSpread(_objectSpread({},t),action.toast):t}))});case"DISMISS_TOAST":var toastId=action.toastId;return toastId?addToRemoveQueue(toastId):state.toasts.forEach((function(toast){addToRemoveQueue(toast.id)})),_objectSpread(_objectSpread({},state),{},{toasts:state.toasts.map((function(t){return t.id===toastId||void 0===toastId?_objectSpread(_objectSpread({},t),{},{open:!1}):t}))});case"REMOVE_TOAST":return void 0===action.toastId?_objectSpread(_objectSpread({},state),{},{toasts:[]}):_objectSpread(_objectSpread({},state),{},{toasts:state.toasts.filter((function(t){return t.id!==action.toastId}))})}},listeners=[],memoryState={toasts:[]};function dispatch(action){memoryState=reducer(memoryState,action),listeners.forEach((function(listener){listener(memoryState)}))}function toast(_ref){var props=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},((0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectDestructuringEmpty_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_ref),_ref)),id=function genId(){return(count=(count+1)%Number.MAX_SAFE_INTEGER).toString()}(),dismiss=function dismiss(){return dispatch({type:"DISMISS_TOAST",toastId:id})};return dispatch({type:"ADD_TOAST",toast:_objectSpread(_objectSpread({},props),{},{id,open:!0,onOpenChange:function onOpenChange(open){open||dismiss()}})}),{id,dismiss,update:function update(props){return dispatch({type:"UPDATE_TOAST",toast:_objectSpread(_objectSpread({},props),{},{id})})}}}function useToast(){var _React$useState=react__WEBPACK_IMPORTED_MODULE_1__.useState(memoryState),_React$useState2=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_React$useState,2),state=_React$useState2[0],setState=_React$useState2[1];return react__WEBPACK_IMPORTED_MODULE_1__.useEffect((function(){return listeners.push(setState),function(){var index=listeners.indexOf(setState);index>-1&&listeners.splice(index,1)}}),[state]),_objectSpread(_objectSpread({},state),{},{toast,dismiss:function dismiss(toastId){return dispatch({type:"DISMISS_TOAST",toastId})}})}try{toast.displayName="toast",toast.__docgenInfo={description:"",displayName:"toast",props:{action:{defaultValue:null,description:"",name:"action",required:!1,type:{name:"ToastActionElement"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"ReactNode"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:'"error" | "warning" | "info" | null'}},asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/infrastructure/hooks/useToast.tsx#toast"]={docgenInfo:toast.__docgenInfo,name:"toast",path:"src/lib/infrastructure/hooks/useToast.tsx#toast"})}catch(__react_docgen_typescript_loader_error){}}}]);