(self.webpackChunkrucio_webui=self.webpackChunkrucio_webui||[]).push([[4831],{"./src/component-library/demos/01_1_Login.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Playbook_InitLogin:()=>Playbook_InitLogin,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_runner_work_webui_webui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__),_component_library_pages_legacy_Login_Login__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/component-library/pages/legacy/Login/Login.tsx"),_storybook_testing_library__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/testing-library/dist/index.mjs"),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/component-library/utils.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Demos/01_Login",component:_component_library_pages_legacy_Login_Login__WEBPACK_IMPORTED_MODULE_1__.m};var _play,cernOIDCProvider={name:"CERN",url:"https://login.cern.ch/adfs/oauth2/authorize",clientId:"1234567890",clientSecret:"1234567890",authorizationUrl:"https://login.cern.ch/adfs/oauth2/authorize",tokenUrl:"https://login.cern.ch/adfs/oauth2/token",refreshTokenUrl:"https://login.cern.ch/adfs/oauth2/token",redirectUrl:"https://login.cern.ch/adfs/oauth2/authorize"},Playbook_InitLogin={args:{loginViewModel:{status:"success",userpassEnabled:!0,x509Enabled:!0,oidcEnabled:!0,oidcProviders:[cernOIDCProvider],multiVOEnabled:!0,voList:[{name:"ATLAS",shortName:"atl",logoUrl:"https://atlas.cern/wp-content/uploads/2019/07/ATLAS-Logo-1.png",oidcEnabled:!0,oidcProviders:[cernOIDCProvider]},{name:"CMS",shortName:"cms",logoUrl:"https://atlas.cern/wp-content/uploads/2019/07/ATLAS-Logo-1.png",oidcEnabled:!0,oidcProviders:[cernOIDCProvider,{name:"Google",url:"https://accounts.google.com/o/oauth2/v2/auth",clientId:"1234567890",clientSecret:"1234567890",authorizationUrl:"https://accounts.google.com/o/oauth2/v2/auth",tokenUrl:"https://oauth2.googleapis.com/token",redirectUrl:"https://accounts.google.com/o/oauth2/v2/auth"}]}],isLoggedIn:!1,accountsAvailable:void 0,accountActive:void 0,rucioAuthHost:"https://rucio.cern.ch"},authViewModel:{status:"success",message:"",rucioAccount:"",rucioMultiAccount:"",rucioAuthType:"",rucioAuthToken:"",rucioIdentity:"",rucioAuthTokenExpires:"",role:void 0}},play:(_play=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_home_runner_work_webui_webui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee(_ref){var canvasElement,canvas,userpassButton,usernameTextbox,passwordTextbox,loginButton;return _home_runner_work_webui_webui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return canvasElement=_ref.canvasElement,canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_2__.uh)(canvasElement),userpassButton=canvas.getByRole("button",{name:/Userpass/}),_context.next=5,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_2__.mV.click(userpassButton);case 5:return usernameTextbox=canvas.getByRole("textbox",{name:/Username/}),_context.next=8,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_2__.mV.type(usernameTextbox,"mayank",{delay:100});case 8:return passwordTextbox=canvas.getByLabelText(/Password/),_context.next=11,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_2__.mV.type(passwordTextbox,"password",{delay:100});case 11:return loginButton=canvas.getByRole("button",{name:/Login/}),_context.next=14,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_2__.mV.click(loginButton);case 14:return _context.next=16,(0,_utils__WEBPACK_IMPORTED_MODULE_4__._)(2e3);case 16:case"end":return _context.stop()}}),_callee)}))),function play(_x){return _play.apply(this,arguments)})};Playbook_InitLogin.parameters={...Playbook_InitLogin.parameters,docs:{...Playbook_InitLogin.parameters?.docs,source:{originalSource:"{\n  args: {\n    loginViewModel: {\n      status: 'success',\n      userpassEnabled: true,\n      x509Enabled: true,\n      oidcEnabled: true,\n      oidcProviders: [cernOIDCProvider],\n      multiVOEnabled: true,\n      voList: [voAtlas, voCMS],\n      isLoggedIn: false,\n      accountsAvailable: undefined,\n      accountActive: undefined,\n      rucioAuthHost: 'https://rucio.cern.ch'\n    },\n    authViewModel: {\n      status: 'success',\n      message: '',\n      rucioAccount: '',\n      rucioMultiAccount: '',\n      rucioAuthType: '',\n      rucioAuthToken: '',\n      rucioIdentity: '',\n      rucioAuthTokenExpires: '',\n      role: undefined\n    }\n  },\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    const userpassButton = canvas.getByRole('button', {\n      name: /Userpass/\n    });\n    await userEvent.click(userpassButton);\n    const usernameTextbox = canvas.getByRole('textbox', {\n      name: /Username/\n    });\n    await userEvent.type(usernameTextbox, 'mayank', {\n      delay: 100\n    });\n    const passwordTextbox = canvas.getByLabelText(/Password/);\n    await userEvent.type(passwordTextbox, 'password', {\n      delay: 100\n    });\n    const loginButton = canvas.getByRole('button', {\n      name: /Login/\n    });\n    await userEvent.click(loginButton);\n    await sleep(2000);\n  }\n}",...Playbook_InitLogin.parameters?.docs?.source}}};const __namedExportsOrder=["Playbook_InitLogin"]},"./src/component-library/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>sleep,cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tailwind-merge/dist/lib/tw-merge.mjs");function cn(){for(var _len=arguments.length,inputs=new Array(_len),_key=0;_key<_len;_key++)inputs[_key]=arguments[_key];return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.m)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.W)(inputs))}function sleep(ms){return new Promise((function(resolve){return setTimeout(resolve,ms)}))}},"?4f7e":()=>{}}]);