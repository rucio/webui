/*! For license information please see 9053.a879749d.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkrucio_webui=self.webpackChunkrucio_webui||[]).push([[9053],{"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}__webpack_require__.d(__webpack_exports__,{Z:()=>_asyncToGenerator})},"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(__webpack_exports__,{Z:()=>_classCallCheck})},"./node_modules/@babel/runtime/helpers/esm/createClass.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_createClass});var _toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(0,_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__.Z)(descriptor.key),descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}},"./node_modules/@babel/runtime/helpers/regeneratorRuntime.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/typeof.js").default;function _regeneratorRuntime(){"use strict";module.exports=_regeneratorRuntime=function _regeneratorRuntime(){return e},module.exports.__esModule=!0,module.exports.default=module.exports;var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function define(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}module.exports=_regeneratorRuntime,module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/helpers/typeof.js":module=>{function _typeof(o){return module.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},module.exports.__esModule=!0,module.exports.default=module.exports,_typeof(o)}module.exports=_typeof,module.exports.__esModule=!0,module.exports.default=module.exports},"./node_modules/@babel/runtime/regenerator/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var runtime=__webpack_require__("./node_modules/@babel/runtime/helpers/regeneratorRuntime.js")();module.exports=runtime;try{regeneratorRuntime=runtime}catch(accidentalStrictMode){"object"==typeof globalThis?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}},"./node_modules/@bundled-es-modules/statuses/index-esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{default:()=>source_default});var mod,isNodeMode,target,__create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(cb,mod)=>function __require(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports},require_codes=__commonJS({"node_modules/statuses/codes.json"(exports,module){module.exports={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a Teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}}}),require_statuses=__commonJS({"node_modules/statuses/index.js"(exports,module){var codes=require_codes();function getStatusMessage(code){if(!Object.prototype.hasOwnProperty.call(status2.message,code))throw new Error("invalid status code: "+code);return status2.message[code]}function status2(code){if("number"==typeof code)return getStatusMessage(code);if("string"!=typeof code)throw new TypeError("code must be a number or string");var n=parseInt(code,10);return isNaN(n)?function getStatusCode(message){var msg=message.toLowerCase();if(!Object.prototype.hasOwnProperty.call(status2.code,msg))throw new Error('invalid status message: "'+message+'"');return status2.code[msg]}(code):getStatusMessage(n)}module.exports=status2,status2.message=codes,status2.code=function createMessageToStatusCodeMap(codes2){var map={};return Object.keys(codes2).forEach((function forEachCode(code){var message=codes2[code],status3=Number(code);map[message.toLowerCase()]=status3})),map}(codes),status2.codes=function createStatusCodeList(codes2){return Object.keys(codes2).map((function mapCode(code){return Number(code)}))}(codes),status2.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},status2.empty={204:!0,205:!0,304:!0},status2.retry={502:!0,503:!0,504:!0}}}),source_default=(mod=require_statuses(),isNodeMode=1,target=null!=mod?__create(__getProtoOf(mod)):{},((to,from,except,desc)=>{if(from&&"object"==typeof from||"function"==typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to})(!isNodeMode&&mod&&mod.__esModule?target:__defProp(target,"default",{value:mod,enumerable:!0}),mod)).default},"./node_modules/ag-grid-react/dist/package/index.esm.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>AgGridReact});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),console=__webpack_require__("./node_modules/console-browserify/index.js"),LocalEventService=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(frameworkOverrides){this.frameworkOverrides=frameworkOverrides}getListeners(eventType,async,autoCreateListenerCollection){const listenerMap=async?this.allAsyncListeners:this.allSyncListeners;let listeners=listenerMap.get(eventType);return!listeners&&autoCreateListenerCollection&&(listeners=new Set,listenerMap.set(eventType,listeners)),listeners}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(eventType,listener,async=!1){this.getListeners(eventType,async,!0).add(listener)}removeEventListener(eventType,listener,async=!1){const listeners=this.getListeners(eventType,async,!1);listeners&&(listeners.delete(listener),0===listeners.size&&(async?this.allAsyncListeners:this.allSyncListeners).delete(eventType))}addGlobalListener(listener,async=!1){this.getGlobalListeners(async).add(listener)}removeGlobalListener(listener,async=!1){this.getGlobalListeners(async).delete(listener)}dispatchEvent(event){this.dispatchToListeners(event,!0),this.dispatchToListeners(event,!1),this.firedEvents[event.type]=!0}dispatchEventOnce(event){this.firedEvents[event.type]||this.dispatchEvent(event)}dispatchToListeners(event,async){const eventType=event.type;if(async&&"event"in event){const browserEvent=event.event;browserEvent instanceof Event&&(event.eventPath=browserEvent.composedPath())}const{frameworkOverrides}=this,runCallback=func=>{const callback=frameworkOverrides?()=>frameworkOverrides.wrapIncoming(func):func;async?this.dispatchAsync(callback):callback()},originalListeners=this.getListeners(eventType,async,!1);if((originalListeners?.size??0)>0){const listeners=new Set(originalListeners);for(const listener of listeners)originalListeners?.has(listener)&&runCallback((()=>listener(event)))}const globalListenersSrc=this.getGlobalListeners(async);if(globalListenersSrc.size>0){const globalListeners=new Set(globalListenersSrc);for(const listener of globalListeners)runCallback((()=>listener(eventType,event)))}}getGlobalListeners(async){return async?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(func){if(this.asyncFunctionsQueue.push(func),!this.scheduled){const flush=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(flush):flush(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const queueCopy=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],queueCopy.forEach((func=>func()))}};function _makeNull(value){return null==value||""===value?null:value}function _exists(value){return null!=value&&""!==value}function _missing(value){return!_exists(value)}function _toStringOrNull(value){return null!=value&&"function"==typeof value.toString?value.toString():null}function _defaultComparator(valueA,valueB,accentedCompare=!1){const valueAMissing=null==valueA,valueBMissing=null==valueB;if(valueA&&valueA.toNumber&&(valueA=valueA.toNumber()),valueB&&valueB.toNumber&&(valueB=valueB.toNumber()),valueAMissing&&valueBMissing)return 0;if(valueAMissing)return-1;if(valueBMissing)return 1;function doQuickCompare(a,b){return a>b?1:a<b?-1:0}if("string"!=typeof valueA)return doQuickCompare(valueA,valueB);if(!accentedCompare)return doQuickCompare(valueA,valueB);try{return valueA.localeCompare(valueB)}catch(e){return doQuickCompare(valueA,valueB)}}var reUnescapedHtml=/[&<>"']/g,HTML_ESCAPES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _toString(toEscape){return toEscape?.toString().toString()??null}function _escapeString(toEscape){return _toString(toEscape)?.replace(reUnescapedHtml,(chr=>HTML_ESCAPES[chr]))??null}function _getRootNode(beans){return beans.eRootDiv.getRootNode()}function _getActiveDomElement(beans){return _getRootNode(beans).activeElement}function _getDocument(beans){const{gos,eRootDiv}=beans;let result=null;const optionsGetDocument=gos.get("getDocument");return optionsGetDocument&&_exists(optionsGetDocument)?result=optionsGetDocument():eRootDiv&&(result=eRootDiv.ownerDocument),result&&_exists(result)?result:document}function _isNothingFocused(beans){const activeEl=_getActiveDomElement(beans);return null===activeEl||activeEl===_getDocument(beans).body}function _getWindow(beans){return _getDocument(beans).defaultView||window}function _getPageBody(beans){let rootNode=null,targetEl=null;try{rootNode=_getDocument(beans).fullscreenElement}catch(e){}finally{rootNode||(rootNode=_getRootNode(beans));const body=rootNode.querySelector("body");targetEl=body||(rootNode instanceof ShadowRoot?rootNode:rootNode instanceof Document?rootNode?.documentElement:rootNode)}return targetEl}function _toggleAriaAttribute(element,attribute,value){null==value||"string"==typeof value&&""==value?_removeAriaAttribute(element,attribute):_setAriaAttribute(element,attribute,value)}function _setAriaAttribute(element,attribute,value){element.setAttribute(_ariaAttributeName(attribute),value.toString())}function _removeAriaAttribute(element,attribute){element.removeAttribute(_ariaAttributeName(attribute))}function _ariaAttributeName(attribute){return`aria-${attribute}`}function _setAriaRole(element,role){role?element.setAttribute("role",role):element.removeAttribute("role")}function _setAriaLabel(element,label){_toggleAriaAttribute(element,"label",label)}function _setAriaLabelledBy(element,labelledBy){_toggleAriaAttribute(element,"labelledby",labelledBy)}function _setAriaLive(element,live){_toggleAriaAttribute(element,"live",live)}function _setAriaHidden(element,hidden){_toggleAriaAttribute(element,"hidden",hidden)}function _setAriaExpanded(element,expanded){_setAriaAttribute(element,"expanded",expanded)}function _setAriaRowCount(element,rowCount){_setAriaAttribute(element,"rowcount",rowCount)}function _setAriaRowIndex(element,rowIndex){_setAriaAttribute(element,"rowindex",rowIndex)}function _setAriaColCount(element,colCount){_setAriaAttribute(element,"colcount",colCount)}function _setAriaColIndex(element,colIndex){_setAriaAttribute(element,"colindex",colIndex)}function _setAriaSort(element,sort){_setAriaAttribute(element,"sort",sort)}function _removeAriaSort(element){_removeAriaAttribute(element,"sort")}function _getAriaCheckboxStateName(translate,state){return void 0===state?translate("ariaIndeterminate","indeterminate"):!0===state?translate("ariaChecked","checked"):translate("ariaUnchecked","unchecked")}var FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea, [href]",FOCUSABLE_EXCLUDE="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function _isFocusableFormField(element){const matches=Element.prototype.matches||Element.prototype.msMatchesSelector,isFocusable=matches.call(element,"input, select, button, textarea"),isNotFocusable=matches.call(element,FOCUSABLE_EXCLUDE),isElementVisible=_isVisible(element);return isFocusable&&!isNotFocusable&&isElementVisible}function _setDisplayed(element,displayed,options={}){const{skipAriaHidden}=options;element.classList.toggle("ag-hidden",!displayed),skipAriaHidden||_setAriaHidden(element,!displayed)}function _setDisabled(element,disabled){const addOrRemoveDisabledAttribute=disabled?e=>e.setAttribute("disabled",""):e=>e.removeAttribute("disabled");addOrRemoveDisabledAttribute(element);const inputs=element.querySelectorAll("input")??[];for(const input of inputs)addOrRemoveDisabledAttribute(input)}function _isElementChildOfClass(element,cls,maxNest){let counter=0;for(;element;){if(element.classList.contains(cls))return!0;if(element=element.parentElement,"number"==typeof maxNest){if(++counter>maxNest)break}else if(element===maxNest)break}return!1}function _getElementSize(el){const{height,width,borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth,paddingTop,paddingRight,paddingBottom,paddingLeft,marginTop,marginRight,marginBottom,marginLeft,boxSizing}=window.getComputedStyle(el);return{height:parseFloat(height||"0"),width:parseFloat(width||"0"),borderTopWidth:parseFloat(borderTopWidth||"0"),borderRightWidth:parseFloat(borderRightWidth||"0"),borderBottomWidth:parseFloat(borderBottomWidth||"0"),borderLeftWidth:parseFloat(borderLeftWidth||"0"),paddingTop:parseFloat(paddingTop||"0"),paddingRight:parseFloat(paddingRight||"0"),paddingBottom:parseFloat(paddingBottom||"0"),paddingLeft:parseFloat(paddingLeft||"0"),marginTop:parseFloat(marginTop||"0"),marginRight:parseFloat(marginRight||"0"),marginBottom:parseFloat(marginBottom||"0"),marginLeft:parseFloat(marginLeft||"0"),boxSizing}}function _getInnerHeight(el){const size=_getElementSize(el);return"border-box"===size.boxSizing?size.height-size.paddingTop-size.paddingBottom:size.height}function _getInnerWidth(el){const size=_getElementSize(el);return"border-box"===size.boxSizing?size.width-size.paddingLeft-size.paddingRight:size.width}function _getElementRectWithOffset(el){const offsetElementRect=el.getBoundingClientRect(),{borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth}=_getElementSize(el);return{top:offsetElementRect.top+(borderTopWidth||0),left:offsetElementRect.left+(borderLeftWidth||0),right:offsetElementRect.right+(borderRightWidth||0),bottom:offsetElementRect.bottom+(borderBottomWidth||0)}}function _getScrollLeft(element,rtl){let scrollLeft=element.scrollLeft;return rtl&&(scrollLeft=Math.abs(scrollLeft)),scrollLeft}function _setScrollLeft(element,value,rtl){rtl&&(value*=-1),element.scrollLeft=value}function _clearElement(el){for(;el&&el.firstChild;)el.removeChild(el.firstChild)}function _removeFromParent(node){node&&node.parentNode&&node.parentNode.removeChild(node)}function _isInDOM(element){return!!element.offsetParent}function _isVisible(element){const el=element;if(el.checkVisibility)return el.checkVisibility({checkVisibilityCSS:!0});return!(!_isInDOM(element)||"visible"!==window.getComputedStyle(element).visibility)}function _loadTemplate(template){const tempDiv=document.createElement("div");return tempDiv.innerHTML=(template||"").trim(),tempDiv.firstChild}function _isHorizontalScrollShowing(element){return element.clientWidth<element.scrollWidth}function _isVerticalScrollShowing(element){return element.clientHeight<element.scrollHeight}function _setElementWidth(element,width){"flex"===width?(element.style.removeProperty("width"),element.style.removeProperty("minWidth"),element.style.removeProperty("maxWidth"),element.style.flex="1 1 auto"):_setFixedWidth(element,width)}function _setFixedWidth(element,width){width=_formatSize(width),element.style.width=width,element.style.maxWidth=width,element.style.minWidth=width}function _setFixedHeight(element,height){height=_formatSize(height),element.style.height=height,element.style.maxHeight=height,element.style.minHeight=height}function _formatSize(size){return"number"==typeof size?`${size}px`:size}function _isNodeOrElement(o){return o instanceof Node||o instanceof HTMLElement}function _addOrRemoveAttribute(element,name,value){null==value||""===value?element.removeAttribute(name):element.setAttribute(name,value.toString())}function _observeResize(beans,element,callback){const ResizeObserverImpl=_getWindow(beans).ResizeObserver,resizeObserver=ResizeObserverImpl?new ResizeObserverImpl(callback):null;return resizeObserver?.observe(element),()=>resizeObserver?.disconnect()}function _requestAnimationFrame(beans,callback){const win=_getWindow(beans);win.requestAnimationFrame?win.requestAnimationFrame(callback):win.webkitRequestAnimationFrame?win.webkitRequestAnimationFrame(callback):win.setTimeout(callback,0)}var whitespaceNode,DataRefAttribute="data-ref";function getWhitespaceNode(){return whitespaceNode??(whitespaceNode=document.createTextNode(" ")),whitespaceNode.cloneNode()}function _createAgElement(params){const{attrs,children,cls,ref,role,tag}=params,element=document.createElement(tag);if(cls&&(element.className=cls),ref&&element.setAttribute(DataRefAttribute,ref),role&&element.setAttribute("role",role),attrs)for(const key of Object.keys(attrs))element.setAttribute(key,attrs[key]);if(children)if("string"==typeof children)element.textContent=children;else{let addFirstWhitespace=!0;for(const child of children)child&&("string"==typeof child?(element.appendChild(document.createTextNode(child)),addFirstWhitespace=!1):"function"==typeof child?element.appendChild(child()):(addFirstWhitespace&&(element.appendChild(getWhitespaceNode()),addFirstWhitespace=!1),element.append(_createAgElement(child)),element.appendChild(getWhitespaceNode())))}return element}var PASSIVE_EVENTS=["touchstart","touchend","touchmove","touchcancel","scroll"],NON_PASSIVE_EVENTS=["wheel"],supports={},_isEventSupported=(()=>{const tags={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return eventName=>{if("boolean"==typeof supports[eventName])return supports[eventName];const el=document.createElement(tags[eventName]||"div");return supports[eventName="on"+eventName]=eventName in el}})();var getPassiveStateForEvent=event=>{const isPassive=PASSIVE_EVENTS.includes(event),isNonPassive=NON_PASSIVE_EVENTS.includes(event);return!!isPassive||!isNonPassive&&void 0};function _areEventsNear(e1,e2,pixelCount){if(0===pixelCount)return!1;const diffX=Math.abs(e1.clientX-e2.clientX),diffY=Math.abs(e1.clientY-e2.clientY);return Math.max(diffX,diffY)<=pixelCount}function _isEventFromThisInstance(beans,event){return beans.gos.isElementInThisInstance(event.target)}function _anchorElementToMouseMoveEvent(element,mouseMoveEvent,beans){const height=element.getBoundingClientRect().height,browserWidth=function _getBodyWidth(beans){const body=_getPageBody(beans);return body?.clientWidth??(window.innerWidth||-1)}(beans)-2,browserHeight=function _getBodyHeight(beans){const body=_getPageBody(beans);return body?.clientHeight??(window.innerHeight||-1)}(beans)-2;if(!element.offsetParent)return;const offsetParentSize=_getElementRectWithOffset(element.offsetParent),{clientY,clientX}=mouseMoveEvent;let top=clientY-offsetParentSize.top-height/2,left=clientX-offsetParentSize.left-10;const eDocument=_getDocument(beans),win=eDocument.defaultView||window,windowScrollY=win.pageYOffset||eDocument.documentElement.scrollTop,windowScrollX=win.pageXOffset||eDocument.documentElement.scrollLeft;browserWidth>0&&left+element.clientWidth>browserWidth+windowScrollX&&(left=browserWidth+windowScrollX-element.clientWidth),left<0&&(left=0),browserHeight>0&&top+element.clientHeight>browserHeight+windowScrollY&&(top=browserHeight+windowScrollY-element.clientHeight),top<0&&(top=0),element.style.left=`${left}px`,element.style.top=`${top}px`}function defaultLocaleTextFunc(_key,defaultValue){return defaultValue}function _getLocaleTextFunc(localeSvc){return localeSvc?.getLocaleTextFunc()??defaultLocaleTextFunc}var AgBeanStub=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(beans){this.beans=beans,this.stubContext=beans.context,this.eventSvc=beans.eventSvc,this.gos=beans.gos}destroy(){const{destroyFunctions}=this;for(let i=0;i<destroyFunctions.length;i++)destroyFunctions[i]();destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(eventType,listener,async){this.localEventService||(this.localEventService=new LocalEventService),this.localEventService.addEventListener(eventType,listener,async)}removeEventListener(eventType,listener,async){this.localEventService?.removeEventListener(eventType,listener,async)}dispatchLocalEvent(event){this.localEventService?.dispatchEvent(event)}addManagedElementListeners(object,handlers){return this._setupListeners(object,handlers)}addManagedEventListeners(handlers){return this._setupListeners(this.eventSvc,handlers)}addManagedListeners(object,handlers){return this._setupListeners(object,handlers)}_setupListeners(object,handlers){const destroyFuncs=[];for(const k of Object.keys(handlers)){const handler=handlers[k];handler&&destroyFuncs.push(this._setupListener(object,k,handler))}return destroyFuncs}_setupListener(object,event,listener){if(this.destroyed)return()=>null;let destroyFunc;if(function isAgEventEmitter(object){return void 0!==object.__addEventListener}(object))object.__addEventListener(event,listener),destroyFunc=()=>(object.__removeEventListener(event,listener),null);else{const objIsEventService=function isEventService(object){return"global"===object.eventServiceType}(object);object instanceof HTMLElement?function _addSafePassiveEventListener(eElement,event,listener){const passive=getPassiveStateForEvent(event);let options;null!=passive&&(options={passive}),eElement.addEventListener(event,listener,options)}(object,event,listener):objIsEventService?object.addListener(event,listener):object.addEventListener(event,listener),destroyFunc=objIsEventService?()=>(object.removeListener(event,listener),null):()=>(object.removeEventListener(event,listener),null)}return this.destroyFunctions.push(destroyFunc),()=>(destroyFunc(),this.destroyFunctions=this.destroyFunctions.filter((fn=>fn!==destroyFunc)),null)}setupPropertyListener(event,listener){const{gos}=this;gos.addPropertyEventListener(event,listener);const destroyFunc=()=>(gos.removePropertyEventListener(event,listener),null);return this.destroyFunctions.push(destroyFunc),()=>(destroyFunc(),this.destroyFunctions=this.destroyFunctions.filter((fn=>fn!==destroyFunc)),null)}addManagedPropertyListener(event,listener){return this.destroyed?()=>null:this.setupPropertyListener(event,listener)}addManagedPropertyListeners(events,listener){if(this.destroyed)return;const eventsKey=events.join("-")+this.propertyListenerId++,wrappedListener=event=>{if(event.changeSet){if(event.changeSet&&event.changeSet.id===this.lastChangeSetIdLookup[eventsKey])return;this.lastChangeSetIdLookup[eventsKey]=event.changeSet.id}const propertiesChangeEvent={type:"propertyChanged",changeSet:event.changeSet,source:event.source};listener(propertiesChangeEvent)};events.forEach((event=>this.setupPropertyListener(event,wrappedListener)))}getLocaleTextFunc(){return _getLocaleTextFunc(this.beans.localeSvc)}addDestroyFunc(func){this.isAlive()?this.destroyFunctions.push(func):func()}createOptionalManagedBean(bean,context){return bean?this.createManagedBean(bean,context):void 0}createManagedBean(bean,context){const res=this.createBean(bean,context);return this.addDestroyFunc(this.destroyBean.bind(this,bean,context)),res}createBean(bean,context,afterPreCreateCallback){return(context||this.stubContext).createBean(bean,afterPreCreateCallback)}destroyBean(bean,context){return(context||this.stubContext).destroyBean(bean)}destroyBeans(beans,context){return(context||this.stubContext).destroyBeans(beans)}};var BeanStub=class extends AgBeanStub{},doOnceFlags={};function _doOnce(func,key){doOnceFlags[key]||(func(),doOnceFlags[key]=!0)}var batchedCallsSetTimeout={pending:!1,funcs:[]},batchedCallsRaf={pending:!1,funcs:[]};function _batchCall(func,mode="setTimeout",beans){const batch="raf"===mode?batchedCallsRaf:batchedCallsSetTimeout;if(batch.funcs.push(func),batch.pending)return;batch.pending=!0;const runBatch=()=>{const funcsCopy=batch.funcs.slice();batch.funcs.length=0,batch.pending=!1,funcsCopy.forEach((func2=>func2()))};"raf"===mode?_requestAnimationFrame(beans,runBatch):window.setTimeout(runBatch,0)}function _debounce(bean,func,delay){let timeout;return function(...args){const context=this;window.clearTimeout(timeout),timeout=window.setTimeout((function(){bean.isAlive()&&func.apply(context,args)}),delay)}}function _throttle(func,wait){let previousCall=0;return function(...args){const currentCall=Date.now();currentCall-previousCall<wait||(previousCall=currentCall,func.apply(this,args))}}var SKIP_JS_BUILTINS=new Set(["__proto__","constructor","prototype"]);function _mergeDeep(dest,source,copyUndefined=!0,makeCopyOfSimpleObjects=!1){_exists(source)&&function _iterateObject(object,callback){if(null!=object)if(Array.isArray(object))for(let i=0;i<object.length;i++)callback(i.toString(),object[i]);else for(const key of Object.keys(object).filter((key2=>!SKIP_JS_BUILTINS.has(key2))))callback(key,object[key])}(source,((key,sourceValue)=>{let destValue=dest[key];if(destValue!==sourceValue){if(makeCopyOfSimpleObjects){if(null==destValue&&null!=sourceValue){"object"==typeof sourceValue&&sourceValue.constructor===Object&&(destValue={},dest[key]=destValue)}}_isNonNullObject(sourceValue)&&_isNonNullObject(destValue)&&!Array.isArray(destValue)?_mergeDeep(destValue,sourceValue,copyUndefined,makeCopyOfSimpleObjects):(copyUndefined||void 0!==sourceValue)&&(dest[key]=sourceValue)}}))}function _isNonNullObject(value){return"object"==typeof value&&null!==value}var _GlobalGridOptions=class _GlobalGridOptions{static applyGlobalGridOptions(providedOptions){if(!_GlobalGridOptions.gridOptions)return{...providedOptions};let mergedGridOps={};return _mergeDeep(mergedGridOps,_GlobalGridOptions.gridOptions,!0,!0),"deep"===_GlobalGridOptions.mergeStrategy?_mergeDeep(mergedGridOps,providedOptions,!0,!0):mergedGridOps={...mergedGridOps,...providedOptions},_GlobalGridOptions.gridOptions.context&&(mergedGridOps.context=_GlobalGridOptions.gridOptions.context),providedOptions.context&&("deep"===_GlobalGridOptions.mergeStrategy&&mergedGridOps.context&&_mergeDeep(providedOptions.context,mergedGridOps.context,!0,!0),mergedGridOps.context=providedOptions.context),mergedGridOps}};_GlobalGridOptions.gridOptions=void 0,_GlobalGridOptions.mergeStrategy="shallow";var GlobalGridOptions=_GlobalGridOptions;var GRID_OPTION_DEFAULTS={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function _logIfDebug(gos,message,...args){gos.get("debug")&&console.log("AG Grid: "+message,...args)}function _warnOnce(msg,...args){_doOnce((()=>console.warn("AG Grid: "+msg,...args)),msg+args?.join(""))}function _errorOnce(msg,...args){_doOnce((()=>console.error("AG Grid: "+msg,...args)),msg+args?.join(""))}var VERSION="34.2.0",MAX_URL_LENGTH=2e3,MIN_PARAM_LENGTH=100,VERSION_PARAM_NAME="_version_",getConsoleMessage=null,baseDocLink="https://www.ag-grid.com/javascript-data-grid";function getErrorParts(id,args,defaultMessage){return getConsoleMessage?.(id,args)??[minifiedLog(id,args,defaultMessage)]}function getMsgOrDefault(logger,id,args,isWarning,defaultMessage){logger(`${isWarning?"warning":"error"} #${id}`,...getErrorParts(id,args,defaultMessage))}function stringifyValue(value){let output=value;return value instanceof Error?output=value.toString():"object"==typeof value&&(output=function stringifyObject(inputObj){if(!inputObj)return String(inputObj);const object={};for(const prop of Object.keys(inputObj))"object"!=typeof inputObj[prop]&&"function"!=typeof inputObj[prop]&&(object[prop]=inputObj[prop]);return JSON.stringify(object)}(value)),output}function getParamsUrl(baseUrl,params){return`${baseUrl}?${params.toString()}`}function getErrorLink(errorNum,args){const params=new URLSearchParams;if(params.append(VERSION_PARAM_NAME,VERSION),args)for(const key of Object.keys(args))params.append(key,stringifyValue(args[key]));const baseUrl=`${baseDocLink}/errors/${errorNum}`,url=getParamsUrl(baseUrl,params);return url.length<=MAX_URL_LENGTH?url:function truncateUrl(baseUrl,params,maxLength){const sortedParams=Array.from(params.entries()).sort(((a,b)=>b[1].length-a[1].length));let url=getParamsUrl(baseUrl,params);for(const[key,value]of sortedParams){if(key===VERSION_PARAM_NAME)continue;const excessLength=url.length-maxLength;if(excessLength<=0)break;const ellipse="...",truncateAmount=excessLength+ellipse.length,truncatedValue=value.length-truncateAmount>MIN_PARAM_LENGTH?value.slice(0,value.length-truncateAmount)+ellipse:value.slice(0,MIN_PARAM_LENGTH)+ellipse;params.set(key,truncatedValue),url=getParamsUrl(baseUrl,params)}return url}(baseUrl,params,MAX_URL_LENGTH)}var minifiedLog=(errorNum,args,defaultMessage)=>`${defaultMessage?defaultMessage+" \n":""}Visit ${getErrorLink(errorNum,args)}${defaultMessage?"":" \n  Alternatively register the ValidationModule to see the full message in the console."}`;function _warn(...args){getMsgOrDefault(_warnOnce,args[0],args[1],!0)}function _error(...args){getMsgOrDefault(_errorOnce,args[0],args[1],!1)}function _logPreInitErr(id,args,defaultMessage){getMsgOrDefault(_errorOnce,id,args,!1,defaultMessage)}function getErrMsg(defaultMessage,args){const id=args[0];return`error #${id} `+getErrorParts(id,args[1],defaultMessage).join(" ")}function _errMsg(...args){return getErrMsg(void 0,args)}function isRowModelType(gos,rowModelType){return gos.get("rowModelType")===rowModelType}function _isClientSideRowModel(gos,rowModel){return isRowModelType(gos,"clientSide")}function _isServerSideRowModel(gos,rowModel){return isRowModelType(gos,"serverSide")}function _isDomLayout(gos,domLayout){return gos.get("domLayout")===domLayout}function _isRowSelection(gos){return void 0!==_getRowSelectionMode(gos)}function _isGetRowHeightFunction(gos){return"function"==typeof gos.get("getRowHeight")}function _getRowHeightForNode(beans,rowNode,allowEstimate=!1,defaultRowHeight){const{gos,environment}=beans;if(null==defaultRowHeight&&(defaultRowHeight=environment.getDefaultRowHeight()),_isGetRowHeightFunction(gos)){if(allowEstimate)return{height:defaultRowHeight,estimated:!0};const params={node:rowNode,data:rowNode.data},height=gos.getCallback("getRowHeight")(params);if(isNumeric(height))return 0===height&&_warn(23),{height:Math.max(1,height),estimated:!1}}if(rowNode.detail&&gos.get("masterDetail"))return function getMasterDetailRowHeight(gos){if(gos.get("detailRowAutoHeight"))return{height:1,estimated:!1};const defaultRowHeight=gos.get("detailRowHeight");if(isNumeric(defaultRowHeight))return{height:defaultRowHeight,estimated:!1};return{height:300,estimated:!1}}(gos);const gridOptionsRowHeight=gos.get("rowHeight");return{height:gridOptionsRowHeight&&isNumeric(gridOptionsRowHeight)?gridOptionsRowHeight:defaultRowHeight,estimated:!1}}function _getRowHeightAsNumber(beans){const{environment,gos}=beans,gridOptionsRowHeight=gos.get("rowHeight");if(!gridOptionsRowHeight||_missing(gridOptionsRowHeight))return environment.getDefaultRowHeight();const rowHeight=environment.refreshRowHeightVariable();return-1!==rowHeight?rowHeight:(_warn(24),environment.getDefaultRowHeight())}function isNumeric(value){return!isNaN(value)&&"number"==typeof value&&isFinite(value)}function _getDomData(gos,element,key){const domData=element[gos.getDomDataKey()];return domData?domData[key]:void 0}function _setDomData(gos,element,key,value){const domDataKey=gos.getDomDataKey();let domData=element[domDataKey];_missing(domData)&&(domData={},element[domDataKey]=domData),domData[key]=value}function _isAnimateRows(gos){return!gos.get("ensureDomOrder")&&gos.get("animateRows")}function _isGroupRowsSticky(gos){return!(gos.get("paginateChildRows")||gos.get("groupHideOpenParents")||_isDomLayout(gos,"print"))}function _isColumnsSortingCoupledToGroup(gos){const autoGroupColumnDef=gos.get("autoGroupColumnDef");return!autoGroupColumnDef?.comparator&&!gos.get("treeData")}function _isGroupUseEntireRow(gos,pivotMode){return!pivotMode&&"groupRows"===gos.get("groupDisplayType")}function _isFullWidthGroupRow(gos,node,pivotMode){return!!node.group&&!node.footer&&_isGroupUseEntireRow(gos,pivotMode)}function _getCheckboxes(selection){return selection?.checkboxes??!0}function _getCheckboxLocation(rowSelection){if("object"==typeof rowSelection)return rowSelection.checkboxLocation??"selectionColumn"}function _isCellSelectionEnabled(gos){const selection=gos.get("cellSelection");return void 0!==selection?!!selection:gos.get("enableRangeSelection")}function _getRowSelectionMode(arg){const selection="beanName"in arg&&"gos"===arg.beanName?arg.get("rowSelection"):arg.rowSelection;if("string"==typeof selection)switch(selection){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(selection?.mode){case"multiRow":case"singleRow":return selection.mode;default:return}}function _getSelectAll(gos,defaultValue=!0){const rowSelection=gos.get("rowSelection");return"object"!=typeof rowSelection?defaultValue?"all":void 0:"multiRow"===rowSelection.mode?rowSelection.selectAll:"all"}function _isLegacyMenuEnabled(gos){return"legacy"===gos.get("columnMenu")}function _addGridCommonParams(gos,params){return gos.addCommon(params)}function _getGridOption(providedGridOptions,gridOption){return providedGridOptions[gridOption]??providedGridOptions.gridOptions?.[gridOption]??function _getGlobalGridOption(gridOption){return GlobalGridOptions.gridOptions?.[gridOption]}(gridOption)??GRID_OPTION_DEFAULTS[gridOption]}function _interpretAsRightClick({gos},event){return 2===event.button||event.ctrlKey&&gos.get("allowContextMenuWithControlKey")}var COL_DEF_DEFAULTS={resizable:!0,sortable:!0},instanceIdSequence=0;function getNextColInstanceId(){return instanceIdSequence++}function isColumn(col){return col instanceof AgColumn}var AgColumn=class extends BeanStub{constructor(colDef,userProvidedColDef,colId,primary){super(),this.colDef=colDef,this.userProvidedColDef=userProvidedColDef,this.colId=colId,this.primary=primary,this.isColumn=!0,this.instanceId=getNextColInstanceId(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new LocalEventService,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=_escapeString(colId)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef,beans:{sortSvc,pinnedCols,colFlex}}=this;sortSvc?.initCol(this);const hide=colDef.hide;this.visible=void 0!==hide?!hide:!colDef.initialHide,pinnedCols?.initCol(this),colFlex?.initCol(this)}setColDef(colDef,userProvidedColDef,source){const colSpanChanged=colDef.spanRows!==this.colDef.spanRows;this.colDef=colDef,this.userProvidedColDef=userProvidedColDef,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),colSpanChanged&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",source)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos,colDef:{field,tooltipField}}=this,suppressDotNotation=gos.get("suppressFieldDotNotation");this.fieldContainsDots=_exists(field)&&field.indexOf(".")>=0&&!suppressDotNotation,this.tooltipFieldContainsDots=_exists(tooltipField)&&tooltipField.indexOf(".")>=0&&!suppressDotNotation}initMinAndMaxWidths(){const colDef=this.colDef;this.minWidth=colDef.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=colDef.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const pivotColDefSvc=this.beans.pivotColDefSvc,pivotValueColumn=this.colDef.pivotValueColumn;pivotColDefSvc&&pivotValueColumn&&this.addManagedListeners(pivotValueColumn,{colDefChanged:evt=>{const colDef=pivotColDefSvc.recreateColDef(this.colDef);this.setColDef(colDef,colDef,evt.source)}})}resetActualWidth(source){const initialWidth=this.calculateColInitialWidth(this.colDef);this.setActualWidth(initialWidth,source,!0)}calculateColInitialWidth(colDef){let width;const colDefWidth=colDef.width,colDefInitialWidth=colDef.initialWidth;return width=null!=colDefWidth?colDefWidth:null!=colDefInitialWidth?colDefInitialWidth:200,Math.max(Math.min(width,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(colId){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,colId)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(eventType,listener){this.colEventSvc.addEventListener(eventType,listener)}__removeEventListener(eventType,listener){this.colEventSvc.removeEventListener(eventType,listener)}addEventListener(eventType,userListener){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const listener=this.frameworkEventListenerService?.wrap(eventType,userListener)??userListener;this.colEventSvc.addEventListener(eventType,listener)}removeEventListener(eventType,userListener){const listener=this.frameworkEventListenerService?.unwrap(eventType,userListener)??userListener;this.colEventSvc.removeEventListener(eventType,listener)}createColumnFunctionCallbackParams(rowNode){return _addGridCommonParams(this.gos,{node:rowNode,data:rowNode.data,column:this,colDef:this.colDef})}isSuppressNavigable(rowNode){return this.beans.cellNavigation?.isSuppressNavigable(this,rowNode)??!1}isCellEditable(rowNode){return this.beans.editSvc?.isCellEditable({rowNode,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(rowNode){return this.isColumnFunc(rowNode,this.colDef.rowDrag)}isDndSource(rowNode){return this.isColumnFunc(rowNode,this.colDef.dndSource)}isCellCheckboxSelection(rowNode){return this.beans.selectionSvc?.isCellCheckboxSelection(this,rowNode)??!1}isSuppressPaste(rowNode){return this.isColumnFunc(rowNode,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(key){return this.colDef[key]??COL_DEF_DEFAULTS[key]}isColumnFunc(rowNode,value){if("boolean"==typeof value)return value;if("function"==typeof value){return value(this.createColumnFunctionCallbackParams(rowNode))}return!1}createColumnEvent(type,source){return _addGridCommonParams(this.gos,{type,column:this,columns:[this],source})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return _missing(this.sort)}isSorting(){return _exists(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(left,source){this.oldLeft=this.left,this.left!==left&&(this.left=left,this.dispatchColEvent("leftChanged",source))}isFilterActive(){return this.filterActive}isHovered(){return _warn(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(firstRightPinned,source){this.firstRightPinned!==firstRightPinned&&(this.firstRightPinned=firstRightPinned,this.dispatchColEvent("firstRightPinnedChanged",source))}setLastLeftPinned(lastLeftPinned,source){this.lastLeftPinned!==lastLeftPinned&&(this.lastLeftPinned=lastLeftPinned,this.dispatchColEvent("lastLeftPinnedChanged",source))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(visible,source){const newValue=!0===visible;this.visible!==newValue&&(this.visible=newValue,this.dispatchColEvent("visibleChanged",source)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let parent=this.getOriginalParent();for(;parent&&parent.isPadding();)parent=parent.getOriginalParent();return parent}getColumnGroupPaddingInfo(){let parent=this.getParent();if(!parent||!parent.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const numberOfParents=parent.getPaddingLevel()+1;let isSpanningTotal=!0;for(;parent;){if(!parent.isPadding()){isSpanningTotal=!1;break}parent=parent.getParent()}return{numberOfParents,isSpanningTotal}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(height){const changed=height!==this.autoHeaderHeight;return this.autoHeaderHeight=height,changed}createBaseColDefParams(rowNode){return _addGridCommonParams(this.gos,{node:rowNode,data:rowNode.data,colDef:this.colDef,column:this})}getColSpan(rowNode){if(_missing(this.colDef.colSpan))return 1;const params=this.createBaseColDefParams(rowNode),colSpan=this.colDef.colSpan(params);return Math.max(colSpan,1)}getRowSpan(rowNode){if(_missing(this.colDef.rowSpan))return 1;const params=this.createBaseColDefParams(rowNode),rowSpan=this.colDef.rowSpan(params);return Math.max(rowSpan,1)}setActualWidth(actualWidth,source,silent=!1){actualWidth=Math.max(actualWidth,this.minWidth),actualWidth=Math.min(actualWidth,this.maxWidth),this.actualWidth!==actualWidth&&(this.actualWidth=actualWidth,null!=this.flex&&"flex"!==source&&"gridInitializing"!==source&&(this.flex=null),silent||this.fireColumnWidthChangedEvent(source)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(source){this.dispatchColEvent("widthChanged",source)}isGreaterThanMax(width){return width>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}dispatchColEvent(type,source,additionalEventAttributes){const colEvent=this.createColumnEvent(type,source);additionalEventAttributes&&_mergeDeep(colEvent,additionalEventAttributes),this.colEventSvc.dispatchEvent(colEvent)}dispatchStateUpdatedEvent(key){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key})}};function isProvidedColumnGroup(col){return col instanceof AgProvidedColumnGroup}var AgProvidedColumnGroup=class extends BeanStub{constructor(colGroupDef,groupId,padding,level){super(),this.colGroupDef=colGroupDef,this.groupId=groupId,this.padding=padding,this.level=level,this.isColumn=!1,this.expandable=!1,this.instanceId=getNextColInstanceId(),this.expandableListenerRemoveCallback=null,this.expanded=!!colGroupDef?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(colGroupDef,level){this.colGroupDef=colGroupDef,this.level=level,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some((child=>child.isVisible()))}isPadding(){return this.padding}setExpanded(expanded){this.expanded=void 0!==expanded&&expanded,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(children){this.children=children}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const result=[];return this.addLeafColumns(result),result}forEachLeafColumn(callback){if(this.children)for(const child of this.children)isColumn(child)?callback(child):isProvidedColumnGroup(child)&&child.forEachLeafColumn(callback)}addLeafColumns(leafColumns){this.children&&this.children.forEach((child=>{isColumn(child)?leafColumns.push(child):isProvidedColumnGroup(child)&&child.addLeafColumns(leafColumns)}))}getColumnGroupShow(){const colGroupDef=this.colGroupDef;if(colGroupDef)return colGroupDef.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const listener=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((col=>col.__addEventListener("visibleChanged",listener))),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach((col=>col.__removeEventListener("visibleChanged",listener))),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let atLeastOneShowingWhenOpen=!1,atLeastOneShowingWhenClosed=!1,atLeastOneChangeable=!1;const children=this.findChildrenRemovingPadding();for(let i=0,j=children.length;i<j;i++){const abstractColumn=children[i];if(!abstractColumn.isVisible())continue;const headerGroupShow=abstractColumn.getColumnGroupShow();"open"===headerGroupShow?(atLeastOneShowingWhenOpen=!0,atLeastOneChangeable=!0):"closed"===headerGroupShow?(atLeastOneShowingWhenClosed=!0,atLeastOneChangeable=!0):(atLeastOneShowingWhenOpen=!0,atLeastOneShowingWhenClosed=!0)}const expandable=atLeastOneShowingWhenOpen&&atLeastOneShowingWhenClosed&&atLeastOneChangeable;this.expandable!==expandable&&(this.expandable=expandable,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const res=[],process=items=>{items.forEach((item=>{isProvidedColumnGroup(item)&&item.isPadding()?process(item.children):res.push(item)}))};return process(this.children),res}onColumnVisibilityChanged(){this.setExpandable()}},DefaultColumnTypes={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function createMergedColGroupDef(beans,colGroupDef,groupId){const colGroupDefMerged={},gos=beans.gos;return Object.assign(colGroupDefMerged,gos.get("defaultColGroupDef")),Object.assign(colGroupDefMerged,colGroupDef),gos.validateColDef(colGroupDefMerged,groupId),colGroupDefMerged}var ColumnKeyCreator=class{constructor(){this.existingKeys={}}addExistingKeys(keys){for(let i=0;i<keys.length;i++)this.existingKeys[keys[i]]=!0}getUniqueKey(colId,colField){colId=_toStringOrNull(colId);let count=0;for(;;){let idToTry=colId??colField;if(idToTry?0!==count&&(idToTry+="_"+count):idToTry=count,!this.existingKeys[idToTry]){const usedId=String(idToTry);return colId&&count>0&&_warn(273,{providedId:colId,usedId}),this.existingKeys[usedId]=!0,usedId}count++}}};Object.freeze([]);function _last(arr){if(arr?.length)return arr[arr.length-1]}function _areEqual(a,b,comparator){if(a===b)return!0;if(!a||!b)return null==a&&null==b;const len=a.length;if(len!==b.length)return!1;for(let i=0;i<len;i++)if(a[i]!==b[i]&&!comparator?.(a[i],b[i]))return!1;return!0}function _forAll(array,callback){if(array)for(const value of array)callback(value)}function _removeFromArray(array,object){const index=array.indexOf(object);index>=0&&array.splice(index,1)}function _moveInArray(array,objectsToMove,toIndex){for(let i=0;i<objectsToMove.length;i++)_removeFromArray(array,objectsToMove[i]);for(let i=objectsToMove.length-1;i>=0;i--)array.splice(toIndex,0,objectsToMove[i])}var GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",SELECTION_COLUMN_ID="ag-Grid-SelectionColumn",ROW_NUMBERS_COLUMN_ID="ag-Grid-RowNumbersColumn";function _getColumnsFromTree(rootColumns){const result=[],recursiveFindColumns=childColumns=>{for(let i=0;i<childColumns.length;i++){const child=childColumns[i];isColumn(child)?result.push(child):isProvidedColumnGroup(child)&&recursiveFindColumns(child.getChildren())}};return recursiveFindColumns(rootColumns),result}function getWidthOfColsInList(columnList){return columnList.reduce(((width,col)=>width+col.getActualWidth()),0)}function _destroyColumnTree(beans,oldTree,newTree){const oldObjectsById={};if(!oldTree)return;depthFirstOriginalTreeSearch(null,oldTree,(child=>{oldObjectsById[child.getInstanceId()]=child})),newTree&&depthFirstOriginalTreeSearch(null,newTree,(child=>{oldObjectsById[child.getInstanceId()]=null}));const colsToDestroy=Object.values(oldObjectsById).filter((item=>null!=item));beans.context.destroyBeans(colsToDestroy)}function isColumnGroupAutoCol(col){return col.getId().startsWith(GROUP_AUTO_COLUMN_ID)}function isColumnSelectionCol(col){const id="string"==typeof col?col:"getColId"in col?col.getColId():col.colId;return id?.startsWith(SELECTION_COLUMN_ID)??!1}function isRowNumberCol(col){const id="string"==typeof col?col:"getColId"in col?col.getColId():col.colId;return id?.startsWith(ROW_NUMBERS_COLUMN_ID)??!1}function convertColumnTypes(type){let typeKeys=[];return type instanceof Array?typeKeys=type:"string"==typeof type&&(typeKeys=type.split(",")),typeKeys}function _convertColumnEventSourceType(source){return"optionsUpdated"===source?"gridOptionsChanged":source}function _columnsMatch(column,key){const columnMatches=column===key,colDefMatches=column.getColDef()===key,idMatches=column.getColId()==key;return columnMatches||colDefMatches||idMatches}var getValueFactory=(stateItem,defaultState)=>(key1,key2)=>{const obj={value1:void 0,value2:void 0};let calculated=!1;return stateItem&&(void 0!==stateItem[key1]&&(obj.value1=stateItem[key1],calculated=!0),_exists(key2)&&void 0!==stateItem[key2]&&(obj.value2=stateItem[key2],calculated=!0)),!calculated&&defaultState&&(void 0!==defaultState[key1]&&(obj.value1=defaultState[key1]),_exists(key2)&&void 0!==defaultState[key2]&&(obj.value2=defaultState[key2])),obj};function extractExistingTreeData(existingTree){const existingCols=[],existingGroups=[],existingColKeys=[];return existingTree&&depthFirstOriginalTreeSearch(null,existingTree,(item=>{if(isProvidedColumnGroup(item)){const group=item;existingGroups.push(group)}else{const col=item;existingColKeys.push(col.getId()),existingCols.push(col)}})),{existingCols,existingGroups,existingColKeys}}function _recursivelyCreateColumns(beans,defs,level,primaryColumns,existingColsCopy,columnKeyCreator,existingGroups,source){if(!defs)return[];const{colGroupSvc}=beans,result=new Array(defs.length);for(let i=0;i<result.length;i++){const def=defs[i];colGroupSvc&&isColumnGroupDef(def)?result[i]=colGroupSvc.createProvidedColumnGroup(primaryColumns,def,level,existingColsCopy,columnKeyCreator,existingGroups,source):result[i]=createColumn(beans,primaryColumns,def,existingColsCopy,columnKeyCreator,source)}return result}function createColumn(beans,primaryColumns,colDef,existingColsCopy,columnKeyCreator,source){const existingColAndIndex=function findExistingColumn(newColDef,existingColsCopy){if(!existingColsCopy)return;for(let i=0;i<existingColsCopy.length;i++){const def=existingColsCopy[i].getUserProvidedColDef();if(!def)continue;if(null!=newColDef.colId){if(existingColsCopy[i].getId()===newColDef.colId)return{idx:i,column:existingColsCopy[i]};continue}if(null!=newColDef.field){if(def.field===newColDef.field)return{idx:i,column:existingColsCopy[i]}}else if(def===newColDef)return{idx:i,column:existingColsCopy[i]}}return}(colDef,existingColsCopy);existingColAndIndex&&existingColsCopy?.splice(existingColAndIndex.idx,1);let column=existingColAndIndex?.column;if(column){const colDefMerged=_addColumnDefaultAndTypes(beans,colDef,column.getColId());column.setColDef(colDefMerged,colDef,source),_updateColumnState(beans,column,colDefMerged,source)}else{const colId=columnKeyCreator.getUniqueKey(colDef.colId,colDef.field),colDefMerged=_addColumnDefaultAndTypes(beans,colDef,colId);column=new AgColumn(colDefMerged,colDef,colId,primaryColumns),beans.context.createBean(column)}return beans.dataTypeSvc?.addColumnListeners(column),column}function updateSomeColumnState(beans,column,hide,sort,sortIndex,pinned,flex,source){const{sortSvc,pinnedCols,colFlex}=beans;void 0!==hide&&column.setVisible(!hide,source),sortSvc&&(sortSvc.updateColSort(column,sort,source),void 0!==sortIndex&&sortSvc.setColSortIndex(column,sortIndex)),void 0!==pinned&&pinnedCols?.setColPinned(column,pinned),void 0!==flex&&colFlex?.setColFlex(column,flex)}function _updateColumnState(beans,column,colDef,source){updateSomeColumnState(beans,column,colDef.hide,colDef.sort,colDef.sortIndex,colDef.pinned,colDef.flex,source);const colFlex=column.getFlex();if(!(null!=colFlex&&colFlex>0))if(null!=colDef.width)column.setActualWidth(colDef.width,source);else{const widthBeforeUpdate=column.getActualWidth();column.setActualWidth(widthBeforeUpdate,source)}}function _addColumnDefaultAndTypes(beans,colDef,colId,isAutoCol){const{gos,dataTypeSvc}=beans,res={};_mergeDeep(res,gos.get("defaultColDef"),!1,!0);const columnType=function updateColDefAndGetColumnType(beans,colDef,userColDef,colId){const dataTypeDefinitionColumnType=beans.dataTypeSvc?.updateColDefAndGetColumnType(colDef,userColDef,colId),columnTypes=userColDef.type??dataTypeDefinitionColumnType??colDef.type;return colDef.type=columnTypes,columnTypes?convertColumnTypes(columnTypes):void 0}(beans,res,colDef,colId);columnType&&function assignColumnTypes(beans,typeKeys,colDefMerged){if(!typeKeys.length)return;const allColumnTypes=Object.assign({},DefaultColumnTypes),userTypes=beans.gos.get("columnTypes")||{};for(const key of Object.keys(userTypes)){const value=userTypes[key];if(key in allColumnTypes)_warn(34,{key});else{value.type&&_warn(35),allColumnTypes[key]=value}}typeKeys.forEach((t=>{const typeColDef=allColumnTypes[t.trim()];typeColDef?_mergeDeep(colDefMerged,typeColDef,!1,!0):_warn(36,{t})}))}(beans,columnType,res);const cellDataType=res.cellDataType;_mergeDeep(res,colDef,!1,!0),void 0!==cellDataType&&(res.cellDataType=cellDataType);const autoGroupColDef=gos.get("autoGroupColumnDef"),isSortingCoupled=_isColumnsSortingCoupledToGroup(gos);return colDef.rowGroup&&autoGroupColDef&&isSortingCoupled&&_mergeDeep(res,{sort:autoGroupColDef.sort,initialSort:autoGroupColDef.initialSort},!1,!0),dataTypeSvc&&(dataTypeSvc.postProcess(res),dataTypeSvc.validateColDef(res)),gos.validateColDef(res,colId,isAutoCol),res}function isColumnGroupDef(abstractColDef){return void 0!==abstractColDef.children}function depthFirstOriginalTreeSearch(parent,tree,callback){if(tree)for(let i=0;i<tree.length;i++){const child=tree[i];isProvidedColumnGroup(child)&&depthFirstOriginalTreeSearch(child,child.getChildren(),callback),callback(child,parent)}}function placeLockedColumns(cols,gos){const left=[],normal=[],right=[];cols.forEach((col=>{const position=col.getColDef().lockPosition;"right"===position?right.push(col):"left"===position||!0===position?left.push(col):normal.push(col)}));return gos.get("enableRtl")?[...right,...normal,...left]:[...left,...normal,...right]}function doesMovePassMarryChildren(allColumnsCopy,gridBalancedTree){let rulePassed=!0;return depthFirstOriginalTreeSearch(null,gridBalancedTree,(child=>{if(!isProvidedColumnGroup(child))return;const columnGroup=child,colGroupDef=columnGroup.getColGroupDef();if(!(colGroupDef&&colGroupDef.marryChildren))return;const newIndexes=[];columnGroup.getLeafColumns().forEach((col=>{const newColIndex=allColumnsCopy.indexOf(col);newIndexes.push(newColIndex)}));Math.max.apply(Math,newIndexes)-Math.min.apply(Math,newIndexes)>columnGroup.getLeafColumns().length-1&&(rulePassed=!1)})),rulePassed}function getCommonValue(cols,valueGetter){if(!cols||0==cols.length)return;const firstValue=valueGetter(cols[0]);for(let i=1;i<cols.length;i++)if(firstValue!==valueGetter(cols[i]))return;return firstValue}function dispatchColumnPinnedEvent(eventSvc,changedColumns,source){if(!changedColumns.length)return;const column=1===changedColumns.length?changedColumns[0]:null,pinned=getCommonValue(changedColumns,(col=>col.getPinned()));eventSvc.dispatchEvent({type:"columnPinned",pinned:null!=pinned?pinned:null,columns:changedColumns,column,source})}function dispatchColumnChangedEvent(eventSvc,type,columns,source){eventSvc.dispatchEvent({type,columns,column:columns&&1==columns.length?columns[0]:null,source})}function dispatchColumnResizedEvent(eventSvc,columns,finished,source,flexColumns=null){columns?.length&&eventSvc.dispatchEvent({type:"columnResized",columns,column:1===columns.length?columns[0]:null,flexColumns,finished,source})}function _applyColumnState(beans,params,source){const{colModel,rowGroupColsSvc,pivotColsSvc,autoColSvc,selectionColSvc,colAnimation,visibleCols,pivotResultCols,environment,valueColsSvc,eventSvc,gos}=beans,providedCols=colModel.getColDefCols()??[],selectionCols=selectionColSvc?.getColumns();if(!providedCols.length&&!selectionCols?.length)return!1;if(params?.state&&!params.state.forEach)return _warn(32),!1;const syncColumnWithStateItem=(column,stateItem,rowGroupIndexes,pivotIndexes,autoCol)=>{if(!column)return;const getValue=getValueFactory(stateItem,params.defaultState),flex=getValue("flex").value1;if(updateSomeColumnState(beans,column,getValue("hide").value1,getValue("sort").value1,getValue("sortIndex").value1,getValue("pinned").value1,flex,source),null==flex){const width=getValue("width").value1;if(null!=width){const minColWidth=column.getColDef().minWidth??environment.getDefaultColumnMinWidth();null!=minColWidth&&width>=minColWidth&&column.setActualWidth(width,source)}}!autoCol&&column.isPrimary()&&(valueColsSvc?.syncColumnWithState(column,source,getValue),rowGroupColsSvc?.syncColumnWithState(column,source,getValue,rowGroupIndexes),pivotColsSvc?.syncColumnWithState(column,source,getValue,pivotIndexes))},applyStates=(states,existingColumns,getById2)=>{const dispatchEventsFunc=_compareColumnStatesAndDispatchEvents(beans,source),columnsWithNoState=existingColumns.slice(),rowGroupIndexes={},pivotIndexes={},autoColStates=[],selectionColStates=[],unmatchedAndAutoStates2=[];let unmatchedCount2=0;const previousRowGroupCols=rowGroupColsSvc?.columns.slice()??[],previousPivotCols=pivotColsSvc?.columns.slice()??[];states.forEach((state=>{const colId=state.colId;if(colId.startsWith(GROUP_AUTO_COLUMN_ID))return autoColStates.push(state),void unmatchedAndAutoStates2.push(state);if(isColumnSelectionCol(colId))return selectionColStates.push(state),void unmatchedAndAutoStates2.push(state);const column=getById2(colId);column?(syncColumnWithStateItem(column,state,rowGroupIndexes,pivotIndexes,!1),_removeFromArray(columnsWithNoState,column)):(unmatchedAndAutoStates2.push(state),unmatchedCount2+=1)}));const applyDefaultsFunc=col=>syncColumnWithStateItem(col,null,rowGroupIndexes,pivotIndexes,!1);columnsWithNoState.forEach(applyDefaultsFunc),rowGroupColsSvc?.sortColumns(comparatorByIndex.bind(rowGroupColsSvc,rowGroupIndexes,previousRowGroupCols)),pivotColsSvc?.sortColumns(comparatorByIndex.bind(pivotColsSvc,pivotIndexes,previousPivotCols)),colModel.refreshCols(!1);const syncColStates=(getCol,colStates,columns=[])=>{colStates.forEach((stateItem=>{const col=getCol(stateItem.colId);_removeFromArray(columns,col),syncColumnWithStateItem(col,stateItem,null,null,!0)})),columns.forEach(applyDefaultsFunc)};return syncColStates((colId=>autoColSvc?.getColumn(colId)??null),autoColStates,autoColSvc?.getColumns()?.slice()),syncColStates((colId=>selectionColSvc?.getColumn(colId)??null),selectionColStates,selectionColSvc?.getColumns()?.slice()),function orderLiveColsLikeState(params,colModel,gos){if(!params.applyOrder||!params.state)return;const colIds=[];params.state.forEach((item=>{null!=item.colId&&colIds.push(item.colId)})),function sortColsLikeKeys(cols,colIds,colModel,gos){if(null==cols)return;let newOrder=[];const processedColIds={};colIds.forEach((colId=>{if(processedColIds[colId])return;const col=cols.map[colId];col&&(newOrder.push(col),processedColIds[colId]=!0)}));let autoGroupInsertIndex=0;if(cols.list.forEach((col=>{const colId=col.getColId();if(null!=processedColIds[colId])return;colId.startsWith(GROUP_AUTO_COLUMN_ID)?newOrder.splice(autoGroupInsertIndex++,0,col):newOrder.push(col)})),newOrder=placeLockedColumns(newOrder,gos),!doesMovePassMarryChildren(newOrder,colModel.getColTree()))return void _warn(39);cols.list=newOrder}(colModel.cols,colIds,colModel,gos)}(params,colModel,gos),visibleCols.refresh(source),eventSvc.dispatchEvent({type:"columnEverythingChanged",source}),dispatchEventsFunc(),{unmatchedAndAutoStates:unmatchedAndAutoStates2,unmatchedCount:unmatchedCount2}};colAnimation?.start();let{unmatchedAndAutoStates,unmatchedCount}=applyStates(params.state||[],providedCols,(id=>colModel.getColDefCol(id)));if(unmatchedAndAutoStates.length>0||_exists(params.defaultState)){unmatchedCount=applyStates(unmatchedAndAutoStates,pivotResultCols?.getPivotResultCols()?.list??[],(id=>pivotResultCols?.getPivotResultCol(id)??null)).unmatchedCount}return colAnimation?.finish(),0===unmatchedCount}function _compareColumnStatesAndDispatchEvents(beans,source){const{rowGroupColsSvc,pivotColsSvc,valueColsSvc,colModel,sortSvc,eventSvc}=beans,startState={rowGroupColumns:rowGroupColsSvc?.columns.slice()??[],pivotColumns:pivotColsSvc?.columns.slice()??[],valueColumns:valueColsSvc?.columns.slice()??[]},columnStateBefore=_getColumnState(beans),columnStateBeforeMap={};return columnStateBefore.forEach((col=>{columnStateBeforeMap[col.colId]=col})),()=>{const dispatchWhenListsDifferent=(eventType,colsBefore,colsAfter,idMapper)=>{if(_areEqual(colsBefore.map(idMapper),colsAfter.map(idMapper)))return;const changes=new Set(colsBefore);colsAfter.forEach((id=>{changes.delete(id)||changes.add(id)}));const changesArr=[...changes];eventSvc.dispatchEvent({type:eventType,columns:changesArr,column:1===changesArr.length?changesArr[0]:null,source})},getChangedColumns=changedPredicate=>{const changedColumns2=[];return colModel.forAllCols((column=>{const colStateBefore=columnStateBeforeMap[column.getColId()];colStateBefore&&changedPredicate(colStateBefore,column)&&changedColumns2.push(column)})),changedColumns2},columnIdMapper=c=>c.getColId();dispatchWhenListsDifferent("columnRowGroupChanged",startState.rowGroupColumns,rowGroupColsSvc?.columns??[],columnIdMapper),dispatchWhenListsDifferent("columnPivotChanged",startState.pivotColumns,pivotColsSvc?.columns??[],columnIdMapper);const changedValues=getChangedColumns(((cs,c)=>{const oldActive=null!=cs.aggFunc,activeChanged=oldActive!=c.isValueActive(),aggFuncChanged=oldActive&&cs.aggFunc!=c.getAggFunc();return activeChanged||aggFuncChanged}));changedValues.length>0&&dispatchColumnChangedEvent(eventSvc,"columnValueChanged",changedValues,source);dispatchColumnResizedEvent(eventSvc,getChangedColumns(((cs,c)=>cs.width!=c.getActualWidth())),!0,source);dispatchColumnPinnedEvent(eventSvc,getChangedColumns(((cs,c)=>cs.pinned!=c.getPinned())),source);!function dispatchColumnVisibleEvent(eventSvc,changedColumns,source){if(!changedColumns.length)return;const column=1===changedColumns.length?changedColumns[0]:null,visible=getCommonValue(changedColumns,(col=>col.isVisible()));eventSvc.dispatchEvent({type:"columnVisible",visible,columns:changedColumns,column,source})}(eventSvc,getChangedColumns(((cs,c)=>cs.hide==c.isVisible())),source);const changedColumns=getChangedColumns(((cs,c)=>cs.sort!=c.getSort()||cs.sortIndex!=c.getSortIndex()));changedColumns.length>0&&sortSvc?.dispatchSortChangedEvents(source,changedColumns);const colStateAfter=_getColumnState(beans);!function normaliseColumnMovedEventForColumnState(colStateBefore,colStateAfter,source,colModel,eventSvc){const colStateAfterMapped={};colStateAfter.forEach((s=>colStateAfterMapped[s.colId]=s));const colsIntersectIds={};colStateBefore.forEach((s=>{colStateAfterMapped[s.colId]&&(colsIntersectIds[s.colId]=!0)}));const beforeFiltered=colStateBefore.filter((c=>colsIntersectIds[c.colId])),afterFiltered=colStateAfter.filter((c=>colsIntersectIds[c.colId])),movedColumns=[];if(afterFiltered.forEach(((csAfter,index)=>{const csBefore=beforeFiltered&&beforeFiltered[index];if(csBefore&&csBefore.colId!==csAfter.colId){const gridCol=colModel.getCol(csBefore.colId);gridCol&&movedColumns.push(gridCol)}})),!movedColumns.length)return;eventSvc.dispatchEvent({type:"columnMoved",columns:movedColumns,column:1===movedColumns.length?movedColumns[0]:null,finished:!0,source})}(columnStateBefore,colStateAfter,source,colModel,eventSvc)}}function _getColumnState(beans){const{colModel,rowGroupColsSvc,pivotColsSvc}=beans;if(_missing(colModel.getColDefCols())||!colModel.isAlive())return[];const rowGroupColumns=rowGroupColsSvc?.columns,pivotColumns=pivotColsSvc?.columns,res=[];colModel.forAllCols((col=>(column=>{const rowGroupIndex=column.isRowGroupActive()&&rowGroupColumns?rowGroupColumns.indexOf(column):null,pivotIndex=column.isPivotActive()&&pivotColumns?pivotColumns.indexOf(column):null,aggFunc=column.isValueActive()?column.getAggFunc():null,sort=null!=column.getSort()?column.getSort():null,sortIndex=null!=column.getSortIndex()?column.getSortIndex():null;res.push({colId:column.getColId(),width:column.getActualWidth(),hide:!column.isVisible(),pinned:column.getPinned(),sort,sortIndex,aggFunc,rowGroup:column.isRowGroupActive(),rowGroupIndex,pivot:column.isPivotActive(),pivotIndex,flex:column.getFlex()??null})})(col)));const colIdToGridIndexMap=new Map(colModel.getCols().map(((col,index)=>[col.getColId(),index])));return res.sort(((itemA,itemB)=>(colIdToGridIndexMap.has(itemA.colId)?colIdToGridIndexMap.get(itemA.colId):-1)-(colIdToGridIndexMap.has(itemB.colId)?colIdToGridIndexMap.get(itemB.colId):-1))),res}function getColumnStateFromColDef(column){const getValueOrNull=(a,b)=>null!=a?a:null!=b?b:null,colDef=column.getColDef(),sort=getValueOrNull(colDef.sort,colDef.initialSort),sortIndex=getValueOrNull(colDef.sortIndex,colDef.initialSortIndex),hide=getValueOrNull(colDef.hide,colDef.initialHide),pinned=getValueOrNull(colDef.pinned,colDef.initialPinned),width=getValueOrNull(colDef.width,colDef.initialWidth),flex=getValueOrNull(colDef.flex,colDef.initialFlex);let rowGroupIndex=getValueOrNull(colDef.rowGroupIndex,colDef.initialRowGroupIndex),rowGroup=getValueOrNull(colDef.rowGroup,colDef.initialRowGroup);null!=rowGroupIndex||null!=rowGroup&&0!=rowGroup||(rowGroupIndex=null,rowGroup=null);let pivotIndex=getValueOrNull(colDef.pivotIndex,colDef.initialPivotIndex),pivot=getValueOrNull(colDef.pivot,colDef.initialPivot);null!=pivotIndex||null!=pivot&&0!=pivot||(pivotIndex=null,pivot=null);const aggFunc=getValueOrNull(colDef.aggFunc,colDef.initialAggFunc);return{colId:column.getColId(),sort,sortIndex,hide,pinned,width,flex,rowGroup,rowGroupIndex,pivot,pivotIndex,aggFunc}}var comparatorByIndex=(indexes,oldList,colA,colB)=>{const indexA=indexes[colA.getId()],indexB=indexes[colB.getId()],aHasIndex=null!=indexA,bHasIndex=null!=indexB;if(aHasIndex&&bHasIndex)return indexA-indexB;if(aHasIndex)return-1;if(bHasIndex)return 1;const oldIndexA=oldList.indexOf(colA),oldIndexB=oldList.indexOf(colB),aHasOldIndex=oldIndexA>=0;return aHasOldIndex&&oldIndexB>=0?oldIndexA-oldIndexB:aHasOldIndex?-1:1},GroupInstanceIdCreator=class{constructor(){this.existingIds={}}getInstanceIdForKey(key){const lastResult=this.existingIds[key];let result;return result="number"!=typeof lastResult?0:lastResult+1,this.existingIds[key]=result,result}},EmptyBean=class extends BeanStub{};function setupCompBean(ctrl,ctx,compBean){return compBean&&ctrl.addDestroyFunc((()=>ctx.destroyBean(compBean))),compBean??ctrl}var CssClassManager=class{constructor(getGui){this.cssClassStates={},this.getGui=getGui}toggleCss(className,addOrRemove){if(!className)return;if(className.indexOf(" ")>=0){const list=(className||"").split(" ");if(list.length>1)return void list.forEach((cls=>this.toggleCss(cls,addOrRemove)))}this.cssClassStates[className]!==addOrRemove&&className.length&&(this.getGui()?.classList.toggle(className,addOrRemove),this.cssClassStates[className]=addOrRemove)}},compIdSequence=0,AgComponentStub=class extends AgBeanStub{constructor(templateOrParams,componentSelectors){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=compIdSequence++,this.cssManager=new CssClassManager((()=>this.eGui)),this.componentSelectors=new Map((componentSelectors??[]).map((comp=>[comp.selector,comp]))),templateOrParams&&this.setTemplate(templateOrParams)}preConstruct(){this.wireTemplate(this.getGui());const debugId="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach((css=>this.beans.environment.addGlobalCSS(css,debugId)))}wireTemplate(element,paramsMap){element&&this.gos&&(this.applyElementsToComponent(element),this.createChildComponentsFromTags(element,paramsMap))}getCompId(){return this.compId}getDataRefAttribute(element){return element.getAttribute?element.getAttribute(DataRefAttribute):null}applyElementsToComponent(element,elementRef,paramsMap,newComponent=null){if(void 0===elementRef&&(elementRef=this.getDataRefAttribute(element)),elementRef){const current=this[elementRef];if(null===current)this[elementRef]=newComponent??element;else{const usedAsParamRef=paramsMap&&paramsMap[elementRef];if(!this.suppressDataRefValidation&&!usedAsParamRef)throw new Error(`data-ref: ${elementRef} on ${this.constructor.name} with ${current}`)}}}createChildComponentsFromTags(parentNode,paramsMap){const childNodeList=[];for(const childNode of parentNode.childNodes??[])childNodeList.push(childNode);childNodeList.forEach((childNode=>{if(!(childNode instanceof HTMLElement))return;const childComp=this.createComponentFromElement(childNode,(childComp2=>{const childGui=childComp2.getGui();if(childGui)for(const attr of childNode.attributes??[])childGui.setAttribute(attr.name,attr.value)}),paramsMap);if(childComp){if(childComp.addItems&&childNode.children.length){this.createChildComponentsFromTags(childNode,paramsMap);const items=Array.prototype.slice.call(childNode.children);childComp.addItems(items)}this.swapComponentForNode(childComp,parentNode,childNode)}else childNode.childNodes&&this.createChildComponentsFromTags(childNode,paramsMap)}))}createComponentFromElement(element,afterPreCreateCallback,paramsMap){const key=element.nodeName,elementRef=this.getDataRefAttribute(element),isAgGridComponent=0===key.indexOf("AG-"),componentSelector=isAgGridComponent?this.componentSelectors.get(key):null;let newComponent=null;if(componentSelector){const componentParams=paramsMap&&elementRef?paramsMap[elementRef]:void 0;newComponent=new componentSelector.component(componentParams),newComponent.setParentComponent(this),this.createBean(newComponent,null,afterPreCreateCallback)}else if(isAgGridComponent)throw new Error(`selector: ${key}`);return this.applyElementsToComponent(element,elementRef,paramsMap,newComponent),newComponent}swapComponentForNode(newComponent,parentNode,childNode){const eComponent=newComponent.getGui();parentNode.replaceChild(eComponent,childNode),parentNode.insertBefore(document.createComment(childNode.nodeName),eComponent),this.addDestroyFunc(this.destroyBean.bind(this,newComponent))}activateTabIndex(elements){const tabIndex=this.gos.get("tabIndex");elements||(elements=[]),elements.length||elements.push(this.getGui()),elements.forEach((el=>el.setAttribute("tabindex",tabIndex.toString())))}setTemplate(templateOrParams,componentSelectors,paramsMap){let eGui;eGui="string"==typeof templateOrParams||null==templateOrParams?_loadTemplate(templateOrParams):_createAgElement(templateOrParams),this.setTemplateFromElement(eGui,componentSelectors,paramsMap)}setTemplateFromElement(element,components,paramsMap,suppressDataRefValidation=!1){if(this.eGui=element,this.suppressDataRefValidation=suppressDataRefValidation,components)for(let i=0;i<components.length;i++){const component=components[i];this.componentSelectors.set(component.selector,component)}this.wireTemplate(element,paramsMap)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(component){this.parentComponent=component}getParentComponent(){return this.parentComponent}setGui(eGui){this.eGui=eGui}queryForHtmlElement(cssSelector){return this.eGui.querySelector(cssSelector)}getContainerAndElement(newChild,container){let parent=container;return null==newChild?null:(parent||(parent=this.eGui),_isNodeOrElement(newChild)?{element:newChild,parent}:{element:newChild.getGui(),parent})}prependChild(newChild,container){const{element,parent}=this.getContainerAndElement(newChild,container)||{};element&&parent&&parent.insertAdjacentElement("afterbegin",element)}appendChild(newChild,container){const{element,parent}=this.getContainerAndElement(newChild,container)||{};element&&parent&&parent.appendChild(element)}isDisplayed(){return this.displayed}setVisible(visible,options={}){if(visible!==this.visible){this.visible=visible;const{skipAriaHidden}=options;!function _setVisible(element,visible,options={}){const{skipAriaHidden}=options;element.classList.toggle("ag-invisible",!visible),skipAriaHidden||_setAriaHidden(element,!visible)}(this.eGui,visible,{skipAriaHidden})}}setDisplayed(displayed,options={}){if(displayed!==this.displayed){this.displayed=displayed;const{skipAriaHidden}=options;_setDisplayed(this.eGui,displayed,{skipAriaHidden});const event={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(event)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(event,listener,options){this.eGui.addEventListener(event,listener,options),this.addDestroyFunc((()=>this.eGui.removeEventListener(event,listener)))}addCss(className){this.cssManager.toggleCss(className,!0)}removeCss(className){this.cssManager.toggleCss(className,!1)}toggleCss(className,addOrRemove){this.cssManager.toggleCss(className,addOrRemove)}registerCSS(css){this.css||(this.css=[]),this.css.push(css)}},Component=class extends AgComponentStub{};var AgPromise=class _AgPromise{constructor(callback){this.status=0,this.resolution=null,this.waiters=[],callback((value=>this.onDone(value)),(params=>this.onReject(params)))}static all(promises){return promises.length?new _AgPromise((resolve=>{let remainingToResolve=promises.length;const combinedValues=new Array(remainingToResolve);promises.forEach(((promise,index)=>{promise.then((value=>{combinedValues[index]=value,remainingToResolve--,0===remainingToResolve&&resolve(combinedValues)}))}))})):_AgPromise.resolve()}static resolve(value=null){return new _AgPromise((resolve=>resolve(value)))}then(func){return new _AgPromise((resolve=>{1===this.status?resolve(func(this.resolution)):this.waiters.push((value=>resolve(func(value))))}))}onDone(value){this.status=1,this.resolution=value,this.waiters.forEach((waiter=>waiter(value)))}onReject(_){}};function _getUserCompKeys(frameworkOverrides,defObject,type,params){const{name}=type;let compName,jsComp,fwComp,paramsFromSelector,popupFromSelector,popupPositionFromSelector;if(defObject){const defObjectAny=defObject,selectorFunc=defObjectAny[name+"Selector"],selectorRes=selectorFunc?selectorFunc(params):null,assignComp=providedJsComp=>{if("string"==typeof providedJsComp)compName=providedJsComp;else if(null!=providedJsComp&&!0!==providedJsComp){frameworkOverrides.isFrameworkComponent(providedJsComp)?fwComp=providedJsComp:jsComp=providedJsComp}};selectorRes?(assignComp(selectorRes.component),paramsFromSelector=selectorRes.params,popupFromSelector=selectorRes.popup,popupPositionFromSelector=selectorRes.popupPosition):assignComp(defObjectAny[name])}return{compName,jsComp,fwComp,paramsFromSelector,popupFromSelector,popupPositionFromSelector}}var DragAndDropImageComponent={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},HeaderComponent={name:"headerComponent",optionalMethods:["refresh"]},InnerHeaderComponent={name:"innerHeaderComponent"},InnerHeaderGroupComponent={name:"innerHeaderGroupComponent"},HeaderGroupComponent={name:"headerGroupComponent"},CellRendererComponent={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},LoadingCellRendererComponent={name:"loadingCellRenderer",cellRenderer:!0},LoadingOverlayComponent={name:"loadingOverlayComponent",optionalMethods:["refresh"]},NoRowsOverlayComponent={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},FullWidth={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},FullWidthLoading={name:"loadingCellRenderer",cellRenderer:!0},FullWidthGroup={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},FullWidthDetail={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function _getCellRendererDetails(userCompFactory,def,params){return userCompFactory.getCompDetails(def,CellRendererComponent,void 0,params)}function _getLoadingCellRendererDetails(userCompFactory,def,params){return userCompFactory.getCompDetails(def,LoadingCellRendererComponent,"agSkeletonCellRenderer",params,!0)}function _unwrapUserComp(comp){const compAsAny=comp;return null!=compAsAny&&null!=compAsAny.getFrameworkComponentInstance?compAsAny.getFrameworkComponentInstance():comp}var isSafari,isFirefox,isMacOs,isIOS,invisibleScrollbar,browserScrollbarWidth,maxDivHeight,KeyCode_BACKSPACE="Backspace",KeyCode_TAB="Tab",KeyCode_ENTER="Enter",KeyCode_ESCAPE="Escape",KeyCode_SPACE=" ",KeyCode_LEFT="ArrowLeft",KeyCode_UP="ArrowUp",KeyCode_RIGHT="ArrowRight",KeyCode_DOWN="ArrowDown",KeyCode_DELETE="Delete",KeyCode_F2="F2",KeyCode_PAGE_UP="PageUp",KeyCode_PAGE_DOWN="PageDown",KeyCode_PAGE_HOME="Home",KeyCode_PAGE_END="End",KeyCode_A="KeyA",KeyCode_C="KeyC",KeyCode_D="KeyD",KeyCode_V="KeyV",KeyCode_X="KeyX",KeyCode_Y="KeyY",KeyCode_Z="KeyZ";function _isBrowserSafari(){return void 0===isSafari&&(isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),isSafari}function _isBrowserFirefox(){return void 0===isFirefox&&(isFirefox=/(firefox)/i.test(navigator.userAgent)),isFirefox}function _isMacOsUserAgent(){return void 0===isMacOs&&(isMacOs=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),isMacOs}function _isIOSUserAgent(){return void 0===isIOS&&(isIOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),isIOS}function _getTabIndex(el){if(!el)return null;const numberTabIndex=el.tabIndex,tabIndex=el.getAttribute("tabIndex");return-1!==numberTabIndex||null!==tabIndex&&(""!==tabIndex||_isBrowserFirefox())?numberTabIndex.toString():null}function initScrollbarWidthAndVisibility(){const body=document.body,div=document.createElement("div");div.style.width=div.style.height="100px",div.style.opacity="0",div.style.overflow="scroll",div.style.msOverflowStyle="scrollbar",div.style.position="absolute",body.appendChild(div);let width=div.offsetWidth-div.clientWidth;0===width&&0===div.clientWidth&&(width=null),div.parentNode&&div.parentNode.removeChild(div),null!=width&&(browserScrollbarWidth=width,invisibleScrollbar=0===width)}function _isInvisibleScrollbar(){return null==invisibleScrollbar&&initScrollbarWidthAndVisibility(),invisibleScrollbar}var DATE_TIME_SEPARATOR="T",DATE_TIME_SEPARATOR_REGEXP=new RegExp(`[${DATE_TIME_SEPARATOR} ]`),DATE_TIME_REGEXP=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${DATE_TIME_SEPARATOR}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function _padStartWidthZeros(value,totalStringSize){return value.toString().padStart(totalStringSize,"0")}function _serialiseDate(date,includeTime=!0,separator=DATE_TIME_SEPARATOR){if(!date)return null;let serialised=[date.getFullYear(),date.getMonth()+1,date.getDate()].map((part=>_padStartWidthZeros(part,2))).join("-");return includeTime&&(serialised+=separator+[date.getHours(),date.getMinutes(),date.getSeconds()].map((part=>_padStartWidthZeros(part,2))).join(":")),serialised}function _isValidDate(value,bailIfInvalidTime=!1){return!!_parseDateTimeFromString(value,bailIfInvalidTime)}function _parseDateTimeFromString(value,bailIfInvalidTime=!1,skipValidation){if(!value)return null;if(!skipValidation&&!DATE_TIME_REGEXP.test(value))return null;const[dateStr,timeStr]=value.split(DATE_TIME_SEPARATOR_REGEXP);if(!dateStr)return null;const fields=dateStr.split("-").map((f=>parseInt(f,10)));if(3!==fields.filter((f=>!isNaN(f))).length)return null;const[year,month,day]=fields,date=new Date(year,month-1,day);if(date.getFullYear()!==year||date.getMonth()!==month-1||date.getDate()!==day)return null;if(!timeStr&&bailIfInvalidTime)return null;if(!timeStr||"00:00:00"===timeStr)return date;const[hours,minutes,seconds]=timeStr.split(":").map((part=>parseInt(part,10)));if(hours>=0&&hours<24)date.setHours(hours);else if(bailIfInvalidTime)return null;if(minutes>=0&&minutes<60)date.setMinutes(minutes);else if(bailIfInvalidTime)return null;if(seconds>=0&&seconds<60)date.setSeconds(seconds);else if(bailIfInvalidTime)return null;return date}function _isEventFromPrintableCharacter(event){if(event.altKey||event.ctrlKey||event.metaKey)return!1;return 1===event.key?.length}var keyboardModeActive=!1,instanceCount=0;function toggleKeyboardMode(event){const isKeyboardActive=keyboardModeActive,isKeyboardEvent="keydown"===event.type;isKeyboardEvent&&(event.ctrlKey||event.metaKey||event.altKey)||isKeyboardActive!==isKeyboardEvent&&(keyboardModeActive=isKeyboardEvent)}function _registerKeyboardFocusEvents(beans){const eDocument=_getDocument(beans);return function addKeyboardModeEvents(doc){instanceCount>0||(doc.addEventListener("keydown",toggleKeyboardMode),doc.addEventListener("mousedown",toggleKeyboardMode))}(eDocument),instanceCount++,()=>{instanceCount--,function removeKeyboardModeEvents(doc){instanceCount>0||(doc.removeEventListener("keydown",toggleKeyboardMode),doc.removeEventListener("mousedown",toggleKeyboardMode))}(eDocument)}}function _findFocusableElements(rootNode,exclude,onlyUnmanaged=!1){const focusableString=FOCUSABLE_SELECTOR;let excludeString=FOCUSABLE_EXCLUDE;exclude&&(excludeString+=", "+exclude),onlyUnmanaged&&(excludeString+=', [tabindex="-1"]');const nodes=Array.prototype.slice.apply(rootNode.querySelectorAll(focusableString)).filter((node=>_isVisible(node))),excludeNodes=Array.prototype.slice.apply(rootNode.querySelectorAll(excludeString));if(!excludeNodes.length)return nodes;return b=excludeNodes,nodes.filter((element=>-1===b.indexOf(element)));var b}function _focusInto(rootNode,up=!1,onlyUnmanaged=!1,excludeTabGuards=!1){const focusableElements=_findFocusableElements(rootNode,excludeTabGuards?".ag-tab-guard":null,onlyUnmanaged),toFocus=up?_last(focusableElements):focusableElements[0];return!!toFocus&&(toFocus.focus({preventScroll:!0}),!0)}function _findNextFocusableElement(beans,rootNode,onlyManaged,backwards){const focusable=_findFocusableElements(rootNode,onlyManaged?':not([tabindex="-1"])':null),activeEl=_getActiveDomElement(beans);let currentIndex;currentIndex=onlyManaged?focusable.findIndex((el=>el.contains(activeEl))):focusable.indexOf(activeEl);const nextIndex=currentIndex+(backwards?-1:1);return nextIndex<0||nextIndex>=focusable.length?null:focusable[nextIndex]}function _findTabbableParent(node,limit=5){let counter=0;for(;node&&null===_getTabIndex(node)&&++counter<=limit;)node=node.parentElement;return null===_getTabIndex(node)?null:node}var AgAbstractLabel=class extends AgComponentStub{constructor(config,template,components){super(template,components),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=config||{},this.registerCSS(".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}")}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator,label,labelWidth,labelAlignment,disabled}=this.config;null!=disabled&&this.setDisabled(disabled),null!=labelSeparator&&this.setLabelSeparator(labelSeparator),null!=label&&this.setLabel(label),null!=labelWidth&&this.setLabelWidth(labelWidth),this.setLabelAlignment(labelAlignment||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label,eLabel}=this;_clearElement(eLabel),"string"==typeof label?eLabel.innerText=label+this.labelSeparator:label&&eLabel.appendChild(label),""===label?(_setDisplayed(eLabel,!1),_setAriaRole(eLabel,"presentation")):(_setDisplayed(eLabel,!0),_setAriaRole(eLabel,null))}setLabelSeparator(labelSeparator){return this.labelSeparator===labelSeparator||(this.labelSeparator=labelSeparator,null!=this.label&&this.refreshLabel()),this}getLabelId(){const eLabel=this.eLabel;return eLabel.id=eLabel.id||`ag-${this.getCompId()}-label`,eLabel.id}getLabel(){return this.label}setLabel(label){return this.label===label||(this.label=label,this.refreshLabel()),this}setLabelAlignment(alignment){const eGuiClassList=this.getGui().classList;return eGuiClassList.toggle("ag-label-align-left","left"===alignment),eGuiClassList.toggle("ag-label-align-right","right"===alignment),eGuiClassList.toggle("ag-label-align-top","top"===alignment),this}setLabelEllipsis(hasEllipsis){return this.eLabel.classList.toggle("ag-label-ellipsis",hasEllipsis),this}setLabelWidth(width){return null==this.label||_setElementWidth(this.eLabel,width),this}setDisabled(disabled){disabled=!!disabled;const element=this.getGui();return _setDisabled(element,disabled),element.classList.toggle("ag-disabled",disabled),this.disabled=disabled,this}isDisabled(){return!!this.disabled}},AgAbstractField=class extends AgAbstractLabel{constructor(config,template,components,className){super(config,template,components),this.className=className}postConstruct(){super.postConstruct();const{width,value,onValueChange}=this.config;null!=width&&this.setWidth(width),null!=value&&this.setValue(value),null!=onValueChange&&this.onValueChange(onValueChange),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(label){return super.setLabel(label),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const ariaEl=this.getAriaElement(),labelId=this.getLabelId(),label=this.getLabel();null==label||""==label||null!==function _getAriaLabel(element){return element.getAttribute("aria-label")}(ariaEl)?_setAriaLabelledBy(ariaEl,""):_setAriaLabelledBy(ariaEl,labelId??"")}setAriaLabel(label){return _setAriaLabel(this.getAriaElement(),label),this.refreshAriaLabelledBy(),this}onValueChange(callbackFn){return this.addManagedListeners(this,{fieldValueChanged:()=>callbackFn(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(width){return _setFixedWidth(this.getGui(),width),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(value,silent){return this.value===value||(this.previousValue=this.value,this.value=value,silent||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}};var _a,AgAbstractInputField=class extends AgAbstractField{constructor(config,className,inputType="text",displayFieldTag="input"){super(config,config?.template??function buildTemplate(displayFieldTag){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:displayFieldTag,ref:"eInput",cls:"ag-input-field-input"}]}]}}(displayFieldTag),[],className),this.inputType=inputType,this.displayFieldTag=displayFieldTag,this.eLabel=null,this.eWrapper=null,this.eInput=null}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel,eWrapper,eInput,className}=this;eLabel.classList.add(`${className}-label`),eWrapper.classList.add(`${className}-input-wrapper`),eInput.classList.add(`${className}-input`),this.addCss("ag-input-field"),eInput.id=eInput.id||`ag-${this.getCompId()}-input`;const{inputName,inputWidth}=this.config;null!=inputName&&this.setInputName(inputName),null!=inputWidth&&this.setInputWidth(inputWidth),this.addInputListeners(),this.activateTabIndex([eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(inputType){"input"===this.displayFieldTag&&(this.inputType=inputType,_addOrRemoveAttribute(this.eInput,"type",inputType))}getInputElement(){return this.eInput}setInputWidth(width){return _setElementWidth(this.eWrapper,width),this}setInputName(name){return this.getInputElement().setAttribute("name",name),this}getFocusableElement(){return this.eInput}setMaxLength(length){return this.eInput.maxLength=length,this}setInputPlaceholder(placeholder){return _addOrRemoveAttribute(this.eInput,"placeholder",placeholder),this}setInputAriaLabel(label){return _setAriaLabel(this.eInput,label),this.refreshAriaLabelledBy(),this}setDisabled(disabled){return _setDisabled(this.eInput,disabled),super.setDisabled(disabled)}setAutoComplete(value){if(!0===value)_addOrRemoveAttribute(this.eInput,"autocomplete",null);else{const autoCompleteValue="string"==typeof value?value:"off";_addOrRemoveAttribute(this.eInput,"autocomplete",autoCompleteValue)}return this}},AgCheckbox=class extends AgAbstractInputField{constructor(config,className="ag-checkbox",inputType="checkbox"){super(config,className,inputType),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly,passive}=this.config;"boolean"==typeof readOnly&&this.setReadOnly(readOnly),"boolean"==typeof passive&&this.setPassive(passive)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return void 0===this.selected||!this.selected}setPassive(passive){this.passive=passive}isReadOnly(){return this.readOnly}setReadOnly(readOnly){this.eWrapper.classList.toggle("ag-disabled",readOnly),this.eInput.disabled=readOnly,this.readOnly=readOnly}setDisabled(disabled){return this.eWrapper.classList.toggle("ag-disabled",disabled),super.setDisabled(disabled)}toggle(){if(this.eInput.disabled)return;const previousValue=this.isSelected(),nextValue=this.getNextValue();this.passive?this.dispatchChange(nextValue,previousValue):this.setValue(nextValue)}getValue(){return this.isSelected()}setValue(value,silent){return this.refreshSelectedClass(value),this.setSelected(value,silent),this}setName(name){return this.getInputElement().name=name,this}isSelected(){return this.selected}setSelected(selected,silent){if(this.isSelected()===selected)return;this.previousValue=this.isSelected(),selected=this.selected="boolean"==typeof selected?selected:void 0;const eInput=this.eInput;eInput.checked=selected,eInput.indeterminate=void 0===selected,silent||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(selected,previousValue,event){this.dispatchLocalEvent({type:"fieldValueChanged",selected,previousValue,event});const input=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:input.id,name:input.name,selected,previousValue})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const previousValue=this.isSelected(),selected=this.selected=e.target.checked;this.refreshSelectedClass(selected),this.dispatchChange(selected,previousValue,e)}refreshSelectedClass(value){const classList=this.eWrapper.classList;classList.toggle("ag-checked",!0===value),classList.toggle("ag-indeterminate",null==value)}},AgCheckboxSelector={selector:"AG-CHECKBOX",component:AgCheckbox},IS_SSR="object"!=typeof window||!window?.document?.fonts?.forEach,_injectGlobalCSS=(css,styleContainer,debugId,layer,priority,nonce)=>{if(IS_SSR)return;layer&&(css=`@layer ${CSS.escape(layer)} { ${css} }`);let injections=injectionState.map.get(styleContainer);if(injections||(injections=[],injectionState.map.set(styleContainer,injections)),injections.find((i=>i.css===css)))return;const el=document.createElement("style");nonce&&el.setAttribute("nonce",nonce),el.dataset.agGlobalCss=debugId,el.textContent=css;const newInjection={css,el,priority};let insertAfter;for(const injection of injections){if(injection.priority>priority)break;insertAfter=injection}if(insertAfter){insertAfter.el.insertAdjacentElement("afterend",el);const index=injections.indexOf(insertAfter);injections.splice(index+1,0,newInjection)}else styleContainer.insertBefore(el,styleContainer.querySelector(":not(title, meta)")),injections.push(newInjection)},_injectCoreAndModuleCSS=(styleContainer,layer,nonce,moduleCss)=>{_injectGlobalCSS(':where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,ag-external,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-chart,.ag-dnd-ghost,.ag-external,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',styleContainer,"shared",layer,0,nonce),moduleCss?.forEach(((css,debugId)=>css.forEach((singleCss=>_injectGlobalCSS(singleCss,styleContainer,debugId,layer,0,nonce)))))},injectionState=(_a="object"==typeof window?window:{}).agStyleInjectionState??(_a.agStyleInjectionState={map:new WeakMap,grids:new Set}),createPart=args=>new PartImpl(args),partCounter=0,PartImpl=class{constructor({feature,params,modeParams={},css,cssImports}){this.feature=feature,this.css=css,this.cssImports=cssImports,this.modeParams={$default:{...modeParams.$default??{},...params??{}},...modeParams}}use(styleContainer,layer,nonce){let inject=this._inject;if(null==inject){let{css}=this;if(css){const className=`ag-theme-${this.feature??"part"}-${++partCounter}`;"function"==typeof css&&(css=css()),css=`:where(.${className}) {\n${css}\n}\n`;for(const cssImport of this.cssImports??[])css=`@import url(${JSON.stringify(cssImport)});\n${css}`;inject={css,class:className}}else inject=!1;this._inject=inject}return inject&&styleContainer&&_injectGlobalCSS(inject.css,styleContainer,inject.class,layer,1,nonce),!!inject&&inject.class}},paramToVariableName=paramName=>{return`--ag-${str=paramName,str.replace(/[A-Z]/g,(m=>`-${m}`)).toLowerCase()}`;var str},paramToVariableExpression=paramName=>`var(${paramToVariableName(paramName)})`,accentMix=mix=>({ref:"accentColor",mix}),foregroundMix=mix=>({ref:"foregroundColor",mix}),foregroundBackgroundMix=mix=>({ref:"foregroundColor",mix,onto:"backgroundColor"}),backgroundColor={ref:"backgroundColor"},foregroundColor={ref:"foregroundColor"},accentColor={ref:"accentColor"},defaultLightColorSchemeParams={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:foregroundMix(.15),chromeBackgroundColor:foregroundBackgroundMix(.02),browserColorScheme:"light"},sharedDefaults={...defaultLightColorSchemeParams,textColor:foregroundColor,accentColor:"#2196f3",invalidColor:"#e02525",fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],subtleTextColor:{ref:"textColor",mix:.5},borderWidth:1,borderRadius:4,spacing:8,fontSize:14,focusShadow:{spread:3,color:accentMix(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},dragAndDropImageBackgroundColor:backgroundColor,dragAndDropImageBorder:!0,dragAndDropImageNotAllowedBorder:{color:{ref:"invalidColor",onto:"dragAndDropImageBackgroundColor",mix:.5}},dragAndDropImageShadow:{ref:"popupShadow"},iconSize:16,iconColor:"inherit",toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:accentColor,toggleButtonOffBackgroundColor:foregroundBackgroundMix(.3),toggleButtonSwitchBackgroundColor:backgroundColor,toggleButtonSwitchInset:2,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}}},paramTypes=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],getParamType=(fn=>{const values=new Map;return a=>{const key=a;return values.has(key)||values.set(key,fn(a)),values.get(key)}})((param=>(param=param.toLowerCase(),paramTypes.find((type=>param.endsWith(type.toLowerCase())))??"length"))),literalToCSS=value=>"object"==typeof value&&value?.ref?paramToVariableExpression(value.ref):"string"==typeof value?value:"number"==typeof value&&String(value),colorValueToCss=value=>{if("string"==typeof value)return value;if(value&&"ref"in value){const colorExpr=paramToVariableExpression(value.ref);if(null==value.mix)return colorExpr;return`color-mix(in srgb, ${value.onto?paramToVariableExpression(value.onto):"transparent"}, ${colorExpr} ${((value,min,max)=>Math.max(min,Math.min(max,value)))(100*value.mix,0,100)}%)`}return!1},lengthValueToCss=value=>{if("string"==typeof value)return value;if("number"==typeof value)return`${value}px`;if(value&&"calc"in value){return`calc(${value.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,(p=>"-"===p[0]?p:` ${paramToVariableExpression(p)} `))})`}return!(!value||!("ref"in value))&&paramToVariableExpression(value.ref)},borderValueToCss=(value,param)=>"string"==typeof value?value:!0===value?borderValueToCss({},param):!1===value?"columnBorder"===param?borderValueToCss({color:"transparent"},param):"none":value&&"ref"in value?paramToVariableExpression(value.ref):borderStyleValueToCss(value.style??"solid")+" "+lengthValueToCss(value.width??{ref:"borderWidth"})+" "+colorValueToCss(value.color??{ref:"borderColor"}),borderStyleValueToCss=literalToCSS,fontFamilyValueToCss=value=>"string"==typeof value?value.includes(",")?value:quoteUnsafeChars(value):value&&"googleFont"in value?fontFamilyValueToCss(value.googleFont):value&&"ref"in value?paramToVariableExpression(value.ref):!!Array.isArray(value)&&value.map((font=>("object"==typeof font&&"googleFont"in font&&(font=font.googleFont),quoteUnsafeChars(font)))).join(", "),quoteUnsafeChars=font=>/^[\w-]+$|\w\(/.test(font)?font:JSON.stringify(font),fontWeightValueToCss=literalToCSS,imageValueToCss=value=>"string"==typeof value?value:value&&"url"in value?`url(${JSON.stringify(value.url)})`:value&&"svg"in value?imageValueToCss({url:`data:image/svg+xml,${encodeURIComponent(value.svg)}`}):!(!value||!("ref"in value))&&paramToVariableExpression(value.ref),paramValidators={color:colorValueToCss,colorScheme:literalToCSS,length:lengthValueToCss,scale:literalToCSS,border:borderValueToCss,borderStyle:borderStyleValueToCss,shadow:value=>"string"==typeof value?value:!1===value?"none":value&&"ref"in value?paramToVariableExpression(value.ref):[lengthValueToCss(value.offsetX??0),lengthValueToCss(value.offsetY??0),lengthValueToCss(value.radius??0),lengthValueToCss(value.spread??0),colorValueToCss(value.color??{ref:"foregroundColor"})].join(" "),image:imageValueToCss,fontFamily:fontFamilyValueToCss,fontWeight:fontWeightValueToCss,duration:(value,param,themeLogger)=>"string"==typeof value?value:"number"==typeof value?(value>=10&&themeLogger.warn(104,{value,param}),`${value}s`):!(!value||!("ref"in value))&&paramToVariableExpression(value.ref)},paramValueToCss=(param,value,themeLogger)=>{const type=getParamType(param);return paramValidators[type](value,param,themeLogger)},ThemeImpl=class _ThemeImpl{constructor(themeLogger,parts=[]){this.themeLogger=themeLogger,this.parts=parts}withPart(part){return"function"==typeof part&&(part=part()),part instanceof PartImpl?new _ThemeImpl(this.themeLogger,[...this.parts,part]):(this.themeLogger.preInitErr(259,"Invalid part",{part}),this)}withoutPart(feature){return this.withPart(createPart({feature}))}withParams(params,mode="$default"){return this.withPart(createPart({modeParams:{[mode]:params}}))}_startUse({styleContainer,cssLayer,nonce,loadThemeGoogleFonts,moduleCss}){if(IS_SSR)return;uninstallLegacyCSS(),_injectCoreAndModuleCSS(styleContainer,cssLayer,nonce,moduleCss);const googleFontsUsed=getGoogleFontsUsed(this);if(googleFontsUsed.length>0)for(const googleFont of googleFontsUsed)loadThemeGoogleFonts&&loadGoogleFont(googleFont,nonce);for(const part of this.parts)part.use(styleContainer,cssLayer,nonce)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=deduplicatePartsByFeature(this.parts).map((part=>part.use(void 0,void 0,void 0))).filter(Boolean).join(" "))}_getModeParams(){let paramsCache=this._paramsCache;if(!paramsCache){const mergedModeParams={$default:{...sharedDefaults}};for(const part of deduplicatePartsByFeature(this.parts))for(const partMode of Object.keys(part.modeParams)){const partParams=part.modeParams[partMode];if(partParams){const mergedParams=mergedModeParams[partMode]??(mergedModeParams[partMode]={}),partParamNames=new Set;for(const partParamName of Object.keys(partParams)){const partParamValue=partParams[partParamName];void 0!==partParamValue&&(mergedParams[partParamName]=partParamValue,partParamNames.add(partParamName))}if("$default"===partMode)for(const mergedMode of Object.keys(mergedModeParams)){const mergedParams2=mergedModeParams[mergedMode];if("$default"!==mergedMode)for(const partParamName of partParamNames)delete mergedParams2[partParamName]}}}this._paramsCache=paramsCache=mergedModeParams}return paramsCache}_getPerInstanceCss(className){let innerParamsCss=this._paramsCssCache;if(!innerParamsCss){let variablesCss="",inheritanceCss="";const modeParams=this._getModeParams();for(const mode of Object.keys(modeParams)){const params=modeParams[mode];if("$default"!==mode){const wrapPrefix=`:where([data-ag-theme-mode="${"object"==typeof CSS?CSS.escape(mode):mode}"]) & {\n`;variablesCss+=wrapPrefix,inheritanceCss+=wrapPrefix}for(const key of Object.keys(params).sort()){const value=params[key],cssValue=paramValueToCss(key,value,this.themeLogger);if(!1===cssValue)this.themeLogger.error(107,{key,value});else{const cssName=paramToVariableName(key),inheritedName=cssName.replace("--ag-","--ag-inherited-");variablesCss+=`\t${cssName}: var(${inheritedName}, ${cssValue});\n`,inheritanceCss+=`\t${inheritedName}: var(${cssName});\n`}}"$default"!==mode&&(variablesCss+="}\n",inheritanceCss+="}\n")}let css=`##SELECTOR## {\n${variablesCss}}\n`;css+=`:has(> ##SELECTOR##):not(##SELECTOR##) {\n${inheritanceCss}}\n`,this._paramsCssCache=innerParamsCss=css}return innerParamsCss.replaceAll("##SELECTOR##",`:where(.${className})`)}},deduplicatePartsByFeature=parts=>{const lastPartByFeature=new Map;for(const part of parts)lastPartByFeature.set(part.feature,part);const result=[];for(const part of parts)part.feature&&lastPartByFeature.get(part.feature)!==part||result.push(part);return result},getGoogleFontsUsed=theme=>{const googleFontsUsed=new Set,visitParamValue=paramValue=>{if(Array.isArray(paramValue))paramValue.forEach(visitParamValue);else{const googleFont=paramValue?.googleFont;"string"==typeof googleFont&&googleFontsUsed.add(googleFont)}};return Object.values(theme._getModeParams()).flatMap((mv=>Object.values(mv))).forEach(visitParamValue),Array.from(googleFontsUsed).sort()},uninstalledLegacyCSS=!1,uninstallLegacyCSS=()=>{if(!uninstalledLegacyCSS){uninstalledLegacyCSS=!0;for(const style of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))style.remove()}},googleFontsLoaded=new Set,loadGoogleFont=async(font,nonce)=>{googleFontsLoaded.add(font);const css=`@import url('https://${googleFontsDomain}/css2?family=${encodeURIComponent(font)}:wght@100;200;300;400;500;600;700;800;900&display=swap');\n`;_injectGlobalCSS(css,document.head,`googleFont:${font}`,void 0,0,nonce)},googleFontsDomain="fonts.googleapis.com",contextId=1,AgContext=class{constructor(params){this.beans={},this.createdBeans=[],this.destroyed=!1,this.instanceId=contextId++,params&&params.beanClasses&&(this.beanDestroyComparator=params.beanDestroyComparator,this.init(params))}init(params){this.id=params.id,this.beans.context=this,this.destroyCallback=params.destroyCallback;for(const beanName of Object.keys(params.providedBeanInstances))this.beans[beanName]=params.providedBeanInstances[beanName];params.beanClasses.forEach((BeanClass=>{const instance=new BeanClass;instance.beanName?this.beans[instance.beanName]=instance:console.error(`Bean ${BeanClass.name} is missing beanName`),this.createdBeans.push(instance)})),params.derivedBeans?.forEach((beanFunc=>{const{beanName,bean}=beanFunc(this);this.beans[beanName]=bean,this.createdBeans.push(bean)})),params.beanInitComparator&&this.createdBeans.sort(params.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(bean,afterPreCreateCallback){return this.initBeans([bean],afterPreCreateCallback),bean}initBeans(beanInstances,afterPreCreateCallback){const beans=this.beans;beanInstances.forEach((instance=>{instance.preWireBeans?.(beans),instance.wireBeans?.(beans)})),beanInstances.forEach((instance=>instance.preConstruct?.())),afterPreCreateCallback&&beanInstances.forEach(afterPreCreateCallback),beanInstances.forEach((instance=>instance.postConstruct?.()))}getBeans(){return this.beans}getBean(name){return this.beans[name]}getId(){return this.id}destroy(){if(this.destroyed)return;this.destroyed=!0;const beanInstances=this.getBeanInstances();this.beanDestroyComparator&&beanInstances.sort(this.beanDestroyComparator),this.destroyBeans(beanInstances),this.beans={},this.createdBeans=[],this.destroyCallback?.()}destroyBean(bean){bean?.destroy?.()}destroyBeans(beans){if(beans)for(let i=0;i<beans.length;i++)this.destroyBean(beans[i]);return[]}isDestroyed(){return this.destroyed}},paramsId=0,BaseEnvironment=class extends AgBeanStub{constructor(){super(...arguments),this.beanName="environment",this.paramsClass="ag-theme-params-"+ ++paramsId,this.globalCSS=[]}wireBeans(beans){this.eRootDiv=beans.eRootDiv}postConstruct(){const{gos,eRootDiv}=this;gos.setInstanceDomData(eRootDiv),this.eStyleContainer=gos.get("themeStyleContainer")??(eRootDiv.getRootNode()===document?document.head:eRootDiv),this.cssLayer=gos.get("themeCssLayer"),this.styleNonce=gos.get("styleNonce"),this.addManagedPropertyListener("theme",(()=>this.handleThemeChange())),this.handleThemeChange(),this.initVariables(),this.addDestroyFunc((()=>(environment=>{if(injectionState.grids.delete(environment),0===injectionState.grids.size){injectionState.map=new WeakMap;for(const style of document.head.querySelectorAll("style[data-ag-global-css]"))style.remove()}})(this))),this.mutationObserver=new MutationObserver((()=>{this.fireStylesChangedEvent("themeChanged")})),this.addDestroyFunc((()=>this.mutationObserver.disconnect()))}applyThemeClasses(el,extraClasses=[]){const{theme}=this;let themeClass;themeClass=theme?`${this.paramsClass} ${theme._getCssClass()}`:this.applyLegacyThemeClasses();for(const className of Array.from(el.classList))className.startsWith("ag-theme-")&&el.classList.remove(className);if(themeClass){const oldClass=el.className;el.className=`${oldClass}${oldClass?" ":""}${themeClass}${extraClasses?.length?` ${extraClasses.join(" ")}`:""}`}}applyLegacyThemeClasses(){let themeClass="";this.mutationObserver.disconnect();let node=this.eRootDiv;for(;node;){let isThemeEl=!1;for(const className of Array.from(node.classList))className.startsWith("ag-theme-")&&(isThemeEl=!0,themeClass=themeClass?`${themeClass} ${className}`:className);isThemeEl&&this.mutationObserver.observe(node,{attributes:!0,attributeFilter:["class"]}),node=node.parentElement}return themeClass}addGlobalCSS(css,debugId){this.theme?_injectGlobalCSS(css,this.eStyleContainer,debugId,this.cssLayer,0,this.styleNonce):this.globalCSS.push([css,debugId])}handleThemeChange(){const{gos,theme:oldTheme}=this,themeProperty=gos.get("theme");let newTheme;if("legacy"===themeProperty)newTheme=void 0;else{const themeOrDefault=themeProperty??this.getDefaultTheme();themeOrDefault instanceof ThemeImpl?newTheme=themeOrDefault:this.themeError(themeOrDefault)}newTheme!==oldTheme&&this.handleNewTheme(newTheme),this.postProcessThemeChange(newTheme,themeProperty)}handleNewTheme(newTheme){const{gos,eRootDiv,globalCSS}=this,additionalCss=this.getAdditionalCss();if(newTheme){environment=this,injectionState.grids.add(environment),_injectCoreAndModuleCSS(this.eStyleContainer,this.cssLayer,this.styleNonce,additionalCss);for(const[css,debugId]of globalCSS)_injectGlobalCSS(css,this.eStyleContainer,debugId,this.cssLayer,0,this.styleNonce);globalCSS.length=0}var environment;this.theme=newTheme,newTheme?._startUse({loadThemeGoogleFonts:gos.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce,moduleCss:additionalCss});let eParamsStyle=this.eParamsStyle;if(!eParamsStyle){eParamsStyle=this.eParamsStyle=_createAgElement({tag:"style"});const styleNonce=gos.get("styleNonce");styleNonce&&eParamsStyle.setAttribute("nonce",styleNonce),eRootDiv.appendChild(eParamsStyle)}IS_SSR||(eParamsStyle.textContent=newTheme?._getPerInstanceCss(this.paramsClass)||""),this.applyThemeClasses(eRootDiv),this.fireStylesChangedEvent("themeChanged")}},BaseRegistry=class extends AgBeanStub{constructor(){super(...arguments),this.beanName="registry"}registerDynamicBeans(dynamicBeans){if(dynamicBeans){this.dynamicBeans??(this.dynamicBeans={});for(const name of Object.keys(dynamicBeans))this.dynamicBeans[name]=dynamicBeans[name]}}createDynamicBean(name,mandatory,...args){if(!this.dynamicBeans)throw new Error(this.getDynamicError(name,!0));const BeanClass=this.dynamicBeans[name];if(null!=BeanClass)return new BeanClass(...args);if(mandatory)throw new Error(this.getDynamicError(name,!1))}},BaseEventService=class extends AgBeanStub{constructor(){super(...arguments),this.beanName="eventSvc",this.eventServiceType="global",this.globalSvc=new LocalEventService}addListener(eventType,listener,async){this.globalSvc.addEventListener(eventType,listener,async)}removeListener(eventType,listener,async){this.globalSvc.removeEventListener(eventType,listener,async)}addGlobalListener(listener,async=!1){this.globalSvc.addGlobalListener(listener,async)}removeGlobalListener(listener,async=!1){this.globalSvc.removeGlobalListener(listener,async)}dispatchEvent(event){this.globalSvc.dispatchEvent(this.gos.addCommon(event))}dispatchEventOnce(event){this.globalSvc.dispatchEventOnce(this.gos.addCommon(event))}},BaseDragService=class extends AgBeanStub{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources}=this;dragSources.forEach(this.removeListener.bind(this)),dragSources.length=0,super.destroy()}removeListener(dragSourceAndListener){const element=dragSourceAndListener.dragSource.eElement,mouseDownListener=dragSourceAndListener.mouseDownListener;if(element.removeEventListener("mousedown",mouseDownListener),dragSourceAndListener.touchEnabled){const touchStartListener=dragSourceAndListener.touchStartListener;element.removeEventListener("touchstart",touchStartListener,{passive:!0})}}removeDragSource(params){const{dragSources}=this,dragSourceAndListener=dragSources.find((item=>item.dragSource===params));dragSourceAndListener&&(this.removeListener(dragSourceAndListener),_removeFromArray(dragSources,dragSourceAndListener))}addDragSource(params){const mouseListener=this.onMouseDown.bind(this,params),{eElement,includeTouch,stopPropagationForTouch}=params;eElement.addEventListener("mousedown",mouseListener);let touchListener=null;const suppressTouch=this.gos.get("suppressTouch");includeTouch&&!suppressTouch&&(touchListener=touchEvent=>{_isFocusableFormField(touchEvent.target)||(stopPropagationForTouch&&touchEvent.stopPropagation(),this.onTouchStart(params,touchEvent))},eElement.addEventListener("touchstart",touchListener,{passive:!1})),this.dragSources.push({dragSource:params,mouseDownListener:mouseListener,touchStartListener:touchListener,touchEnabled:!!includeTouch})}onTouchStart(params,touchEvent){this.currentDragParams=params,this.dragging=!1;const touch=touchEvent.touches[0];this.touchLastTime=touch,this.touchStart=touch;const touchEndEvent=e=>this.onTouchUp(e,params.eElement),target=touchEvent.target,events=[{target:_getRootNode(this.beans),type:"touchmove",listener:e=>{e.cancelable&&e.preventDefault()},options:{passive:!1}},{target,type:"touchmove",listener:e=>this.onTouchMove(e,params.eElement),options:{passive:!0}},{target,type:"touchend",listener:touchEndEvent,options:{passive:!0}},{target,type:"touchcancel",listener:touchEndEvent,options:{passive:!0}}];this.addTemporaryEvents(events),0===params.dragStartPixels&&this.onCommonMove(touch,this.touchStart,params.eElement)}onMouseDown(params,mouseEvent){const e=mouseEvent;if(params.skipMouseEvent&&params.skipMouseEvent(mouseEvent))return;if(e._alreadyProcessedByDragService)return;if(e._alreadyProcessedByDragService=!0,0!==mouseEvent.button)return;this.shouldPreventMouseEvent(mouseEvent)&&mouseEvent.preventDefault(),this.currentDragParams=params,this.dragging=!1,this.mouseStartEvent=mouseEvent,this.startTarget=mouseEvent.target;const target=_getRootNode(this.beans),events=[{target,type:"mousemove",listener:event=>this.onMouseMove(event,params.eElement)},{target,type:"mouseup",listener:event=>this.onMouseUp(event,params.eElement)},{target,type:"contextmenu",listener:event=>event.preventDefault()},{target,type:"keydown",listener:event=>{event.key===KeyCode_ESCAPE&&this.cancelDrag(params.eElement)}}];this.addTemporaryEvents(events),0===params.dragStartPixels&&this.onMouseMove(mouseEvent,params.eElement)}addTemporaryEvents(events){events.forEach((currentEvent=>{const{target,type,listener,options}=currentEvent;target.addEventListener(type,listener,options)})),this.dragEndFunctions.push((()=>{events.forEach((currentEvent=>{const{target,type,listener,options}=currentEvent;target.removeEventListener(type,listener,options)}))}))}isEventNearStartEvent(currentEvent,startEvent){const{dragStartPixels}=this.currentDragParams;return _areEventsNear(currentEvent,startEvent,_exists(dragStartPixels)?dragStartPixels:4)}getFirstActiveTouch(touchList){for(let i=0;i<touchList.length;i++)if(touchList[i].identifier===this.touchStart.identifier)return touchList[i];return null}onCommonMove(currentEvent,startEvent,el){if(!this.dragging){if(this.isEventNearStartEvent(currentEvent,startEvent))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:el}),this.currentDragParams.onDragStart(startEvent),!this.currentDragParams)return void(this.dragging=!1);this.currentDragParams.onDragging(startEvent)}this.currentDragParams?.onDragging(currentEvent)}onTouchMove(touchEvent,el){const touch=this.getFirstActiveTouch(touchEvent.touches);touch&&this.onCommonMove(touch,this.touchStart,el)}onMouseMove(mouseEvent,el){if(_isBrowserSafari()){const eDocument=_getDocument(this.beans);eDocument.getSelection()?.removeAllRanges()}this.shouldPreventMouseEvent(mouseEvent)&&mouseEvent.preventDefault(),this.onCommonMove(mouseEvent,this.mouseStartEvent,el)}shouldPreventMouseEvent(mouseEvent){return"mousemove"===mouseEvent.type&&mouseEvent.cancelable&&_isEventFromThisInstance(this.beans,mouseEvent)&&!(mouseEvent2=>{const el=mouseEvent2.target,tagName=el?.tagName.toLocaleLowerCase();return!!tagName?.match("^a$|textarea|input|select|button")})(mouseEvent)}onTouchUp(touchEvent,el){let touch=this.getFirstActiveTouch(touchEvent.changedTouches);touch||(touch=this.touchLastTime),this.onUpCommon(touch,el)}onMouseUp(mouseEvent,el){this.onUpCommon(mouseEvent,el)}onUpCommon(eventOrTouch,el){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(eventOrTouch),this.eventSvc.dispatchEvent({type:"dragStopped",target:el})),this.resetDragProperties()}cancelDrag(el){this.eventSvc.dispatchEvent({type:"dragCancelled",target:el}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions}=this;dragEndFunctions.forEach((func=>func())),dragEndFunctions.length=0}},BaseDragAndDropService=class extends AgBeanStub{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dragItem=null,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.dragSource=null,this.dragImageParent=null,this.dragImageCompPromise=null,this.dragImageComp=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.dropTargets=[],this.lastDropTarget=null}addDragSource(dragSource,allowTouch=!1){const entry={dragSource,eElement:dragSource.eElement,dragStartPixels:dragSource.dragStartPixels,onDragStart:mouseEvent=>this.onDragStart(dragSource,mouseEvent),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:allowTouch};this.dragSourceAndParamsList.push(entry),this.beans.dragSvc.addDragSource(entry)}setDragImageCompIcon(iconName,shake=!1){const component=this.dragImageComp;component&&(shake||this.dragImageLastIcon!==iconName)&&(this.dragImageLastIcon=iconName,component.setIcon(iconName,shake))}removeDragSource(dragSource){const{dragSourceAndParamsList,beans}=this,sourceAndParams=dragSourceAndParamsList.find((item=>item.dragSource===dragSource));sourceAndParams&&(beans.dragSvc?.removeDragSource(sourceAndParams),_removeFromArray(dragSourceAndParamsList,sourceAndParams))}destroy(){const{dragSourceAndParamsList,dropTargets,beans}=this,dragSvc=beans.dragSvc;for(const sourceAndParams of dragSourceAndParamsList)dragSvc?.removeDragSource(sourceAndParams);dragSourceAndParamsList.length=0,dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){const lastMouseEvent=this.lastMouseEvent;lastMouseEvent&&this.onDragging(lastMouseEvent,!0)}onDragStart(dragSource,mouseEvent){this.lastMouseEvent=mouseEvent,this.dragSource=dragSource,this.dragItem=dragSource.getDragItem(),dragSource.onDragStarted?.(),this.createAndUpdateDragImageComp(dragSource)}onDragStop(mouseEvent){const{dragSource,lastDropTarget}=this;if(dragSource?.onDragStopped?.(),lastDropTarget){const dragEndEvent=this.dropTargetEvent(lastDropTarget,mouseEvent,!1);lastDropTarget.onDragStop?.(dragEndEvent)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource,lastDropTarget,lastMouseEvent}=this;if(dragSource?.onDragCancelled?.(),lastDropTarget&&lastMouseEvent){const dragCancelEvent=this.dropTargetEvent(lastDropTarget,lastMouseEvent,!1);lastDropTarget.onDragCancel?.(dragCancelEvent)}this.clearDragAndDropProperties()}onDragging(mouseEvent,fromNudge=!1){this.positionDragImageComp(mouseEvent);const dropTarget=this.findCurrentDropTarget(mouseEvent),{lastDropTarget,dragSource,dragItem}=this;let needUpdate=!1;if(dropTarget!==lastDropTarget){if(needUpdate=!0,lastDropTarget){const dragLeaveEvent=this.dropTargetEvent(lastDropTarget,mouseEvent,fromNudge);lastDropTarget.onDragLeave?.(dragLeaveEvent)}if(null===lastDropTarget||dropTarget?null===lastDropTarget&&dropTarget&&this.handleEnter(dragSource,dragItem):this.handleExit(dragSource,dragItem),dropTarget){const dragEnterEvent=this.dropTargetEvent(dropTarget,mouseEvent,fromNudge);dropTarget.onDragEnter?.(dragEnterEvent)}this.lastDropTarget=dropTarget}else if(dropTarget){const dragMoveEvent=this.dropTargetEvent(dropTarget,mouseEvent,fromNudge);dropTarget.onDragging?.(dragMoveEvent),dragMoveEvent?.changed&&(needUpdate=!0)}this.lastMouseEvent=mouseEvent,needUpdate&&this.updateDragImageComp()}clearDragAndDropProperties(){this.removeDragImageComp(this.dragImageComp),this.dragImageCompPromise=null,this.dragImageParent=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.lastDropTarget=null,this.dragItem=null,this.dragSource=null}getAllContainersFromDropTarget(dropTarget){const secondaryContainers=dropTarget.getSecondaryContainers?dropTarget.getSecondaryContainers():null,containers=[[dropTarget.getContainer()]];return secondaryContainers?containers.concat(secondaryContainers):containers}isMouseOnDropTarget(mouseEvent,dropTarget){const allContainersFromDropTarget=this.getAllContainersFromDropTarget(dropTarget);let mouseOverTarget=!1;const allContainersIntersect=(mouseEvent2,containers)=>{for(const container of containers){const{width,height,left,right,top,bottom}=container.getBoundingClientRect();if(0===width||0===height)return!1;const horizontalFit=mouseEvent2.clientX>=left&&mouseEvent2.clientX<right,verticalFit=mouseEvent2.clientY>=top&&mouseEvent2.clientY<bottom;if(!horizontalFit||!verticalFit)return!1}return!0};for(const currentContainers of allContainersFromDropTarget)if(allContainersIntersect(mouseEvent,currentContainers)){mouseOverTarget=!0;break}const{eElement,type}=this.dragSource;return!(dropTarget.targetContainsSource&&!dropTarget.getContainer().contains(eElement))&&(mouseOverTarget&&dropTarget.isInterestedIn(type,eElement))}findCurrentDropTarget(mouseEvent){const validDropTargets=this.dropTargets.filter((target=>this.isMouseOnDropTarget(mouseEvent,target))),len=validDropTargets.length;if(0===len)return null;if(1===len)return validDropTargets[0];const elementStack=_getRootNode(this.beans).elementsFromPoint(mouseEvent.clientX,mouseEvent.clientY);for(const el of elementStack)for(const dropTarget of validDropTargets){if(-1!==this.getAllContainersFromDropTarget(dropTarget).flatMap((a=>a)).indexOf(el))return dropTarget}return null}addDropTarget(dropTarget){this.dropTargets.push(dropTarget)}removeDropTarget(dropTarget){this.dropTargets=this.dropTargets.filter((target=>target.getContainer()!==dropTarget.getContainer()))}hasExternalDropZones(){return this.dropTargets.some((zones=>zones.external))}findExternalZone(container){return this.dropTargets.find((zone=>zone.external&&zone.getContainer()===container))||null}dropTargetEvent(dropTarget,mouseEvent,fromNudge){const{dragSource,dragItem,lastDraggingEvent,lastMouseEvent}=this,dropZoneTarget=dropTarget.getContainer(),rect=dropZoneTarget.getBoundingClientRect(),{clientX,clientY}=mouseEvent,xDir=clientX-(lastMouseEvent?.clientX||0),yDir=clientY-(lastMouseEvent?.clientY||0),draggingEvent=this.createEvent({event:mouseEvent,x:clientX-rect.left,y:clientY-rect.top,vDirection:yDir>0?"down":yDir<0?"up":null,hDirection:xDir<0?"left":xDir>0?"right":null,dragSource,fromNudge,dragItem,dropZoneTarget,dropTarget:lastDraggingEvent?.dropTarget??null,changed:!!lastDraggingEvent?.changed});return this.lastDraggingEvent=draggingEvent,draggingEvent}positionDragImageComp(event){const gui=this.dragImageComp?.getGui();gui&&_anchorElementToMouseMoveEvent(gui,event,this.beans)}removeDragImageComp(comp){if(this.dragImageComp===comp&&(this.dragImageComp=null),comp){const eGui=comp.getGui();this.dragImageParent?.removeChild(eGui),this.destroyBean(comp)}}createAndUpdateDragImageComp(dragSource){const promise=this.createDragImageComp(dragSource)??null;this.dragImageCompPromise=promise,promise?.then((dragImageComp=>{if(promise!==this.dragImageCompPromise||!this.lastMouseEvent||!this.isAlive())return void this.destroyBean(dragImageComp);this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0;const oldDragImageComp=this.dragImageComp;oldDragImageComp!==dragImageComp&&(this.dragImageComp=dragImageComp,this.removeDragImageComp(oldDragImageComp)),dragImageComp&&(this.appendDragImageComp(dragImageComp),this.updateDragImageComp())}))}appendDragImageComp(component){const eGui=component.getGui(),style=eGui.style;style.setProperty("position","absolute"),style.setProperty("z-index","9999"),this.gos.setInstanceDomData(eGui),this.beans.environment.applyThemeClasses(eGui),style.top="20px",style.left="20px";const targetEl=_getPageBody(this.beans);this.dragImageParent=targetEl,targetEl?targetEl.appendChild(eGui):this.warnNoBody()}updateDragImageComp(){const{dragImageComp,dragSource,lastDropTarget,lastDraggingEvent,dragImageLastLabel}=this;if(!dragImageComp)return;this.setDragImageCompIcon(lastDropTarget?.getIconName?.(lastDraggingEvent)??null);let label=dragSource?.dragItemName;"function"==typeof label&&(label=label(lastDraggingEvent)),label||(label=""),dragImageLastLabel!==label&&(this.dragImageLastLabel=label,dragImageComp.setLabel(label))}};function createUniqueColumnGroupId(groupId,instanceId){return groupId+"_"+instanceId}function isColumnGroup(col){return col instanceof AgColumnGroup}var AgColumnGroup=class extends BeanStub{constructor(providedColumnGroup,groupId,partId,pinned){super(),this.providedColumnGroup=providedColumnGroup,this.groupId=groupId,this.partId=partId,this.pinned=pinned,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.colIdSanitised=_escapeString(this.getUniqueId())}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return createUniqueColumnGroupId(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const allLeafColumns=this.getProvidedColumnGroup().getLeafColumns();return!(!allLeafColumns||0===allLeafColumns.length)&&allLeafColumns.every((col=>col.isMoving()))}checkLeft(){if(this.displayedChildren.forEach((child=>{isColumnGroup(child)&&child.checkLeft()})),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const lastChildLeft=_last(this.displayedChildren).getLeft();this.setLeft(lastChildLeft)}else{const firstChildLeft=this.displayedChildren[0].getLeft();this.setLeft(firstChildLeft)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(left){this.oldLeft=this.left,this.left!==left&&(this.left=left,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let groupActualWidth=0;return this.displayedChildren?.forEach((child=>{groupActualWidth+=child.getActualWidth()})),groupActualWidth}isResizable(){if(!this.displayedChildren)return!1;let result=!1;return this.displayedChildren.forEach((child=>{child.isResizable()&&(result=!0)})),result}getMinWidth(){let result=0;return this.displayedChildren.forEach((groupChild=>{result+=groupChild.getMinWidth()})),result}addChild(child){this.children||(this.children=[]),this.children.push(child)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const result=[];return this.addLeafColumns(result),result}getDisplayedLeafColumns(){const result=[];return this.addDisplayedLeafColumns(result),result}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(expanded){this.providedColumnGroup.setExpanded(expanded)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(height){const changed=height!==this.autoHeaderHeight;return this.autoHeaderHeight=height,changed}addDisplayedLeafColumns(leafColumns){this.displayedChildren.forEach((child=>{isColumn(child)?leafColumns.push(child):isColumnGroup(child)&&child.addDisplayedLeafColumns(leafColumns)}))}addLeafColumns(leafColumns){this.children.forEach((child=>{isColumn(child)?leafColumns.push(child):isColumnGroup(child)&&child.addLeafColumns(leafColumns)}))}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const parent=this.getParent();return this.isPadding()&&parent&&parent.isPadding()?1+parent.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let parentWithExpansion=this;for(;null!=parentWithExpansion&&parentWithExpansion.isPadding();)parentWithExpansion=parentWithExpansion.getParent();if(!(!!parentWithExpansion&&parentWithExpansion.getProvidedColumnGroup().isExpandable()))return this.displayedChildren=this.children,void this.dispatchLocalEvent({type:"displayedChildrenChanged"});this.children.forEach((child=>{if(isColumnGroup(child)&&!child.displayedChildren?.length)return;switch(child.getColumnGroupShow()){case"open":parentWithExpansion.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(child);break;case"closed":parentWithExpansion.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(child);break;default:this.displayedChildren.push(child)}})),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}};var FILTER_HANDLER_MAP={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"};new Set(Object.values(FILTER_HANDLER_MAP));function _createElement(params){return _createAgElement(params)}var makeDiv=(dataRefPrefix,classSuffix)=>({tag:"div",ref:`${dataRefPrefix}Resizer`,cls:`ag-resizer ag-resizer-${classSuffix}`});makeDiv("eTopLeft","topLeft"),makeDiv("eTop","top"),makeDiv("eTopRight","topRight"),makeDiv("eRight","right"),makeDiv("eBottomRight","bottomRight"),makeDiv("eBottom","bottom"),makeDiv("eBottomLeft","bottomLeft"),makeDiv("eLeft","left");function _stopPropagationForAgGrid(event){event.__ag_Grid_Stop_Propagation=!0}function _isStopPropagationForAgGrid(event){return!0===event.__ag_Grid_Stop_Propagation}var ManagedFocusFeature=class extends BeanStub{constructor(eFocusable,callbacks={}){super(),this.eFocusable=eFocusable,this.callbacks=callbacks,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:e=>{if(e.defaultPrevented)return;const nextRoot=_findNextFocusableElement(this.beans,this.eFocusable,!1,e.shiftKey);nextRoot&&(nextRoot.focus(),e.preventDefault())},...callbacks}}postConstruct(){const{eFocusable,callbacks:{onFocusIn,onFocusOut}}=this;eFocusable.classList.add("ag-focus-managed"),this.addKeyDownListeners(eFocusable),onFocusIn&&this.addManagedElementListeners(eFocusable,{focusin:onFocusIn}),onFocusOut&&this.addManagedElementListeners(eFocusable,{focusout:onFocusOut})}addKeyDownListeners(eGui){this.addManagedElementListeners(eGui,{keydown:e=>{if(e.defaultPrevented||_isStopPropagationForAgGrid(e))return;const{callbacks}=this;callbacks.shouldStopEventPropagation(e)?_stopPropagationForAgGrid(e):e.key===KeyCode_TAB?callbacks.onTabKeyDown(e):callbacks.handleKeyDown&&callbacks.handleKeyDown(e)}})}};var LayoutCssClasses={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},LayoutFeature=class extends BeanStub{constructor(view){super(),this.view=view}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const domLayout=this.gos.get("domLayout"),params={autoHeight:"autoHeight"===domLayout,normal:"normal"===domLayout,print:"print"===domLayout},cssClass=params.autoHeight?LayoutCssClasses.AUTO_HEIGHT:params.print?LayoutCssClasses.PRINT:LayoutCssClasses.NORMAL;this.view.updateLayoutClasses(cssClass,params)}},HORIZONTAL_SOURCES=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],GridBodyScrollFeature=class extends BeanStub{constructor(eBodyViewport){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=eBodyViewport,this.resetLastHScrollDebounced=_debounce(this,(()=>this.lastScrollSource[1]=null),150),this.resetLastVScrollDebounced=_debounce(this,(()=>this.lastScrollSource[0]=null),150)}wireBeans(beans){this.ctrlsSvc=beans.ctrlsSvc,this.animationFrameSvc=beans.animationFrameSvc,this.visibleCols=beans.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const invalidateVerticalScroll=this.invalidateVerticalScroll.bind(this),invalidateHorizontalScroll=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:invalidateVerticalScroll,scrollGapChanged:invalidateHorizontalScroll}),this.addManagedElementListeners(this.eBodyViewport,{scroll:invalidateVerticalScroll}),this.ctrlsSvc.whenReady(this,(p=>{this.centerRowsCtrl=p.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()}))}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,"Viewport")});for(const source of HORIZONTAL_SOURCES){const scrollPartner=this.ctrlsSvc.get(source);this.registerScrollPartner(scrollPartner,this.onHScroll.bind(this,source))}}addVerticalScrollListeners(){const fakeVScrollComp=this.ctrlsSvc.get("fakeVScrollComp"),isDebounce=this.gos.get("debounceVerticalScrollbar"),onVScroll=isDebounce?_debounce(this,this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),onFakeVScroll=isDebounce?_debounce(this,this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:onVScroll}),this.registerScrollPartner(fakeVScrollComp,onFakeVScroll)}registerScrollPartner(comp,callback){comp.onScrollCallback(callback)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft){null==this.centerRowsCtrl||(void 0===scrollLeft&&(scrollLeft=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(scrollLeft)))}setScrollLeftForAllContainersExceptCurrent(scrollLeft){for(const container of[...HORIZONTAL_SOURCES,"Viewport"]){if(this.lastScrollSource[1]===container)continue;_setScrollLeft(this.getViewportForSource(container),scrollLeft,this.enableRtl)}}getViewportForSource(source){return"Viewport"===source?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(source).eViewport}isControllingScroll(source,direction){return null==this.lastScrollSource[direction]?(0===direction?this.lastScrollSource[0]=source:this.lastScrollSource[1]=source,!0):this.lastScrollSource[direction]===source}onHScroll(source){if(!this.isControllingScroll(source,1))return;const centerContainerViewport=this.centerRowsCtrl.eViewport,{scrollLeft}=centerContainerViewport;if(this.shouldBlockScrollUpdate(1,scrollLeft,!0))return;const newScrollLeft=_getScrollLeft(this.getViewportForSource(source),this.enableRtl);this.doHorizontalScroll(newScrollLeft),this.resetLastHScrollDebounced()}onVScroll(source){if(!this.isControllingScroll(source,0))return;let scrollTop;if(scrollTop="Viewport"===source?this.eBodyViewport.scrollTop:this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,scrollTop,!0))return;const{animationFrameSvc}=this;animationFrameSvc?.setScrollTop(scrollTop),this.nextScrollTop=scrollTop,"Viewport"===source?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(scrollTop):this.eBodyViewport.scrollTop=scrollTop,animationFrameSvc?.active?animationFrameSvc.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(scrollLeft){const fakeScrollLeft=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===scrollLeft&&scrollLeft===fakeScrollLeft||(this.scrollLeft=scrollLeft,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(direction){const bodyScrollEvent={type:"bodyScroll",direction:1===direction?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(bodyScrollEvent),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout((()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...bodyScrollEvent,type:"bodyScrollEnd"})}),150)}shouldBlockScrollUpdate(direction,scrollTo,touchOnly=!1){return!(touchOnly&&!_isIOSUserAgent())&&(0===direction?this.shouldBlockVerticalScroll(scrollTo):this.shouldBlockHorizontalScroll(scrollTo))}shouldBlockVerticalScroll(scrollTo){const clientHeight=_getInnerHeight(this.eBodyViewport),{scrollHeight}=this.eBodyViewport;return scrollTo<0||scrollTo+clientHeight>scrollHeight}shouldBlockHorizontalScroll(scrollTo){const clientWidth=this.centerRowsCtrl.getCenterWidth(),{scrollWidth}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(scrollTo>0)return!0}else if(scrollTo<0)return!0;return Math.abs(scrollTo)+clientWidth>scrollWidth}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const scrollLeft=this.scrollLeft;let hasHorizontalScrollersOutOfSync=!1;for(const source of HORIZONTAL_SOURCES){if(this.getViewportForSource(source).scrollLeft!==scrollLeft){hasHorizontalScrollersOutOfSync=!0;break}}hasHorizontalScrollersOutOfSync&&this.onHScroll("Viewport")}scrollGridIfNeeded(suppressedAnimationFrame=!1){const frameNeeded=this.scrollTop!=this.nextScrollTop;return frameNeeded&&(this.scrollTop=this.nextScrollTop,suppressedAnimationFrame&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),frameNeeded}setHorizontalScrollPosition(hScrollPosition,fromAlignedGridsService=!1){const maxScrollLeft=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!fromAlignedGridsService&&this.shouldBlockScrollUpdate(1,hScrollPosition)&&(hScrollPosition=this.enableRtl?hScrollPosition>0?0:maxScrollLeft:Math.min(Math.max(hScrollPosition,0),maxScrollLeft)),_setScrollLeft(this.centerRowsCtrl.eViewport,Math.abs(hScrollPosition),this.enableRtl),this.doHorizontalScroll(hScrollPosition)}setVerticalScrollPosition(vScrollPosition){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=vScrollPosition}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight,lastScrollTop}=this;return{top:lastScrollTop,bottom:lastScrollTop+lastOffsetHeight}}this.isVerticalPositionInvalidated=!1;const{scrollTop,offsetHeight}=this.eBodyViewport;return this.lastScrollTop=scrollTop,this.lastOffsetHeight=offsetHeight,{top:scrollTop,bottom:scrollTop+offsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(pixels){const oldScrollPosition=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(oldScrollPosition+pixels),this.centerRowsCtrl.eViewport.scrollLeft-oldScrollPosition}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(comparator,position=null){const{rowModel}=this.beans,rowCount=rowModel.getRowCount();let indexToSelect=-1;for(let i=0;i<rowCount;i++){const node=rowModel.getRow(i);if("function"==typeof comparator){if(node&&comparator(node)){indexToSelect=i;break}}else if(comparator===node||comparator===node.data){indexToSelect=i;break}}indexToSelect>=0&&this.ensureIndexVisible(indexToSelect,position)}ensureIndexVisible(index,position,retry=0){if(_isDomLayout(this.gos,"print"))return;const{rowModel}=this.beans,rowCount=rowModel.getRowCount();if("number"!=typeof index||index<0||index>=rowCount)return void _warn(88,{index});this.clearRetryListeners();const{frameworkOverrides,pageBounds,rowContainerHeight:heightScaler,rowRenderer}=this.beans;frameworkOverrides.wrapIncoming((()=>{const gridBodyCtrl=this.ctrlsSvc.getGridBodyCtrl(),rowNode=rowModel.getRow(index);let rowGotShiftedDuringOperation,stickyHeightsChanged,attempt=0;this.invalidateVerticalScroll();do{const{stickyTopHeight,stickyBottomHeight}=gridBodyCtrl,startingRowTop=rowNode.rowTop,startingRowHeight=rowNode.rowHeight,paginationOffset=pageBounds.getPixelOffset(),rowTopPixel=rowNode.rowTop-paginationOffset,rowBottomPixel=rowTopPixel+rowNode.rowHeight,scrollPosition=this.getVScrollPosition(),heightOffset=heightScaler.divStretchOffset,vScrollTop=scrollPosition.top+heightOffset,vScrollBottom=scrollPosition.bottom+heightOffset,viewportHeight=vScrollBottom-vScrollTop,pxTop=heightScaler.getScrollPositionForPixel(rowTopPixel),pxBottom=heightScaler.getScrollPositionForPixel(rowBottomPixel-viewportHeight),pxMiddle=Math.min((pxTop+pxBottom)/2,rowTopPixel);let newScrollPosition=null;"top"===position?newScrollPosition=pxTop-stickyTopHeight:"bottom"===position?newScrollPosition=pxBottom+stickyBottomHeight:"middle"===position?newScrollPosition=pxMiddle:vScrollTop+stickyTopHeight>rowTopPixel?newScrollPosition=pxTop-stickyTopHeight:vScrollBottom-stickyBottomHeight<rowBottomPixel&&(newScrollPosition=pxBottom-pxTop>viewportHeight?pxTop-stickyTopHeight:pxBottom+stickyBottomHeight),null!==newScrollPosition&&(this.setVerticalScrollPosition(newScrollPosition),rowRenderer.redraw({afterScroll:!0})),rowGotShiftedDuringOperation=startingRowTop!==rowNode.rowTop||startingRowHeight!==rowNode.rowHeight,stickyHeightsChanged=stickyTopHeight!==gridBodyCtrl.stickyTopHeight||stickyBottomHeight!==gridBodyCtrl.stickyBottomHeight,attempt++}while((rowGotShiftedDuringOperation||stickyHeightsChanged)&&attempt<10);if(this.animationFrameSvc?.flushAllFrames(),retry<10&&(rowNode?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const scrollTop=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const newScrollTop=this.getVScrollPosition().top;scrollTop!==newScrollTop&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),index>=rowModel.getRowCount()||this.ensureIndexVisible(index,position,retry+1)}})}}))}clearRetryListeners(){this.clearRetryListenerFncs.forEach((callback=>callback())),this.clearRetryListenerFncs=[]}ensureColumnVisible(key,position="auto"){const{colModel,frameworkOverrides}=this.beans,column=colModel.getCol(key);if(!column)return;if(column.isPinned())return;if(!this.visibleCols.isColDisplayed(column))return;const newHorizontalScroll=this.getPositionedHorizontalScroll(column,position);frameworkOverrides.wrapIncoming((()=>{null!==newHorizontalScroll&&this.centerRowsCtrl.setCenterViewportScrollLeft(newHorizontalScroll),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()}))}getPositionedHorizontalScroll(column,position){const{columnBeforeStart,columnAfterEnd}=this.isColumnOutsideViewport(column),viewportTooSmallForColumn=this.centerRowsCtrl.getCenterWidth()<column.getActualWidth(),viewportWidth=this.centerRowsCtrl.getCenterWidth(),isRtl=this.enableRtl;let alignColToStart=(isRtl?columnBeforeStart:columnAfterEnd)||viewportTooSmallForColumn,alignColToEnd=isRtl?columnAfterEnd:columnBeforeStart;"auto"!==position&&(alignColToStart="start"===position,alignColToEnd="end"===position);const isMiddle="middle"===position;if(alignColToStart||alignColToEnd||isMiddle){const{colLeft,colMiddle,colRight}=this.getColumnBounds(column);return isMiddle?colMiddle-viewportWidth/2:alignColToStart?isRtl?colRight:colLeft:isRtl?colLeft-viewportWidth:colRight-viewportWidth}return null}isColumnOutsideViewport(column){const{start:viewportStart,end:viewportEnd}=this.getViewportBounds(),{colLeft,colRight}=this.getColumnBounds(column),isRtl=this.enableRtl;return{columnBeforeStart:isRtl?viewportStart>colRight:viewportEnd<colRight,columnAfterEnd:isRtl?viewportEnd<colLeft:viewportStart>colLeft}}getColumnBounds(column){const isRtl=this.enableRtl,bodyWidth=this.visibleCols.bodyWidth,colWidth=column.getActualWidth(),colLeft=column.getLeft(),multiplier=isRtl?-1:1,colLeftPixel=isRtl?bodyWidth-colLeft:colLeft;return{colLeft:colLeftPixel,colMiddle:colLeftPixel+colWidth/2*multiplier,colRight:colLeftPixel+colWidth*multiplier}}getViewportBounds(){const viewportWidth=this.centerRowsCtrl.getCenterWidth(),scrollPosition=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:scrollPosition,end:viewportWidth+scrollPosition,width:viewportWidth}}},CenterWidthFeature=class extends BeanStub{constructor(callback,addSpacer=!1){super(),this.callback=callback,this.addSpacer=addSpacer}postConstruct(){const listener=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",listener),this.addManagedEventListeners({columnContainerWidthChanged:listener,displayedColumnsChanged:listener,leftPinnedWidthChanged:listener}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:listener,scrollVisibilityChanged:listener,scrollbarWidthChanged:listener}),this.setWidth()}setWidth(){const printLayout=_isDomLayout(this.gos,"print"),{visibleCols,scrollVisibleSvc}=this.beans,centerWidth=visibleCols.bodyWidth,leftWidth=visibleCols.getColsLeftWidth(),rightWidth=visibleCols.getDisplayedColumnsRightWidth();let totalWidth;if(printLayout)totalWidth=centerWidth+leftWidth+rightWidth;else if(totalWidth=centerWidth,this.addSpacer){0===(this.gos.get("enableRtl")?leftWidth:rightWidth)&&scrollVisibleSvc.verticalScrollShowing&&(totalWidth+=scrollVisibleSvc.getScrollbarWidth())}this.callback(totalWidth)}},ViewportSizeFeature=class extends BeanStub{constructor(centerContainerCtrl){super(),this.centerContainerCtrl=centerContainerCtrl}wireBeans(beans){this.scrollVisibleSvc=beans.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,(p=>{this.gridBodyCtrl=p.gridBodyCtrl,this.listenForResize()})),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],(()=>{this.checkViewportAndScrolls()}))}listenForResize(){const{beans,centerContainerCtrl,gridBodyCtrl}=this,listener=()=>{_requestAnimationFrame(beans,(()=>{this.onCenterViewportResized()}))};centerContainerCtrl.registerViewportResizeListener(listener),gridBodyCtrl.registerBodyViewportResizeListener(listener)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols,colFlex}=this.beans;pinnedCols?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const newWidth=this.centerContainerCtrl.getCenterWidth();newWidth!==this.centerWidth&&(this.centerWidth=newWidth,colFlex?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const bodyHeight=_getInnerHeight(this.gridBodyCtrl.eBodyViewport);this.bodyHeight!==bodyHeight&&(this.bodyHeight=bodyHeight,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){if(!this.isAlive())return;const params={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(params)}onHorizontalViewportChanged(){const scrollWidth=this.centerContainerCtrl.getCenterWidth(),scrollPosition=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(scrollWidth,scrollPosition)}};function _suppressCellMouseEvent(gos,column,node,event){const suppressMouseEventHandling=column.getColDef().cellRendererParams?.suppressMouseEventHandling;return suppressMouseEvent(gos,column,node,event,suppressMouseEventHandling)}function suppressMouseEvent(gos,column,node,event,suppressMouseEventHandling){return!!suppressMouseEventHandling&&suppressMouseEventHandling(_addGridCommonParams(gos,{column,node,event}))}function _getCtrlForEventTarget(gos,eventTarget,type){let sourceElement=eventTarget;for(;sourceElement;){const renderedComp=_getDomData(gos,sourceElement,type);if(renderedComp)return renderedComp;sourceElement=sourceElement.parentElement}return null}var DOM_DATA_KEY_CELL_CTRL="cellCtrl";function _getCellCtrlForEventTarget(gos,eventTarget){return _getCtrlForEventTarget(gos,eventTarget,DOM_DATA_KEY_CELL_CTRL)}function _getRowCtrlForEventTarget(gos,eventTarget){return _getCtrlForEventTarget(gos,eventTarget,"renderedRow")}function _isUserSuppressingKeyboardEvent(gos,keyboardEvent,rowNode,column,editing){const colDefFunc=column?column.getColDef().suppressKeyboardEvent:void 0;if(!colDefFunc)return!1;const params=_addGridCommonParams(gos,{event:keyboardEvent,editing,column,node:rowNode,data:rowNode.data,colDef:column.getColDef()});if(colDefFunc){if(colDefFunc(params))return!0}return!1}var RowContainerEventsFeature=class extends BeanStub{constructor(element){super(),this.element=element}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const listener=this.processKeyboardEvent.bind(this,"keydown");this.addManagedElementListeners(this.element,{keydown:listener})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",_isEventSupported("touchstart")?"touchstart":"mousedown"].forEach((eventName=>{const listener=this.processMouseEvent.bind(this,eventName);this.addManagedElementListeners(this.element,{[eventName]:listener})}))}processMouseEvent(eventName,mouseEvent){if(!_isEventFromThisInstance(this.beans,mouseEvent)||_isStopPropagationForAgGrid(mouseEvent))return;const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(mouseEvent.target);"contextmenu"===eventName?(cellCtrl?.column&&cellCtrl.dispatchCellContextMenuEvent(mouseEvent),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(mouseEvent,void 0,rowCtrl,cellCtrl)):(cellCtrl&&cellCtrl.onMouseEvent(eventName,mouseEvent),rowCtrl&&rowCtrl.onMouseEvent(eventName,mouseEvent))}getControlsForEventTarget(target){const{gos}=this;return{cellCtrl:_getCellCtrlForEventTarget(gos,target),rowCtrl:_getRowCtrlForEventTarget(gos,target)}}processKeyboardEvent(eventName,keyboardEvent){const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(keyboardEvent.target);keyboardEvent.defaultPrevented||(cellCtrl?this.processCellKeyboardEvent(cellCtrl,eventName,keyboardEvent):rowCtrl?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(rowCtrl,eventName,keyboardEvent))}processCellKeyboardEvent(cellCtrl,eventName,keyboardEvent){const editing=this.editSvc?.isEditing(cellCtrl,{withOpenEditor:!0})??!1;if(!_isUserSuppressingKeyboardEvent(this.gos,keyboardEvent,cellCtrl.rowNode,cellCtrl.column,editing)&&"keydown"===eventName){!editing&&this.beans.navigation?.handlePageScrollingKey(keyboardEvent)||cellCtrl.onKeyDown(keyboardEvent),this.doGridOperations(keyboardEvent,editing),_isEventFromPrintableCharacter(keyboardEvent)&&cellCtrl.processCharacter(keyboardEvent)}"keydown"===eventName&&this.eventSvc.dispatchEvent(cellCtrl.createEvent(keyboardEvent,"cellKeyDown"))}processFullWidthRowKeyboardEvent(rowCtrl,eventName,keyboardEvent){const{rowNode}=rowCtrl,{focusSvc,navigation}=this.beans,focusedCell=focusSvc.getFocusedCell(),column=focusedCell?.column;if(!_isUserSuppressingKeyboardEvent(this.gos,keyboardEvent,rowNode,column,!1)){const key=keyboardEvent.key;if("keydown"===eventName)switch(key){case KeyCode_PAGE_HOME:case KeyCode_PAGE_END:case KeyCode_PAGE_UP:case KeyCode_PAGE_DOWN:navigation?.handlePageScrollingKey(keyboardEvent,!0);break;case KeyCode_LEFT:case KeyCode_RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case KeyCode_UP:case KeyCode_DOWN:rowCtrl.onKeyboardNavigate(keyboardEvent);break;case KeyCode_TAB:rowCtrl.onTabKeyDown(keyboardEvent)}}"keydown"===eventName&&this.eventSvc.dispatchEvent(rowCtrl.createRowEvent("cellKeyDown",keyboardEvent))}doGridOperations(keyboardEvent,editing){if(!keyboardEvent.ctrlKey&&!keyboardEvent.metaKey)return;if(editing)return;if(!_isEventFromThisInstance(this.beans,keyboardEvent))return;const keyCode=function _normaliseQwertyAzerty(keyboardEvent){const{keyCode}=keyboardEvent;let code;switch(keyCode){case 65:code=KeyCode_A;break;case 67:code=KeyCode_C;break;case 86:code=KeyCode_V;break;case 68:code=KeyCode_D;break;case 90:code=KeyCode_Z;break;case 89:code=KeyCode_Y;break;default:code=keyboardEvent.code}return code}(keyboardEvent),{clipboardSvc,undoRedo}=this.beans;return keyCode===KeyCode_A?this.onCtrlAndA(keyboardEvent):keyCode===KeyCode_C?this.onCtrlAndC(clipboardSvc,keyboardEvent):keyCode===KeyCode_D?this.onCtrlAndD(clipboardSvc,keyboardEvent):keyCode===KeyCode_V?this.onCtrlAndV(clipboardSvc,keyboardEvent):keyCode===KeyCode_X?this.onCtrlAndX(clipboardSvc,keyboardEvent):keyCode===KeyCode_Y?this.onCtrlAndY(undoRedo):keyCode===KeyCode_Z?this.onCtrlAndZ(undoRedo,keyboardEvent):void 0}onCtrlAndA(event){const{beans:{rowModel,rangeSvc,selectionSvc},gos}=this;rangeSvc&&_isCellSelectionEnabled(gos)&&rowModel.isRowsToRender()?function _selectAllCells(beans){const{pinnedRowModel,rowModel}=beans,[isEmptyPinnedTop,isEmptyPinnedBottom]=[pinnedRowModel?.isEmpty("top")??!0,pinnedRowModel?.isEmpty("bottom")??!0],floatingStart=isEmptyPinnedTop?null:"top";let floatingEnd,rowEnd;isEmptyPinnedBottom?(floatingEnd=null,rowEnd=rowModel.getRowCount()-1):(floatingEnd="bottom",rowEnd=pinnedRowModel?.getPinnedBottomRowCount()??-1);const{visibleCols,rangeSvc}=beans,allDisplayedColumns=visibleCols.allCols;rangeSvc&&allDisplayedColumns?.length&&rangeSvc.setCellRange({rowStartIndex:0,rowStartPinned:floatingStart,rowEndIndex:rowEnd,rowEndPinned:floatingEnd})}(this.beans):selectionSvc&&selectionSvc?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:_getSelectAll(gos)}),event.preventDefault()}onCtrlAndC(clipboardSvc,event){if(!clipboardSvc||this.gos.get("enableCellTextSelection"))return;const{cellCtrl}=this.getControlsForEventTarget(event.target);this.editSvc?.isEditing(cellCtrl,{withOpenEditor:!0})||(event.preventDefault(),clipboardSvc.copyToClipboard())}onCtrlAndX(clipboardSvc,event){if(!clipboardSvc||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl}=this.getControlsForEventTarget(event.target);this.editSvc?.isEditing(cellCtrl,{withOpenEditor:!0})||(event.preventDefault(),clipboardSvc.cutToClipboard(void 0,"ui"))}onCtrlAndV(clipboardSvc,event){const{cellCtrl}=this.getControlsForEventTarget(event.target);this.editSvc?.isEditing(cellCtrl,{withOpenEditor:!0})||clipboardSvc&&!this.gos.get("suppressClipboardPaste")&&clipboardSvc.pasteFromClipboard()}onCtrlAndD(clipboardSvc,event){clipboardSvc&&!this.gos.get("suppressClipboardPaste")&&clipboardSvc.copyRangeDown(),event.preventDefault()}onCtrlAndZ(undoRedo,event){this.gos.get("undoRedoCellEditing")&&undoRedo&&(event.preventDefault(),event.shiftKey?undoRedo.redo("ui"):undoRedo.undo("ui"))}onCtrlAndY(undoRedo){undoRedo?.redo("ui")}},SetHeightFeature=class extends BeanStub{constructor(eContainer,eViewport){super(),this.eContainer=eContainer,this.eViewport=eViewport}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(maxDivHeightScaler){const height=maxDivHeightScaler.uiContainerHeight,heightString=null!=height?`${height}px`:"";this.eContainer.style.height=heightString,this.eViewport&&(this.eViewport.style.height=heightString)}},getTopRowCtrls=r=>r.topRowCtrls,getStickyTopRowCtrls=r=>r.getStickyTopRowCtrls(),getStickyBottomRowCtrls=r=>r.getStickyBottomRowCtrls(),getBottomRowCtrls=r=>r.bottomRowCtrls,getCentreRowCtrls=r=>r.allRowCtrls,getSpannedTopRowCtrls=r=>r.getCtrls("top"),getSpannedCenterRowCtrls=r=>r.getCtrls("center"),getSpannedBottomRowCtrls=r=>r.getCtrls("bottom"),ContainerCssClasses={center:{type:"center",name:"center-cols",getRowCtrls:getCentreRowCtrls,getSpannedRowCtrls:getSpannedCenterRowCtrls},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:getCentreRowCtrls,getSpannedRowCtrls:getSpannedCenterRowCtrls},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:getCentreRowCtrls,getSpannedRowCtrls:getSpannedCenterRowCtrls},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:getCentreRowCtrls},topCenter:{type:"center",name:"floating-top",getRowCtrls:getTopRowCtrls,getSpannedRowCtrls:getSpannedTopRowCtrls},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:getTopRowCtrls,getSpannedRowCtrls:getSpannedTopRowCtrls},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:getTopRowCtrls,getSpannedRowCtrls:getSpannedTopRowCtrls},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:getTopRowCtrls},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:getStickyTopRowCtrls},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:getStickyTopRowCtrls},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:getStickyTopRowCtrls},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:getStickyTopRowCtrls},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:getStickyBottomRowCtrls},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:getStickyBottomRowCtrls},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:getStickyBottomRowCtrls},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:getStickyBottomRowCtrls},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:getBottomRowCtrls,getSpannedRowCtrls:getSpannedBottomRowCtrls},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:getBottomRowCtrls,getSpannedRowCtrls:getSpannedBottomRowCtrls},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:getBottomRowCtrls,getSpannedRowCtrls:getSpannedBottomRowCtrls},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:getBottomRowCtrls}};function _getRowViewportClass(name){return`ag-${_getRowContainerOptions(name).name}-viewport`}function _getRowContainerClass(name){const options=_getRowContainerOptions(name);return options.container??`ag-${options.name}-container`}function _getRowSpanContainerClass(name){return`ag-${_getRowContainerOptions(name).name}-spanned-cells-container`}function _getRowContainerOptions(name){return ContainerCssClasses[name]}var allMiddle=["center","left","right","fullWidth"],allCenter=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],allLeft=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],allRight=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],allStickyTopNoFW=["stickyTopCenter","stickyTopLeft","stickyTopRight"],allStickyBottomNoFW=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],allStickyContainers=[...allStickyTopNoFW,"stickyTopFullWidth",...allStickyBottomNoFW,"stickyBottomFullWidth"],allNoFW=["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right",...allStickyTopNoFW,...allStickyBottomNoFW],RowContainerCtrl=class extends BeanStub{constructor(name){super(),this.name=name,this.visible=!0,this.EMPTY_CTRLS=[],this.options=_getRowContainerOptions(name)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],(()=>{this.viewportSizeFeature=this.createManagedBean(new ViewportSizeFeature(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})}))}onStickyTopOffsetChanged(event){this.comp.setOffsetTop(`${event.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(names,callback){names.indexOf(this.name)>=0&&callback()}setComp(view,eContainer,eSpannedContainer,eViewport){this.comp=view,this.eContainer=eContainer,this.eSpannedContainer=eSpannedContainer,this.eViewport=eViewport,this.createManagedBean(new RowContainerEventsFeature(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols,rangeSvc}=this.beans,pinnedWidthChanged=()=>this.onPinnedWidthChanged();this.forContainers(allLeft,(()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(pinnedCols?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:pinnedWidthChanged})})),this.forContainers(allRight,(()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(pinnedCols?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:pinnedWidthChanged})})),this.forContainers(allMiddle,(()=>this.createManagedBean(new SetHeightFeature(this.eContainer,"center"===this.name?eViewport:void 0)))),rangeSvc&&this.forContainers(allNoFW,(()=>this.createManagedBean(rangeSvc.createDragListenerFeature(this.eContainer)))),this.forContainers(allCenter,(()=>this.createManagedBean(new CenterWidthFeature((width=>this.comp.setContainerWidth(`${width}px`)))))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(fn){this.addManagedElementListeners(this.eViewport,{scroll:fn})}addListeners(){const{spannedRowRenderer,gos}=this.beans,onDisplayedColumnsChanged=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:onDisplayedColumnsChanged,displayedColumnsWidthChanged:onDisplayedColumnsChanged,displayedRowsChanged:params=>this.onDisplayedRowsChanged(params.afterScroll)}),onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),spannedRowRenderer&&this.options.getSpannedRowCtrls&&gos.get("enableCellSpan")&&this.addManagedListeners(spannedRowRenderer,{spannedRowsUpdated:()=>{const spannedCtrls=this.options.getSpannedRowCtrls(spannedRowRenderer);spannedCtrls&&this.comp.setSpannedRowCtrls(spannedCtrls,!1)}})}listenOnDomOrder(){if(allStickyContainers.indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const listener=()=>{const isEnsureDomOrder=this.gos.get("ensureDomOrder"),isPrintLayout=_isDomLayout(this.gos,"print");this.comp.setDomOrder(isEnsureDomOrder||isPrintLayout)};this.addManagedPropertyListener("domLayout",listener),listener()}onDisplayedColumnsChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}addPreventScrollWhileDragging(){const{dragSvc}=this.beans;if(!dragSvc)return;const preventScroll=e=>{dragSvc.dragging&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",preventScroll,{passive:!1}),this.addDestroyFunc((()=>this.eContainer.removeEventListener("touchmove",preventScroll)))}onHorizontalViewportChanged(afterScroll=!1){const scrollWidth=this.getCenterWidth(),scrollPosition=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(scrollWidth,scrollPosition,afterScroll)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return _getInnerWidth(this.eViewport)}getCenterViewportScrollLeft(){return _getScrollLeft(this.eViewport,this.enableRtl)}registerViewportResizeListener(listener){const unsubscribeFromResize=_observeResize(this.beans,this.eViewport,listener);this.addDestroyFunc((()=>unsubscribeFromResize()))}isViewportInTheDOMTree(){return _isInDOM(this.eViewport)}getViewportScrollLeft(){return _getScrollLeft(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||_isHorizontalScrollShowing(this.eViewport)}setHorizontalScroll(offset){this.comp.setHorizontalScroll(offset)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(value){_setScrollLeft(this.eViewport,value,this.enableRtl)}isContainerVisible(){return!(null!=this.options.pinnedType)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const visible=this.isContainerVisible();this.visible!=visible&&(this.visible=visible,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(afterScroll=!1){const rows=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||0===rows.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const printLayout=_isDomLayout(this.gos,"print"),embedFW=this.gos.get("embedFullWidthRows")||printLayout,rowsThisContainer=rows.filter((rowCtrl=>{const fullWidthRow=rowCtrl.isFullWidth();return this.options.fullWidth?!embedFW&&fullWidthRow:embedFW||!fullWidthRow}));this.comp.setRowCtrls({rowCtrls:rowsThisContainer,useFlushSync:afterScroll})}},GridBodyCtrl=class extends BeanStub{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(beans){this.ctrlsSvc=beans.ctrlsSvc,this.colModel=beans.colModel,this.scrollVisibleSvc=beans.scrollVisibleSvc,this.pinnedRowModel=beans.pinnedRowModel,this.filterManager=beans.filterManager,this.rowGroupColsSvc=beans.rowGroupColsSvc}setComp(comp,eGridBody,eBodyViewport,eTop,eBottom,eStickyTop,eStickyBottom){this.comp=comp,this.eGridBody=eGridBody,this.eBodyViewport=eBodyViewport,this.eTop=eTop,this.eBottom=eBottom,this.eStickyTop=eStickyTop,this.eStickyBottom=eStickyBottom,this.eCenterColsViewport=eBodyViewport.querySelector(`.${_getRowViewportClass("center")}`),this.eFullWidthContainer=eBodyViewport.querySelector(`.${_getRowContainerClass("fullWidth")}`),this.eStickyTopFullWidthContainer=eStickyTop.querySelector(`.${_getRowContainerClass("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=eStickyBottom.querySelector(`.${_getRowContainerClass("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",(props=>this.setCellTextSelection(props.currentValue))),this.createManagedBean(new LayoutFeature(this.comp)),this.scrollFeature=this.createManagedBean(new GridBodyScrollFeature(eBodyViewport)),this.beans.rowDragSvc?.setupRowDrag(eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([eTop,eBodyViewport,eBottom,eStickyTop,eStickyBottom]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(eTop),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const setFloatingHeights=this.setFloatingHeights.bind(this),setGridRootRole=this.setGridRootRole.bind(this),toggleRowResizeStyle=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:setFloatingHeights,pinnedHeightChanged:setFloatingHeights,pinnedRowsChanged:setFloatingHeights,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:setGridRootRole,columnPivotChanged:setGridRootRole,rowResizeStarted:toggleRowResizeStyle,rowResizeEnded:toggleRowResizeStyle}),this.addManagedPropertyListener("treeData",setGridRootRole)}toggleRowResizeStyles(params){const isResizingRow="rowResizeStarted"===params.type;this.eBodyViewport.classList.toggle("ag-prevent-animation",isResizingRow)}onGridColumnsChanged(){const columns=this.beans.colModel.getCols();this.comp.setColumnCount(columns.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc}=this,visible=scrollVisibleSvc.verticalScrollShowing;this.setVerticalScrollPaddingVisible(visible),this.setStickyWidth(visible),this.setStickyBottomOffsetBottom();const width=`calc(100% + ${(visible&&scrollVisibleSvc.getScrollbarWidth()||0)+(_isInvisibleScrollbar()?16:0)}px)`;_requestAnimationFrame(this.beans,(()=>this.comp.setBodyViewportWidth(width))),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc,colModel}=this;let isTreeGrid=this.gos.get("treeData");if(!isTreeGrid){const isPivotActive=colModel.isPivotMode();isTreeGrid=(rowGroupColsSvc?rowGroupColsSvc.columns.length:0)>=(isPivotActive?2:1)}this.comp.setGridRootRole(isTreeGrid?"treegrid":"grid")}addFocusListeners(elements){elements.forEach((element=>{this.addManagedElementListeners(element,{focusin:e=>{const{target}=e,isFocusedElementNested=_isElementChildOfClass(target,"ag-root",element);element.classList.toggle("ag-has-focus",!isFocusedElementNested)},focusout:e=>{const{target,relatedTarget}=e,gridContainRelatedTarget=element.contains(relatedTarget),isNestedRelatedTarget=_isElementChildOfClass(relatedTarget,"ag-root",element);_isElementChildOfClass(target,"ag-root",element)||gridContainRelatedTarget&&!isNestedRelatedTarget||element.classList.remove("ag-has-focus")}})}))}setColumnMovingCss(moving){this.comp.setColumnMovingCss("ag-column-moving",moving)}setCellTextSelection(selectable=!1){this.comp.setCellSelectableCss("ag-selectable",selectable)}updateScrollingClasses(){const{eGridBody:{classList},scrollVisibleSvc}=this;classList.toggle("ag-body-vertical-content-no-gap",!scrollVisibleSvc.verticalScrollGap),classList.toggle("ag-body-horizontal-content-no-gap",!scrollVisibleSvc.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:event=>{if(event.target instanceof HTMLImageElement)return event.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const headerCount=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel}=this.beans,rowCount=rowModel.isLastRowIndexKnown()?rowModel.getRowCount():-1,total=-1===rowCount?-1:headerCount+rowCount;this.comp.setRowCount(total)}registerBodyViewportResizeListener(listener){this.comp.registerBodyViewportResizeListener(listener)}setVerticalScrollPaddingVisible(visible){const overflowY=visible?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(overflowY)}isVerticalScrollShowing(){const show=this.gos.get("alwaysShowVerticalScroll"),cssClass=show?"ag-force-vertical-scroll":null,allowVerticalScroll=_isDomLayout(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(cssClass,show),show||allowVerticalScroll&&_isVerticalScrollShowing(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight,environment}=this.beans;let initialSizeMeasurementComplete=environment.sizesMeasured;const updateAnimationClass=()=>{const animateRows=initialSizeMeasurementComplete&&_isAnimateRows(this.gos)&&!rowContainerHeight.stretching,animateRowsCssClass=animateRows?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(animateRowsCssClass,animateRows)};updateAnimationClass(),this.addManagedEventListeners({heightScaleChanged:updateAnimationClass}),this.addManagedPropertyListener("animateRows",updateAnimationClass),this.addManagedEventListeners({gridStylesChanged:()=>{!initialSizeMeasurementComplete&&environment.sizesMeasured&&(initialSizeMeasurementComplete=!0,updateAnimationClass())}})}addBodyViewportListener(){const{eBodyViewport,eStickyTop,eStickyBottom,eTop,eBottom,beans:{popupSvc,touchSvc}}=this,listener=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(eBodyViewport,{contextmenu:listener}),touchSvc?.mockBodyContextMenu(this,listener),this.addManagedElementListeners(eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,popupSvc)});const onStickyWheel=this.onStickyWheel.bind(this);for(const container of[eStickyTop,eStickyBottom,eTop,eBottom])this.addManagedElementListeners(container,{wheel:onStickyWheel});const onHorizontalWheel=this.onHorizontalWheel.bind(this);for(const container of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(container).eContainer,{wheel:onHorizontalWheel});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX,deltaY,shiftKey}=e;(shiftKey||Math.abs(deltaX)>Math.abs(deltaY))&&_isEventFromThisInstance(this.beans,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY}=e;this.scrollVertically(deltaY)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX,deltaY,shiftKey}=e;(shiftKey||Math.abs(deltaX)>Math.abs(deltaY))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX,deltaY}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:deltaX||deltaY})}onBodyViewportContextMenu(mouseEvent,touch,touchEvent){if(!mouseEvent&&!touchEvent)return;if(this.gos.get("preventDefaultOnContextMenu")){(mouseEvent||touchEvent).preventDefault()}const{target}=mouseEvent||touch;target!==this.eBodyViewport&&target!==this.ctrlsSvc.get("center").eViewport||this.beans.contextMenuSvc?.showContextMenu({mouseEvent,touchEvent,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(popupSvc,e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&popupSvc?.hasAnchoredPopup()&&e.preventDefault()}scrollVertically(pixels){const oldScrollPosition=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(oldScrollPosition+pixels),this.eBodyViewport.scrollTop-oldScrollPosition}setFloatingHeights(){const{pinnedRowModel,beans:{environment}}=this,floatingTopHeight=pinnedRowModel?.getPinnedTopTotalHeight(),floatingBottomHeight=pinnedRowModel?.getPinnedBottomTotalHeight(),additionalHeight=environment.getPinnedRowBorderWidth()-environment.getRowBorderWidth(),normalisedFloatingTopHeight=floatingTopHeight?additionalHeight+floatingTopHeight:0,normalisedFloatingBottomHeight=floatingBottomHeight?additionalHeight+floatingBottomHeight:0;this.comp.setTopHeight(normalisedFloatingTopHeight),this.comp.setBottomHeight(normalisedFloatingBottomHeight),this.comp.setTopInvisible(normalisedFloatingTopHeight<=0),this.comp.setBottomInvisible(normalisedFloatingBottomHeight<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(height=0){this.comp.setStickyTopHeight(`${height}px`),this.stickyTopHeight=height}setStickyBottomHeight(height=0){this.comp.setStickyBottomHeight(`${height}px`),this.stickyBottomHeight=height}setStickyWidth(vScrollVisible){if(vScrollVisible){const scrollbarWidth=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${scrollbarWidth}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${scrollbarWidth}px)`)}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}setStickyTopOffsetTop(){const headerHeight=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),pinnedTopHeight=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let height=0;headerHeight>0&&(height+=headerHeight),pinnedTopHeight>0&&(height+=pinnedTopHeight),height>0&&(height+=1),this.comp.setStickyTopTop(`${height}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel,scrollVisibleSvc,comp}=this,height=(pinnedRowModel?.getPinnedBottomTotalHeight()??0)+(scrollVisibleSvc.horizontalScrollShowing&&scrollVisibleSvc.getScrollbarWidth()||0);comp.setStickyBottomBottom(`${height}px`)}};var AbstractFakeScrollComp=class extends Component{constructor(template,direction){super(),this.direction=direction,this.eViewport=null,this.eContainer=null,this.hideTimeout=0,this.setTemplate(template)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",_isMacOsUserAgent()||_isIOSUserAgent())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=_isInvisibleScrollbar(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const eGui=this.getGui(),onActivate=()=>this.toggleCss("ag-scrollbar-active",!0),onDeactivate=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(eGui,{mouseenter:onActivate,mousedown:onActivate,touchstart:onActivate,mouseleave:onDeactivate,touchend:onDeactivate})}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),_requestAnimationFrame(this.beans,(()=>this.setScrollVisible()))}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:params=>{params.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout((()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0}),400)}})}attemptSettingScrollPosition(value){const viewport=this.eViewport;!function _waitUntil(bean,condition,callback,timeout=100){const timeStamp=Date.now();let interval=null,executed=!1;const clearWait=()=>{null!=interval&&(window.clearInterval(interval),interval=null)};bean.addDestroyFunc(clearWait);const internalCallback=()=>{const reachedTimeout=Date.now()-timeStamp>timeout;(condition()||reachedTimeout)&&(callback(),executed=!0,clearWait())};internalCallback(),executed||(interval=window.setInterval(internalCallback,10))}(this,(()=>_isVisible(viewport)),(()=>this.setScrollPosition(value)),100)}onScrollCallback(fn){this.addManagedElementListeners(this.eViewport,{scroll:fn})}},FakeHScrollElement={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},FakeHScrollComp=class extends AbstractFakeScrollComp{constructor(){super(FakeHScrollElement,"horizontal"),this.eLeftSpacer=null,this.eRightSpacer=null,this.setScrollVisibleDebounce=0}wireBeans(beans){this.visibleCols=beans.visibleCols,this.scrollVisibleSvc=beans.scrollVisibleSvc}postConstruct(){super.postConstruct();const spacerWidthsListener=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:spacerWidthsListener,displayedColumnsWidthChanged:spacerWidthsListener,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",spacerWidthsListener),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new CenterWidthFeature((width=>this.eContainer.style.width=`${width}px`))),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const bottomPinnedHeight=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${bottomPinnedHeight}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const vScrollShowing=this.scrollVisibleSvc.verticalScrollShowing;let rightSpacing=this.visibleCols.getDisplayedColumnsRightWidth();const scrollOnRight=!this.enableRtl&&vScrollShowing,scrollbarWidth=this.scrollVisibleSvc.getScrollbarWidth();scrollOnRight&&(rightSpacing+=scrollbarWidth),_setFixedWidth(this.eRightSpacer,rightSpacing),this.eRightSpacer.classList.toggle("ag-scroller-corner",rightSpacing<=scrollbarWidth);let leftSpacing=this.visibleCols.getColsLeftWidth();this.enableRtl&&vScrollShowing&&(leftSpacing+=scrollbarWidth),_setFixedWidth(this.eLeftSpacer,leftSpacing),this.eLeftSpacer.classList.toggle("ag-scroller-corner",leftSpacing<=scrollbarWidth)}setScrollVisible(){const hScrollShowing=this.scrollVisibleSvc.horizontalScrollShowing,invisibleScrollbar2=this.invisibleScrollbar,isSuppressHorizontalScroll=this.gos.get("suppressHorizontalScroll"),scrollbarWidth=hScrollShowing&&this.scrollVisibleSvc.getScrollbarWidth()||0,scrollContainerSize=isSuppressHorizontalScroll?0:0===scrollbarWidth&&invisibleScrollbar2?16:scrollbarWidth,apply=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",invisibleScrollbar2),_setFixedHeight(this.getGui(),scrollContainerSize),_setFixedHeight(this.eViewport,scrollContainerSize),_setFixedHeight(this.eContainer,scrollContainerSize),scrollContainerSize||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(hScrollShowing,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),hScrollShowing?this.setScrollVisibleDebounce=window.setTimeout(apply,100):apply()}getScrollPosition(){return _getScrollLeft(this.eViewport,this.enableRtl)}setScrollPosition(value){_isVisible(this.eViewport)||this.attemptSettingScrollPosition(value),_setScrollLeft(this.eViewport,value,this.enableRtl)}},FakeVScrollElement={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},FakeVScrollComp=class extends AbstractFakeScrollComp{constructor(){super(FakeVScrollElement,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new SetHeightFeature(this.eContainer));const{ctrlsSvc}=this.beans;ctrlsSvc.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,ctrlsSvc)})}setScrollVisible(){const{scrollVisibleSvc}=this.beans,vScrollShowing=scrollVisibleSvc.verticalScrollShowing,invisibleScrollbar2=this.invisibleScrollbar,scrollbarWidth=vScrollShowing&&scrollVisibleSvc.getScrollbarWidth()||0,adjustedScrollbarWidth=0===scrollbarWidth&&invisibleScrollbar2?16:scrollbarWidth;this.toggleCss("ag-scrollbar-invisible",invisibleScrollbar2),_setFixedWidth(this.getGui(),adjustedScrollbarWidth),_setFixedWidth(this.eViewport,adjustedScrollbarWidth),_setFixedWidth(this.eContainer,adjustedScrollbarWidth),this.setDisplayed(vScrollShowing,{skipAriaHidden:!0})}onRowContainerHeightChanged(ctrlsSvc){const gridBodyViewportEl=ctrlsSvc.getGridBodyCtrl().eBodyViewport,eViewportScrollTop=this.getScrollPosition(),gridBodyViewportScrollTop=gridBodyViewportEl.scrollTop;eViewportScrollTop!=gridBodyViewportScrollTop&&this.setScrollPosition(gridBodyViewportScrollTop,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(value,force){force||_isVisible(this.eViewport)||this.attemptSettingScrollPosition(value),this.eViewport.scrollTop=value}};function _getHeaderClassesFromColDef(abstractColDef,gos,column,columnGroup){return _missing(abstractColDef)?[]:getColumnClassesFromCollDef(abstractColDef.headerClass,abstractColDef,gos,column,columnGroup)}function refreshFirstAndLastStyles(comp,column,presentedColsService){comp.toggleCss("ag-column-first",presentedColsService.isColAtEdge(column,"first")),comp.toggleCss("ag-column-last",presentedColsService.isColAtEdge(column,"last"))}function getColumnClassesFromCollDef(classesOrFunc,abstractColDef,gos,column,columnGroup){if(_missing(classesOrFunc))return[];let classToUse;if("function"==typeof classesOrFunc){const params=function getClassParams(abstractColDef,gos,column,columnGroup){return _addGridCommonParams(gos,{colDef:abstractColDef,column,columnGroup})}(abstractColDef,gos,column,columnGroup);classToUse=classesOrFunc(params)}else classToUse=classesOrFunc;return"string"==typeof classToUse?[classToUse]:Array.isArray(classToUse)?[...classToUse]:[]}function _isHeaderFocusSuppressed(beans){return beans.gos.get("suppressHeaderFocus")||!!beans.overlays?.isExclusive()}function _isCellFocusSuppressed(beans){return beans.gos.get("suppressCellFocus")||!!beans.overlays?.isExclusive()}function _focusNextGridCoreContainer(beans,backwards,forceOut=!1){const gridCtrl=beans.ctrlsSvc.get("gridCtrl");return!(forceOut||!gridCtrl.focusNextInnerContainer(backwards))||((forceOut||!backwards&&!gridCtrl.isDetailGrid())&&gridCtrl.forceFocusOutOfContainer(backwards),!1)}function getFocusHeaderRowCount(beans){return beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function getGroupRowsHeight(beans){const heights=[],headerRowContainerCtrls=beans.ctrlsSvc.getHeaderRowContainerCtrls();for(const headerRowContainerCtrl of headerRowContainerCtrls){if(!headerRowContainerCtrl)continue;const groupRowCount=headerRowContainerCtrl.getGroupRowCount()||0;for(let i=0;i<groupRowCount;i++){const headerRowCtrl=headerRowContainerCtrl.getGroupRowCtrlAtIndex(i),currentHeightAtPos=heights[i];if(headerRowCtrl){const newHeight=getColumnGroupHeaderRowHeight(beans,headerRowCtrl);(null==currentHeightAtPos||newHeight>currentHeightAtPos)&&(heights[i]=newHeight)}}}return heights}function getColumnGroupHeaderRowHeight(beans,headerRowCtrl){let maxDisplayedHeight=beans.colModel.isPivotMode()?function getPivotGroupHeaderHeight(beans){return beans.gos.get("pivotGroupHeaderHeight")??getGroupHeaderHeight(beans)}(beans):getGroupHeaderHeight(beans);const headerRowCellCtrls=headerRowCtrl.getHeaderCellCtrls();for(const headerCellCtrl of headerRowCellCtrls){const{column}=headerCellCtrl,height=column.getAutoHeaderHeight();null!=height&&height>maxDisplayedHeight&&column.isAutoHeaderHeight()&&(maxDisplayedHeight=height)}return maxDisplayedHeight}function getColumnHeaderRowHeight(beans){let maxDisplayedHeight=beans.colModel.isPivotMode()?function getPivotHeaderHeight(beans){return beans.gos.get("pivotHeaderHeight")??getHeaderHeight(beans)}(beans):getHeaderHeight(beans);return beans.colModel.forAllCols((col=>{const height=col.getAutoHeaderHeight();null!=height&&height>maxDisplayedHeight&&col.isAutoHeaderHeight()&&(maxDisplayedHeight=height)})),maxDisplayedHeight}function getHeaderHeight(beans){return beans.gos.get("headerHeight")??beans.environment.getDefaultHeaderHeight()}function getFloatingFiltersHeight(beans){return beans.gos.get("floatingFiltersHeight")??getHeaderHeight(beans)}function getGroupHeaderHeight(beans){return beans.gos.get("groupHeaderHeight")??getHeaderHeight(beans)}var GridHeaderCtrl=class extends BeanStub{setComp(comp,eGui,eFocusableElement){this.comp=comp,this.eGui=eGui;const{beans}=this,{headerNavigation,touchSvc,ctrlsSvc}=beans;headerNavigation&&this.createManagedBean(new ManagedFocusFeature(eFocusableElement,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,beans),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,beans)}),this.onPivotModeChanged(beans),this.setupHeaderHeight();const listener=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:listener}),touchSvc?.mockHeaderContextMenu(this,listener),ctrlsSvc.register("gridHeaderCtrl",this)}setupHeaderHeight(){const listener=this.setHeaderHeight.bind(this);listener(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],listener),this.addManagedEventListeners({headerRowsChanged:listener,columnHeaderHeightChanged:listener,columnGroupHeaderHeightChanged:()=>_requestAnimationFrame(this.beans,(()=>listener())),gridStylesChanged:listener,advancedFilterEnabledChanged:listener})}setHeaderHeight(){const{beans}=this;let totalHeaderHeight=0;const groupHeight=getGroupRowsHeight(beans).reduce(((prev,curr)=>prev+curr),0),headerHeight=getColumnHeaderRowHeight(beans);if(beans.filterManager?.hasFloatingFilters()&&(totalHeaderHeight+=getFloatingFiltersHeight(beans)),totalHeaderHeight+=groupHeight,totalHeaderHeight+=headerHeight,this.headerHeight===totalHeaderHeight)return;this.headerHeight=totalHeaderHeight;const px=`${totalHeaderHeight+1}px`;this.comp.setHeightAndMinHeight(px),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(beans){const pivotMode=beans.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",pivotMode),this.comp.toggleCss("ag-pivot-off",!pivotMode)}onDisplayedColumnsChanged(beans){const shouldAllowOverflow=beans.visibleCols.allCols.some((col=>col.isSpanHeaderHeight()));this.comp.toggleCss("ag-header-allow-overflow",shouldAllowOverflow)}onTabKeyDown(e){const isRtl=this.gos.get("enableRtl"),backwards=e.shiftKey,direction=backwards!==isRtl?"LEFT":"RIGHT",{beans}=this,{headerNavigation,focusSvc}=beans;(headerNavigation.navigateHorizontally(direction,!0,e)||!backwards&&focusSvc.focusOverlay(!1)||_focusNextGridCoreContainer(beans,backwards,!0))&&e.preventDefault()}handleKeyDown(e){let direction=null;const{headerNavigation}=this.beans;switch(e.key){case KeyCode_LEFT:direction="LEFT";case KeyCode_RIGHT:_exists(direction)||(direction="RIGHT"),headerNavigation.navigateHorizontally(direction,!1,e)&&e.preventDefault();break;case KeyCode_UP:direction="UP";case KeyCode_DOWN:_exists(direction)||(direction="DOWN"),headerNavigation.navigateVertically(direction,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget}=e,{eGui,beans}=this;!relatedTarget&&eGui.contains(_getActiveDomElement(beans))||eGui.contains(relatedTarget)||(beans.focusSvc.focusedHeader=null)}onHeaderContextMenu(mouseEvent,touch,touchEvent){const{menuSvc,ctrlsSvc}=this.beans;if(!mouseEvent&&!touchEvent||!menuSvc?.isHeaderContextMenuEnabled())return;const{target}=mouseEvent??touch;target!==this.eGui&&target!==ctrlsSvc.getHeaderRowContainerCtrl()?.eViewport||menuSvc.showHeaderContextMenu(void 0,mouseEvent,touchEvent)}},SetLeftFeature=class extends BeanStub{constructor(columnOrGroup,eCell,beans,colsSpanning){super(),this.columnOrGroup=columnOrGroup,this.eCell=eCell,this.colsSpanning=colsSpanning,this.columnOrGroup=columnOrGroup,this.ariaEl=eCell.querySelector("[role=columnheader]")||eCell,this.beans=beans}setColsSpanning(colsSpanning){this.colsSpanning=colsSpanning,this.onLeftChanged()}getColumnOrGroup(){const{beans,colsSpanning}=this;return beans.gos.get("enableRtl")&&colsSpanning?_last(colsSpanning):this.columnOrGroup}postConstruct(){const onLeftChanged=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:onLeftChanged}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:onLeftChanged}),this.addManagedPropertyListener("domLayout",onLeftChanged)}setLeftFirstTime(){const{gos,colAnimation}=this.beans,suppressMoveAnimation=gos.get("suppressColumnMoveAnimation"),oldLeftExists=_exists(this.columnOrGroup.getOldLeft());colAnimation?.isActive()&&oldLeftExists&&!suppressMoveAnimation?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const colOrGroup=this.getColumnOrGroup(),oldActualLeft=this.modifyLeftForPrintLayout(colOrGroup,colOrGroup.getOldLeft()),actualLeft=this.modifyLeftForPrintLayout(colOrGroup,colOrGroup.getLeft());this.setLeft(oldActualLeft),this.actualLeft=actualLeft,this.beans.colAnimation.executeNextVMTurn((()=>{this.actualLeft===actualLeft&&this.setLeft(actualLeft)}))}onLeftChanged(){const colOrGroup=this.getColumnOrGroup(),left=colOrGroup.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(colOrGroup,left),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(colOrGroup,leftPosition){const{gos,visibleCols}=this.beans;if(!_isDomLayout(gos,"print"))return leftPosition;if("left"===colOrGroup.getPinned())return leftPosition;const leftWidth=visibleCols.getColsLeftWidth();if("right"===colOrGroup.getPinned()){return leftWidth+visibleCols.bodyWidth+leftPosition}return leftWidth+leftPosition}setLeft(value){if(_exists(value)&&(this.eCell.style.left=`${value}px`),isColumnGroup(this.columnOrGroup)){const children=this.columnOrGroup.getLeafColumns();if(!children.length)return;children.length>1&&function _setAriaColSpan(element,colSpan){_setAriaAttribute(element,"colspan",colSpan)}(this.ariaEl,children.length)}}},instanceIdSequence2=0,AbstractHeaderCellCtrl=class extends BeanStub{constructor(column,rowCtrl){super(),this.column=column,this.rowCtrl=rowCtrl,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.reAttemptToFocus=!1,this.instanceId=column.getUniqueId()+"-"+instanceIdSequence2++}postConstruct(){const refreshTabIndex=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],refreshTabIndex),this.addManagedEventListeners({overlayExclusiveChanged:refreshTabIndex})}setComp(comp,eGui,eResize,eHeaderCompWrapper,compBean){eGui.setAttribute("col-id",this.column.colIdSanitised),this.wireComp(comp,eGui,eResize,eHeaderCompWrapper,compBean),this.reAttemptToFocus&&(this.reAttemptToFocus=!1,this.focus(this.lastFocusEvent??void 0))}shouldStopEventPropagation(event){const{headerRowIndex,column}=this.beans.focusSvc.focusedHeader,colDef=column.getDefinition(),colDefFunc=colDef&&colDef.suppressHeaderKeyboardEvent;if(!_exists(colDefFunc))return!1;return!!colDefFunc(_addGridCommonParams(this.gos,{colDef,column,headerRowIndex,event}))}getWrapperHasFocus(){return _getActiveDomElement(this.beans)===this.eGui}setGui(eGui,compBean){this.eGui=eGui,this.addDomData(compBean),compBean.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),compBean.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const colDef=this.column.getDefinition();if(!colDef)return;const{headerStyle}=colDef;let styles;if("function"==typeof headerStyle){styles=headerStyle(this.getHeaderClassParams())}else styles=headerStyle;styles&&this.comp.setUserStyles(styles)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(params){const{wrapperElement,checkMeasuringCallback,compBean}=params,{beans}=this,measureHeight=timesCalled=>{if(!this.isAlive()||!compBean.isAlive())return;const{paddingTop,paddingBottom,borderBottomWidth,borderTopWidth}=_getElementSize(this.eGui),extraHeight=paddingTop+paddingBottom+borderBottomWidth+borderTopWidth,autoHeight=wrapperElement.offsetHeight+extraHeight;if(timesCalled<5){const doc=_getDocument(beans);if(!doc||!doc.contains(wrapperElement)||0==autoHeight)return void _batchCall((()=>measureHeight(timesCalled+1)),"raf",beans)}this.setColHeaderHeight(this.column,autoHeight)};let stopResizeObserver,isMeasuring=!1;const checkMeasuring=()=>{const newValue=this.column.isAutoHeaderHeight();newValue&&!isMeasuring&&startMeasuring(),!newValue&&isMeasuring&&stopMeasuring()},startMeasuring=()=>{isMeasuring=!0,this.comp.toggleCss("ag-header-cell-auto-height",!0),measureHeight(0),stopResizeObserver=_observeResize(this.beans,wrapperElement,(()=>measureHeight(0)))},stopMeasuring=()=>{isMeasuring=!1,stopResizeObserver&&stopResizeObserver(),this.comp.toggleCss("ag-header-cell-auto-height",!1),stopResizeObserver=void 0};checkMeasuring(),compBean.addDestroyFunc((()=>stopMeasuring())),compBean.addManagedListeners(this.column,{widthChanged:()=>isMeasuring&&measureHeight(0)}),compBean.addManagedEventListeners({sortChanged:()=>{isMeasuring&&window.setTimeout((()=>measureHeight(0)))}}),checkMeasuringCallback&&checkMeasuringCallback(checkMeasuring)}onDisplayedColumnsChanged(){const{comp,column,beans,eGui}=this;comp&&column&&eGui&&(refreshFirstAndLastStyles(comp,column,beans.visibleCols),_setAriaColIndex(eGui,beans.visibleCols.getAriaColIndex(column)))}addResizeAndMoveKeyboardListeners(compBean){compBean.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const suppressHeaderFocus=_isHeaderFocusSuppressed(this.beans);this.eGui&&_addOrRemoveAttribute(this.eGui,"tabindex",suppressHeaderFocus?null:"-1")}onGuiKeyDown(e){const activeEl=_getActiveDomElement(this.beans),isLeftOrRight=e.key===KeyCode_LEFT||e.key===KeyCode_RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),activeEl!==this.eGui||!e.shiftKey&&!e.altKey)return;if((this.isResizing||isLeftOrRight)&&(e.preventDefault(),e.stopImmediatePropagation()),!isLeftOrRight)return;const direction=e.key===KeyCode_LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const diff=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(diff,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(direction)}moveHeader(hDirection){this.beans.colMoves?.moveHeader(hDirection,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const diff=this.getResizeDiff(e),{pinnedCols}=this.beans;return pinnedCols?pinnedCols.getHeaderResizeDiff(diff,this.column):diff}getResizeDiff(e){const{gos,column}=this;let isLeft=e.key===KeyCode_LEFT!==gos.get("enableRtl");const pinned=column.getPinned(),isRtl=gos.get("enableRtl");return pinned&&isRtl!==("right"===pinned)&&(isLeft=!isLeft),(isLeft?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout((()=>{this.resizeFeature?.toggleColumnResizing(!1)}),150))}handleKeyDown(e){const wrapperHasFocus=this.getWrapperHasFocus();switch(e.key){case KeyCode_PAGE_DOWN:case KeyCode_PAGE_UP:case KeyCode_PAGE_HOME:case KeyCode_PAGE_END:wrapperHasFocus&&e.preventDefault()}}addDomData(compBean){const key="headerCtrl",{eGui,gos}=this;_setDomData(gos,eGui,key,this),compBean.addDestroyFunc((()=>_setDomData(gos,eGui,key,null)))}focus(event){if(!this.isAlive())return!1;const{eGui}=this;return eGui?(eGui.focus(),this.lastFocusEvent=event||null):this.reAttemptToFocus=!0,!0}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(mouseEvent,touchEvent,column){const event=mouseEvent??touchEvent,{menuSvc,gos}=this.beans;gos.get("preventDefaultOnContextMenu")&&event.preventDefault(),menuSvc?.isHeaderContextMenuEnabled(column)&&menuSvc.showHeaderContextMenu(column,mouseEvent,touchEvent),this.dispatchColumnMouseEvent("columnHeaderContextMenu",column)}dispatchColumnMouseEvent(eventType,column){this.eventSvc.dispatchEvent({type:eventType,column})}setColHeaderHeight(col,height){if(!col.setAutoHeaderHeight(height))return;const{eventSvc}=this;col.isColumn?eventSvc.dispatchEvent({type:"columnHeaderHeightChanged",column:col,columns:[col],source:"autosizeColumnHeaderHeight"}):eventSvc.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:col,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},HeaderCellCtrl=class extends AbstractHeaderCellCtrl{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}wireComp(comp,eGui,eResize,eHeaderCompWrapper,compBeanInput){this.comp=comp;const{rowCtrl,column,beans}=this,{colResize,context,colHover,rangeSvc}=beans,compBean=setupCompBean(this,context,compBeanInput);this.setGui(eGui,compBean),this.updateState(),this.setupWidth(compBean),this.setupMovingCss(compBean),this.setupMenuClass(compBean),this.setupSortableClass(compBean),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:eHeaderCompWrapper,checkMeasuringCallback:checkMeasuring=>this.setRefreshFunction("measuring",checkMeasuring),compBean}),this.addColumnHoverListener(compBean),this.setupFilterClass(compBean),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(compBean),this.setupSelectAll(compBean),this.setupUserComp(),this.refreshAria(),colResize?this.resizeFeature=compBean.createManagedBean(colResize.createResizeFeature(rowCtrl.pinned,column,eResize,comp,this)):_setDisplayed(eResize,!1),colHover?.createHoverFeature(compBean,[column],eGui),rangeSvc?.createRangeHighlightFeature(compBean,column,comp),compBean.createManagedBean(new SetLeftFeature(column,eGui,beans)),compBean.createManagedBean(new ManagedFocusFeature(eGui,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(compBean),compBean.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],(()=>this.refresh())),compBean.addManagedListeners(column,{colDefChanged:()=>this.refresh()}),compBean.addManagedListeners(column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const listener=()=>this.checkDisplayName();compBean.addManagedEventListeners({columnValueChanged:listener,columnRowGroupChanged:listener,columnPivotChanged:listener,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),compBean.addDestroyFunc((()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()}))}resizeHeader(delta,shiftKey){this.beans.colResize?.resizeHeader(this.column,delta,shiftKey)}getHeaderClassParams(){const{column,beans}=this,colDef=column.colDef;return _addGridCommonParams(beans.gos,{colDef,column,floatingFilter:!1})}setupUserComp(){const compDetails=this.lookupUserCompDetails();compDetails&&this.setCompDetails(compDetails)}setCompDetails(compDetails){this.userCompDetails=compDetails,this.comp.setUserCompDetails(compDetails)}lookupUserCompDetails(){const params=this.createParams(),colDef=this.column.getColDef();return function _getHeaderCompDetails(userCompFactory,colDef,params){return userCompFactory.getCompDetails(colDef,HeaderComponent,"agColumnHeader",params)}(this.beans.userCompFactory,colDef,params)}createParams(){const{menuSvc,sortSvc,colFilter,gos}=this.beans;return _addGridCommonParams(gos,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!menuSvc?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!colFilter&&(!this.openFilterEnabled||_isLegacyMenuEnabled(this.gos)),showColumnMenu:(buttonElement,onClosedCallback)=>{menuSvc?.showColumnMenu({column:this.column,buttonElement,positionBy:"button",onClosedCallback})},showColumnMenuAfterMouseClick:(mouseEvent,onClosedCallback)=>{menuSvc?.showColumnMenu({column:this.column,mouseEvent,positionBy:"mouse",onClosedCallback})},showFilter:buttonElement=>{menuSvc?.showFilterMenu({column:this.column,buttonElement,containerType:"columnFilter",positionBy:"button"})},progressSort:multiSort=>{sortSvc?.progressSort(this.column,!!multiSort,"uiColumnSorted")},setSort:(sort,multiSort)=>{sortSvc?.setSortForColumn(this.column,sort,!!multiSort,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(value,shouldDisplayTooltip)=>{gos.assertModuleRegistered("Tooltip",3),this.setupTooltip(value,shouldDisplayTooltip)}})}setupSelectAll(compBean){const{selectionSvc}=this.beans;selectionSvc&&(this.selectAllFeature=compBean.createOptionalManagedBean(selectionSvc.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),compBean.addManagedPropertyListener("rowSelection",(()=>{const selectAllFeature=selectionSvc.createSelectAllFeature(this.column);selectAllFeature&&!this.selectAllFeature?(this.selectAllFeature=compBean.createManagedBean(selectAllFeature),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!selectAllFeature&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))})))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===KeyCode_SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===KeyCode_ENTER&&this.onEnterKeyDown(e),e.key===KeyCode_DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,isFilterShortcut){const headerComp=this.comp.getUserCompInstance();isHeaderComp(headerComp)&&headerComp.onMenuKeyboardShortcut(isFilterShortcut)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),function _isKeyboardMode(){return keyboardModeActive}()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(value,shouldDisplayTooltip){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,value,shouldDisplayTooltip)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const refreshHeaderClasses=()=>{const classes=_getHeaderClassesFromColDef(this.column.getColDef(),this.gos,this.column,null),oldClasses=this.userHeaderClasses;this.userHeaderClasses=new Set(classes),classes.forEach((c=>{oldClasses.has(c)?oldClasses.delete(c):this.comp.toggleCss(c,!0)})),oldClasses.forEach((c=>this.comp.toggleCss(c,!1)))};this.setRefreshFunction("headerClasses",refreshHeaderClasses),refreshHeaderClasses()}setDragSource(eSource){this.dragSourceElement=eSource,this.removeDragSource(),eSource&&this.draggable&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(eSource,this.column,this.displayName)??null)}updateState(){const{menuSvc}=this.beans;this.menuEnabled=!!menuSvc?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!menuSvc?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(name,func){this.refreshFunctions[name]=func}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach((f=>f()))}refreshHeaderComp(){const newCompDetails=this.lookupUserCompDetails();if(!newCompDetails)return;!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==newCompDetails.componentClass)&&this.attemptHeaderCompRefresh(newCompDetails.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(newCompDetails)}attemptHeaderCompRefresh(params){const headerComp=this.comp.getUserCompInstance();if(!headerComp)return!1;if(!headerComp.refresh)return!1;return headerComp.refresh(params)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const colDef=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!colDef.suppressMovable&&!colDef.lockPosition)||!!colDef.enableRowGroup||!!colDef.enablePivot}setupWidth(compBean){const listener=()=>{const columnWidth=this.column.getActualWidth();this.comp.setWidth(`${columnWidth}px`)};compBean.addManagedListeners(this.column,{widthChanged:listener}),listener()}setupMovingCss(compBean){const listener=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};compBean.addManagedListeners(this.column,{movingChanged:listener}),listener()}setupMenuClass(compBean){const listener=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};compBean.addManagedListeners(this.column,{menuVisibleChanged:listener}),listener()}setupSortableClass(compBean){const updateSortableCssClass=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};updateSortableCssClass(),this.setRefreshFunction("updateSortable",updateSortableCssClass),compBean.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(compBean){const listener=()=>{const isFilterActive=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",isFilterActive),this.refreshAria()};compBean.addManagedListeners(this.column,{filterActiveChanged:listener}),listener()}setupWrapTextClass(){const listener=()=>{const wrapText=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",wrapText)};listener(),this.setRefreshFunction("wrapText",listener)}onHeaderHighlightChanged(){const highlighted=this.column.getHighlighted(),beforeOn=0===highlighted,afterOn=1===highlighted;this.comp.toggleCss("ag-header-highlight-before",beforeOn),this.comp.toggleCss("ag-header-highlight-after",afterOn)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui,column,comp,beans}=this,groupHeaderHeight=getGroupRowsHeight(this.beans),isZeroGroupHeight=0===groupHeaderHeight.reduce(((total,next)=>total+next),0);if(comp.toggleCss("ag-header-parent-hidden",isZeroGroupHeight),!column.isSpanHeaderHeight())return eGui.style.removeProperty("top"),eGui.style.removeProperty("height"),comp.toggleCss("ag-header-span-height",!1),void comp.toggleCss("ag-header-span-total",!1);const{numberOfParents,isSpanningTotal}=this.column.getColumnGroupPaddingInfo();comp.toggleCss("ag-header-span-height",numberOfParents>0);const headerHeight=getColumnHeaderRowHeight(beans);if(0===numberOfParents)return comp.toggleCss("ag-header-span-total",!1),eGui.style.setProperty("top","0px"),void eGui.style.setProperty("height",`${headerHeight}px`);comp.toggleCss("ag-header-span-total",isSpanningTotal);const indexToStartSpanning=(this.column.getFirstRealParent()?.getLevel()??-1)+1,rowsToSpan=groupHeaderHeight.length-indexToStartSpanning;let extraHeight=0;for(let i=0;i<rowsToSpan;i++)extraHeight+=groupHeaderHeight[groupHeaderHeight.length-1-i];eGui.style.setProperty("top",-extraHeight+"px"),eGui.style.setProperty("height",`${headerHeight+extraHeight}px`)}refreshAriaSort(){if(this.sortable){const translate=this.getLocaleTextFunc(),sort=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(function _getAriaSortState(sortDirection){let sort;return sort="asc"===sortDirection?"ascending":"desc"===sortDirection?"descending":"mixed"===sortDirection?"other":"none",sort}(sort)),this.setAriaDescriptionProperty("sort",translate("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const translate=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",translate("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!_isLegacyMenuEnabled(this.gos)){const translate=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",translate("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const translate=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",translate("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(property,value){null!=value?this.ariaDescriptionProperties.set(property,value):this.ariaDescriptionProperties.delete(property)}announceAriaDescription(){if(!this.eGui.contains(_getActiveDomElement(this.beans)))return;const ariaDescription=Array.from(this.ariaDescriptionProperties.keys()).sort(((a,b)=>"filter"===a?-1:b.charCodeAt(0)-a.charCodeAt(0))).map((key=>this.ariaDescriptionProperties.get(key))).join(". ");this.beans.ariaAnnounce?.announceValue(ariaDescription,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(compBean){this.beans.colHover?.addHeaderColumnHoverListener(compBean,this.comp,this.column)}addActiveHeaderMouseListeners(compBean){const listener=e=>this.handleMouseOverChange("mouseenter"===e.type);compBean.addManagedListeners(this.eGui,{mouseenter:listener,mouseleave:listener,click:()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},contextmenu:event=>this.handleContextMenuMouseEvent(event,void 0,this.column)})}handleMouseOverChange(isMouseOver){this.setActiveHeader(isMouseOver),this.eventSvc.dispatchEvent({type:isMouseOver?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(active){this.comp.toggleCss("ag-header-active",active)}getAnchorElementForMenu(isFilter){const headerComp=this.comp.getUserCompInstance();return isHeaderComp(headerComp)?headerComp.getAnchorElementForMenu(isFilter):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function isHeaderComp(headerComp){return"function"==typeof headerComp?.getAnchorElementForMenu&&"function"==typeof headerComp.onMenuKeyboardShortcut}var instanceIdSequence3=0,HeaderRowCtrl=class extends BeanStub{constructor(rowIndex,pinned,type){super(),this.rowIndex=rowIndex,this.pinned=pinned,this.type=type,this.instanceId=instanceIdSequence3++,this.comp=null,this.allCtrls=[];let typeClass="ag-header-row-column";"group"===type?typeClass="ag-header-row-group":"filter"===type&&(typeClass="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${typeClass}`}setRowIndex(rowIndex){this.rowIndex=rowIndex,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=_isDomLayout(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return!!this.comp&&this.allCtrls.every((ctrl=>null!=ctrl.eGui))}setComp(comp,compBean,initCompState=!0){this.comp=comp,compBean=setupCompBean(this,this.beans.context,compBean),initCompState&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(compBean)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(compBean){const onHeightChanged=this.onRowHeightChanged.bind(this),onDisplayedColumnsChanged=this.onDisplayedColumnsChanged.bind(this);compBean.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:onDisplayedColumnsChanged,virtualColumnsChanged:params=>this.onVirtualColumnsChanged(params.afterScroll),columnGroupHeaderHeightChanged:onHeightChanged,columnHeaderHeightChanged:onHeightChanged,gridStylesChanged:onHeightChanged,advancedFilterEnabledChanged:onHeightChanged}),compBean.addManagedPropertyListener("domLayout",onDisplayedColumnsChanged),compBean.addManagedPropertyListener("ensureDomOrder",(e=>this.isEnsureDomOrder=e.currentValue)),compBean.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],onHeightChanged)}onDisplayedColumnsChanged(){this.isPrintLayout=_isDomLayout(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const width=this.getWidthForRow();this.comp.setWidth(`${width}px`)}getWidthForRow(){const{visibleCols}=this.beans;if(this.isPrintLayout){return null!=this.pinned?0:visibleCols.getContainerWidth("right")+visibleCols.getContainerWidth("left")+visibleCols.getContainerWidth(null)}return visibleCols.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset,rowHeight}=this.getTopAndHeight();this.comp.setTop(topOffset+"px"),this.comp.setHeight(rowHeight+"px")}getTopAndHeight(){let topOffset=0;const groupHeadersHeight=getGroupRowsHeight(this.beans);for(let i=0;i<groupHeadersHeight.length;i++){if(i===this.rowIndex&&"group"===this.type)return{topOffset,rowHeight:groupHeadersHeight[i]};topOffset+=groupHeadersHeight[i]}const headerHeight=getColumnHeaderRowHeight(this.beans);if("column"===this.type)return{topOffset,rowHeight:headerHeight};topOffset+=headerHeight;return{topOffset,rowHeight:getFloatingFiltersHeight(this.beans)}}onVirtualColumnsChanged(afterScroll=!1){if(!this.comp)return;const ctrlsToDisplay=this.getUpdatedHeaderCtrls(),forceOrder=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(ctrlsToDisplay,forceOrder,afterScroll)}getUpdatedHeaderCtrls(){const oldCtrls=this.ctrlsById;this.ctrlsById=new Map;const columns=this.getColumnsInViewport();for(const child of columns)this.recycleAndCreateHeaderCtrls(child,this.ctrlsById,oldCtrls);const isFocusedAndDisplayed=ctrl=>{const{focusSvc,visibleCols}=this.beans;if(!focusSvc.isHeaderWrapperFocused(ctrl))return!1;return visibleCols.isVisible(ctrl.column)};if(oldCtrls)for(const[id,oldCtrl]of oldCtrls){isFocusedAndDisplayed(oldCtrl)?this.ctrlsById.set(id,oldCtrl):this.destroyBean(oldCtrl)}return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(headerColumn,currCtrls,oldCtrls){if(headerColumn.isEmptyGroup())return;const idOfChild=headerColumn.getUniqueId();let headerCtrl;oldCtrls&&(headerCtrl=oldCtrls.get(idOfChild),oldCtrls.delete(idOfChild));if(headerCtrl&&headerCtrl.column!=headerColumn&&(this.destroyBean(headerCtrl),headerCtrl=void 0),null==headerCtrl)switch(this.type){case"filter":headerCtrl=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,headerColumn,this));break;case"group":headerCtrl=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,headerColumn,this));break;default:headerCtrl=this.createBean(new HeaderCellCtrl(headerColumn,this))}currCtrls.set(idOfChild,headerCtrl)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const viewportColumns=[];return["left",null,"right"].forEach((pinned=>{viewportColumns.push(...this.getComponentsToRender(pinned))})),viewportColumns}getComponentsToRender(pinned=this.pinned){return"group"===this.type?this.beans.colViewport.getHeadersToRender(pinned,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(pinned)}focusHeader(column,event){const ctrl=this.allCtrls.find((ctrl2=>ctrl2.column==column));if(!ctrl)return!1;return ctrl.focus(event)}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},HeaderRowContainerCtrl=class extends BeanStub{constructor(pinned){super(),this.pinned=pinned,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(comp,eGui){this.comp=comp,this.eViewport=eGui;const{pinnedCols,ctrlsSvc,colModel,colMoves}=this.beans;this.setupCenterWidth(),pinnedCols?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(colMoves,this.eViewport);const onDisplayedColsChanged=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:onDisplayedColsChanged,advancedFilterEnabledChanged:onDisplayedColsChanged});const headerType=`${"string"==typeof this.pinned?this.pinned:"center"}Header`;ctrlsSvc.register(headerType,this),colModel.ready&&this.refresh()}getAllCtrls(){const res=[...this.groupsRowCtrls];return this.columnsRowCtrl&&res.push(this.columnsRowCtrl),this.filtersRowCtrl&&res.push(this.filtersRowCtrl),res}refresh(keepColumns=!1){const{focusSvc,filterManager,visibleCols}=this.beans;let sequence=0;const focusedHeaderPosition=focusSvc.getFocusHeaderToUseAfterRefresh(),oldCtrls=this.getAllCtrls();(()=>{const groupRowCount=visibleCols.headerGroupRowCount;sequence=groupRowCount;const currentGroupCount=this.groupsRowCtrls.length;if(currentGroupCount!==groupRowCount)if(currentGroupCount>groupRowCount){for(let i=groupRowCount;i<currentGroupCount;i++)this.destroyBean(this.groupsRowCtrls[i]);this.groupsRowCtrls.length=groupRowCount}else for(let i=currentGroupCount;i<groupRowCount;i++){const ctrl=this.createBean(new HeaderRowCtrl(i,this.pinned,"group"));this.groupsRowCtrls.push(ctrl)}})(),(()=>{const rowIndex=sequence++;this.hidden?this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl):null!=this.columnsRowCtrl&&keepColumns?this.columnsRowCtrl.rowIndex!==rowIndex&&this.columnsRowCtrl.setRowIndex(rowIndex):(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new HeaderRowCtrl(rowIndex,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=!!filterManager?.hasFloatingFilters()&&!this.hidden;const destroyPreviousComp=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void destroyPreviousComp();keepColumns||destroyPreviousComp();const rowIndex=sequence++;if(this.filtersRowCtrl){this.filtersRowCtrl.rowIndex!==rowIndex&&this.filtersRowCtrl.setRowIndex(rowIndex)}else this.filtersRowCtrl=this.createBean(new HeaderRowCtrl(rowIndex,this.pinned,"filter"))})();const allCtrls=this.getAllCtrls();this.comp.setCtrls(allCtrls),this.restoreFocusOnHeader(focusSvc,focusedHeaderPosition),oldCtrls.length!==allCtrls.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(column){const findCtrl=ctrl=>ctrl?.getHeaderCellCtrls().find((ctrl2=>ctrl2.column===column));if(isColumn(column))return findCtrl(this.columnsRowCtrl);if(0!==this.groupsRowCtrls.length)for(let i=0;i<this.groupsRowCtrls.length;i++){const ctrl=findCtrl(this.groupsRowCtrls[i]);if(ctrl)return ctrl}}getHtmlElementForColumnHeader(column){return this.getHeaderCtrlForColumn(column)?.eGui??null}getRowType(rowIndex){return this.getAllCtrls()[rowIndex]?.type}focusHeader(rowIndex,column,event){const ctrl=this.getAllCtrls()[rowIndex];return!!ctrl&&ctrl.focusHeader(column,event)}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(index){return this.groupsRowCtrls[index]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(offset){this.comp.setViewportScrollLeft(offset)}onScrollCallback(fn){this.addManagedElementListeners(this.eViewport,{scroll:fn})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(colMoves,dropContainer){const bodyDropTarget=colMoves?.createBodyDropTarget(this.pinned,dropContainer);bodyDropTarget&&this.createManagedBean(bodyDropTarget)}restoreFocusOnHeader(focusSvc,position){if(!position)return;const{column}=position;column.getPinned()==this.pinned&&focusSvc.focusHeaderPosition({headerPosition:position})}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new CenterWidthFeature((width=>this.comp.setCenterWidth(`${width}px`)),!0))}};var OverlayComponent=class extends Component{constructor(){super()}},LoadingOverlayElement={tag:"span",cls:"ag-overlay-loading-center"},NoRowsOverlayElement={tag:"span",cls:"ag-overlay-no-rows-center"};function _createIconNoSpan(iconName,beans,column){let userProvidedIcon=null;"smallDown"===iconName?_warn(262):"smallLeft"===iconName?_warn(263):"smallRight"===iconName&&_warn(264);const icons=column&&column.getColDef().icons;if(icons&&(userProvidedIcon=icons[iconName]),beans.gos&&!userProvidedIcon){const optionsIcons=beans.gos.get("icons");optionsIcons&&(userProvidedIcon=optionsIcons[iconName])}if(userProvidedIcon){let rendererResult;if("function"==typeof userProvidedIcon)rendererResult=userProvidedIcon();else{if("string"!=typeof userProvidedIcon)return void _warn(38,{iconName});rendererResult=userProvidedIcon}return"string"==typeof rendererResult?_loadTemplate(rendererResult):_isNodeOrElement(rendererResult)?rendererResult:void _warn(133,{iconName})}{const iconValue=beans.registry.getIcon(iconName);return iconValue||beans.validation?.validateIcon(iconName),_createElement({tag:"span",cls:`ag-icon ag-icon-${iconValue??iconName}`,role:"presentation",attrs:{unselectable:"on"}})}}var DragAndDropElement={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},CheckboxCellRendererElement={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]};function _isManualPinnedRow(rowNode){return!(!rowNode.rowPinned||!rowNode.pinnedSibling)}var TabGuardClassNames_TAB_GUARD="ag-tab-guard",TabGuardClassNames_TAB_GUARD_TOP="ag-tab-guard-top",TabGuardClassNames_TAB_GUARD_BOTTOM="ag-tab-guard-bottom",TabGuardCtrl=class extends BeanStub{constructor(params){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp,eTopGuard,eBottomGuard,focusTrapActive,forceFocusOutWhenTabGuardsAreEmpty,isFocusableContainer,focusInnerElement,onFocusIn,onFocusOut,shouldStopEventPropagation,onTabKeyDown,handleKeyDown,isEmpty,eFocusableElement}=params;this.comp=comp,this.eTopGuard=eTopGuard,this.eBottomGuard=eBottomGuard,this.providedFocusInnerElement=focusInnerElement,this.eFocusableElement=eFocusableElement,this.focusTrapActive=!!focusTrapActive,this.forceFocusOutWhenTabGuardsAreEmpty=!!forceFocusOutWhenTabGuardsAreEmpty,this.isFocusableContainer=!!isFocusableContainer,this.providedFocusIn=onFocusIn,this.providedFocusOut=onFocusOut,this.providedShouldStopEventPropagation=shouldStopEventPropagation,this.providedOnTabKeyDown=onTabKeyDown,this.providedHandleKeyDown=handleKeyDown,this.providedIsEmpty=isEmpty}postConstruct(){this.createManagedBean(new ManagedFocusFeature(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((guard=>this.addManagedElementListeners(guard,{focus:this.onFocus.bind(this)})))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const tabIndex=this.gos.get("tabIndex");this.comp.setTabIndex(tabIndex.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty){if(this.providedIsEmpty?this.providedIsEmpty():0===_findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const fromBottom=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(fromBottom):this.focusInnerElement(fromBottom))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(up){const focusableEls=_findFocusableElements(_getDocument(this.beans).body,null,!0),index=focusableEls.indexOf(up?this.eTopGuard:this.eBottomGuard);if(-1===index)return;let start,end;up?(start=0,end=index):(start=index+1,end=focusableEls.length);const focusableRange=focusableEls.slice(start,end),targetTabIndex=this.gos.get("tabIndex");focusableRange.sort(((a,b)=>{const indexA=parseInt(a.getAttribute("tabindex")||"0"),indexB=parseInt(b.getAttribute("tabindex")||"0");return indexB===targetTabIndex?1:indexA===targetTabIndex?-1:0===indexA?1:0===indexB?-1:indexA-indexB})),focusableRange[up?focusableRange.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive)return;if(e.defaultPrevented)return;const tabGuardsAreActive=this.tabGuardsAreActive();tabGuardsAreActive&&this.deactivateTabGuards();const nextRoot=this.getNextFocusableElement(e.shiftKey);tabGuardsAreActive&&setTimeout((()=>this.activateTabGuards()),0),nextRoot&&(nextRoot.focus(),e.preventDefault())}focusInnerElement(fromBottom=!1){const focusable=_findFocusableElements(this.eFocusableElement);return this.tabGuardsAreActive()&&(focusable.splice(0,1),focusable.splice(focusable.length-1,1)),!!focusable.length&&(focusable[fromBottom?focusable.length-1:0].focus({preventScroll:!0}),!0)}getNextFocusableElement(backwards){return _findNextFocusableElement(this.beans,this.eFocusableElement,!1,backwards)}forceFocusOutOfContainer(up=!1){if(this.forcingFocusOut)return;const tabGuardToFocus=up?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,tabGuardToFocus.focus(),window.setTimeout((()=>{this.forcingFocusOut=!1,this.activateTabGuards()}))}isTabGuard(element,bottom){return element===this.eTopGuard&&!bottom||element===this.eBottomGuard&&(bottom??!0)}setAllowFocus(allowFocus){this.allowFocus=allowFocus}},TouchListener=class{constructor(eElement,preventMouseClick=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new LocalEventService,this.preventMouseClick=preventMouseClick;const startListener=this.onTouchStart.bind(this),moveListener=this.onTouchMove.bind(this),endListener=this.onTouchEnd.bind(this);eElement.addEventListener("touchstart",startListener,{passive:!0}),eElement.addEventListener("touchmove",moveListener,{passive:!0}),eElement.addEventListener("touchend",endListener,{passive:!1}),this.destroyFuncs.push((()=>{eElement.removeEventListener("touchstart",startListener,{passive:!0}),eElement.removeEventListener("touchmove",moveListener,{passive:!0}),eElement.removeEventListener("touchend",endListener,{passive:!1})}))}getActiveTouch(touchList){for(let i=0;i<touchList.length;i++){if(touchList[i].identifier===this.touchStart.identifier)return touchList[i]}return null}addEventListener(eventType,listener){this.localEventService.addEventListener(eventType,listener)}removeEventListener(eventType,listener){this.localEventService.removeEventListener(eventType,listener)}onTouchStart(touchEvent){if(this.touching)return;this.touchStart=touchEvent.touches[0],this.touching=!0,this.moved=!1;const touchStartCopy=this.touchStart;window.setTimeout((()=>{const touchesMatch=this.touchStart===touchStartCopy;if(this.touching&&touchesMatch&&!this.moved){this.moved=!0;const event={type:"longTap",touchStart:this.touchStart,touchEvent};this.localEventService.dispatchEvent(event)}}),500)}onTouchMove(touchEvent){if(!this.touching)return;const touch=this.getActiveTouch(touchEvent.touches);if(!touch)return;!_areEventsNear(touch,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(touchEvent){if(this.touching){if(!this.moved){const event={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(event),this.checkForDoubleTap()}this.preventMouseClick&&touchEvent.cancelable&&touchEvent.preventDefault(),this.touching=!1}}checkForDoubleTap(){const now=Date.now();if(this.lastTapTime&&this.lastTapTime>0){if(now-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const event={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(event),this.lastTapTime=null}else this.lastTapTime=now}else this.lastTapTime=now}destroy(){this.destroyFuncs.forEach((func=>func()))}},VanillaFrameworkOverrides=class{constructor(frameworkName="javascript"){this.frameworkName=frameworkName,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=callback=>callback(),this.wrapOutgoing=callback=>callback(),this.baseDocLink=`https://www.ag-grid.com/${this.frameworkName}-data-grid`,function setValidationDocLink(docLink){baseDocLink=docLink}(this.baseDocLink)}frameworkComponent(_){return null}isFrameworkComponent(_){return!1}getDocLink(path){return`${this.baseDocLink}${path?`/${path}`:""}`}};function createGridApi(context){return{beanName:"gridApi",bean:context.getBean("apiFunctionSvc").api}}var beanNamePosition=Object.fromEntries(["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"].map(((beanName,index)=>[beanName,index])));function gridBeanInitComparator(bean1,bean2){return((bean1.beanName?beanNamePosition[bean1.beanName]:void 0)??Number.MAX_SAFE_INTEGER)-((bean2.beanName?beanNamePosition[bean2.beanName]:void 0)??Number.MAX_SAFE_INTEGER)}function gridBeanDestroyComparator(bean1,bean2){return"gridDestroySvc"===bean1?.beanName?-1:"gridDestroySvc"===bean2?.beanName?1:0}var GridCtrl=class extends BeanStub{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(view,eGridDiv,eGui){this.view=view,this.eGridHostDiv=eGridDiv,this.eGui=eGui,this.eGui.setAttribute("grid-id",this.beans.context.getId());const{dragAndDrop,ctrlsSvc}=this.beans;dragAndDrop?.registerGridDropTarget((()=>this.eGui),this),this.createManagedBean(new LayoutFeature(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const unsubscribeFromResize=_observeResize(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((()=>unsubscribeFromResize())),ctrlsSvc.register("gridCtrl",this)}isDetailGrid(){const el=_findTabbableParent(this.getGui());return el?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const beans=this.beans;return{paginationSelector:beans.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:beans.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:beans.sideBar?.getSelector(),statusBarSelector:beans.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:beans.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(direction){const{view}=this;if(!1===direction)view.setCursor(null);else{const cursor=1===direction?"ew-resize":"ns-resize";view.setCursor(cursor)}}disableUserSelect(on){this.view.setUserSelect(on?"none":null)}focusNextInnerContainer(backwards){const focusableContainers=this.getFocusableContainers(),{indexWithFocus,nextIndex}=this.getNextFocusableIndex(focusableContainers,backwards);if(nextIndex<0||nextIndex>=focusableContainers.length)return!1;if(0===nextIndex){if(indexWithFocus>0){const{visibleCols,focusSvc}=this.beans,lastColumn=_last(visibleCols.allCols);if(focusSvc.focusGridView({column:lastColumn,backwards:!0}))return!0}return!1}return this.focusContainer(focusableContainers[nextIndex],backwards)}focusInnerElement(fromBottom){const userCallbackFunction=this.gos.getCallback("focusGridInnerElement");if(userCallbackFunction&&userCallbackFunction({fromBottom:!!fromBottom}))return!0;const focusableContainers=this.getFocusableContainers(),{focusSvc,visibleCols}=this.beans,allColumns=visibleCols.allCols;if(fromBottom){if(focusableContainers.length>1)return this.focusContainer(_last(focusableContainers),fromBottom);const lastColumn=_last(allColumns);if(focusSvc.focusGridView({column:lastColumn,backwards:fromBottom}))return!0}if(0===this.gos.get("headerHeight")||_isHeaderFocusSuppressed(this.beans)){if(focusSvc.focusGridView({column:allColumns[0],backwards:fromBottom}))return!0;for(let i=1;i<focusableContainers.length;i++)if(_focusInto(focusableContainers[i].getGui(),fromBottom))return!0;return!1}return focusSvc.focusFirstHeader()}forceFocusOutOfContainer(up=!1){this.view.forceFocusOutOfContainer(up)}addFocusableContainer(container){this.additionalFocusableContainers.add(container)}removeFocusableContainer(container){this.additionalFocusableContainers.delete(container)}allowFocusForNextCoreContainer(up){const coreContainers=this.view.getFocusableContainers(),{nextIndex,indexWithFocus}=this.getNextFocusableIndex(coreContainers,up);if(-1===indexWithFocus||nextIndex<0||nextIndex>=coreContainers.length)return;const comp=coreContainers[nextIndex];comp.setAllowFocus?.(!0),setTimeout((()=>{comp.setAllowFocus?.(!1)}))}isFocusable(){const beans=this.beans;return!_isCellFocusSuppressed(beans)||!_isHeaderFocusSuppressed(beans)||!!beans.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(focusableContainers,backwards){const activeEl=_getActiveDomElement(this.beans),indexWithFocus=focusableContainers.findIndex((container=>container.getGui().contains(activeEl)));return{indexWithFocus,nextIndex:indexWithFocus+(backwards?-1:1)}}focusContainer(comp,up){comp.setAllowFocus?.(!0);const result=_focusInto(comp.getGui(),up,!1,!0);return comp.setAllowFocus?.(!1),result}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},mod=(moduleName,input)=>{for(const key of Object.keys(input))input[key]=moduleName;return input},gridApiFunctionsMap={dispatchEvent:"CommunityCore",...mod("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...mod("GridState",{getState:0,setState:0}),...mod("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...mod("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...mod("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...mod("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...mod("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...mod("ValueCache",{expireValueCache:0}),...mod("CellApi",{getCellValue:0}),...mod("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...mod("Sort",{onSortChanged:0}),...mod("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...mod("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...mod("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...mod("HighlightChanges",{flashCells:0}),...mod("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...mod("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...mod("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...mod("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...mod("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...mod("ColumnResize",{setColumnWidths:0}),...mod("ColumnHover",{isColumnHovered:0}),...mod("EditCore",{getCellEditorInstances:0,getEditingCells:0,getEditRowValues:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...mod("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...mod("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...mod("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...mod("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...mod("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...mod("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...mod("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...mod("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0}),...mod("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...mod("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0,onRowHeightChanged:0,resetRowHeights:0}),...mod("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...mod("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...mod("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...mod("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...mod("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...mod("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...mod("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...mod("ContextMenu",{showContextMenu:0}),...mod("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...mod("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...mod("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...mod("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...mod("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...mod("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0,onRowHeightChanged:0,resetRowHeights:0}),...mod("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...mod("StatusBar",{getStatusPanel:0})},defaultFns={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},dispatchEvent=(beans,event)=>beans.eventSvc.dispatchEvent(event),GridApiClass=class{};Reflect.defineProperty(GridApiClass,"name",{value:"GridApi"});function getGridId(beans){return beans.context.getId()}function updateGridOptions(beans,options){beans.gos.updateGridOptions({options})}function _areCellsEqual(cellA,cellB){const colsMatch=cellA.column===cellB.column,floatingMatch=cellA.rowPinned===cellB.rowPinned,indexMatch=cellA.rowIndex===cellB.rowIndex;return colsMatch&&floatingMatch&&indexMatch}function _getRowNode(beans,gridRow){switch(gridRow.rowPinned){case"top":return beans.pinnedRowModel?.getPinnedTopRow(gridRow.rowIndex);case"bottom":return beans.pinnedRowModel?.getPinnedBottomRow(gridRow.rowIndex);default:return beans.rowModel.getRow(gridRow.rowIndex)}}function _getCellByPosition(beans,cellPosition){const spannedCellCtrl=beans.spannedRowRenderer?.getCellByPosition(cellPosition);if(spannedCellCtrl)return spannedCellCtrl;const rowCtrl=beans.rowRenderer.getRowByPosition(cellPosition);return rowCtrl?rowCtrl.getCellCtrl(cellPosition.column):null}function _getRowAbove(beans,rowPosition,checkSticky=!1){const{rowIndex:index,rowPinned:pinned}=rowPosition,{pageBounds,pinnedRowModel,rowModel}=beans;if(0===index)return"top"===pinned?null:"bottom"===pinned&&rowModel.isRowsToRender()?{rowIndex:pageBounds.getLastRow(),rowPinned:null}:pinnedRowModel?.isRowsToRender("top")?{rowIndex:pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}:null;if(checkSticky){return getNextStickyPosition(beans,pinned?void 0:rowModel.getRow(index),!0)??{rowIndex:index-1,rowPinned:pinned}}return{rowIndex:index-1,rowPinned:pinned}}function _getRowBelow(beans,rowPosition,checkSticky=!1){const{rowIndex:index,rowPinned:pinned}=rowPosition,{pageBounds,pinnedRowModel,rowModel}=beans;if(function isLastRowInContainer(beans,rowPosition){const{rowPinned,rowIndex}=rowPosition,{pinnedRowModel,pageBounds}=beans;if("top"===rowPinned){return(pinnedRowModel?.getPinnedTopRowCount()??0)-1<=rowIndex}if("bottom"===rowPinned){return(pinnedRowModel?.getPinnedBottomRowCount()??0)-1<=rowIndex}const lastBodyIndex=pageBounds.getLastRow();return lastBodyIndex<=rowIndex}(beans,rowPosition))return"bottom"===pinned?null:"top"===pinned&&rowModel.isRowsToRender()?{rowIndex:pageBounds.getFirstRow(),rowPinned:null}:pinnedRowModel?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;if(checkSticky){return getNextStickyPosition(beans,pinned?void 0:rowModel.getRow(index))??{rowIndex:index+1,rowPinned:pinned}}return{rowIndex:index+1,rowPinned:pinned}}function getNextStickyPosition(beans,rowNode,up=!1){const{gos,rowRenderer}=beans;if(!rowNode?.sticky||!_isGroupRowsSticky(gos))return;const stickyTopCtrls=rowRenderer.getStickyTopRowCtrls(),stickyBottomCtrls=rowRenderer.getStickyBottomRowCtrls(),isStickyTop=!stickyBottomCtrls.some((ctrl=>ctrl.rowNode.rowIndex===rowNode.rowIndex)),stickyRowCtrls=isStickyTop?stickyTopCtrls:stickyBottomCtrls,increment=(up?-1:1)*(isStickyTop?-1:1);let nextCtrl;for(let i=0;i<stickyRowCtrls.length;i++)if(stickyRowCtrls[i].rowNode.rowIndex===rowNode.rowIndex){nextCtrl=stickyRowCtrls[i+increment];break}return nextCtrl?{rowIndex:nextCtrl.rowNode.rowIndex,rowPinned:null}:void 0}var ChangedPath=class{constructor(keepingColumns,rootNode){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=keepingColumns,this.pathRoot={rowNode:rootNode,children:null},this.mapToItems[rootNode.id]=this.pathRoot}depthFirstSearchChangedPath(pathItem,callback){const{rowNode,children}=pathItem;if(children)for(let i=0;i<children.length;++i)this.depthFirstSearchChangedPath(children[i],callback);callback(rowNode)}depthFirstSearchEverything(rowNode,callback,traverseEverything){const childrenAfterGroup=rowNode.childrenAfterGroup;if(childrenAfterGroup)for(let i=0,len=childrenAfterGroup.length;i<len;++i){const childNode=childrenAfterGroup[i];childNode.childrenAfterGroup?this.depthFirstSearchEverything(childNode,callback,traverseEverything):traverseEverything&&callback(childNode)}callback(rowNode)}forEachChangedNodeDepthFirst(callback,traverseLeafNodes=!1,includeUnchangedNodes=!1){this.active&&!includeUnchangedNodes?this.depthFirstSearchChangedPath(this.pathRoot,callback):this.depthFirstSearchEverything(this.pathRoot.rowNode,callback,traverseLeafNodes)}executeFromRootNode(callback){callback(this.pathRoot.rowNode)}createPathItems(rowNode){let pointer=rowNode,newEntryCount=0;for(;!this.mapToItems[pointer.id];){const newEntry={rowNode:pointer,children:null};this.mapToItems[pointer.id]=newEntry,newEntryCount++,pointer=pointer.parent}return newEntryCount}populateColumnsMap(rowNode,columns){if(!this.keepingColumns||!columns)return;let pointer=rowNode;for(;pointer;)this.nodeIdsToColumns[pointer.id]||(this.nodeIdsToColumns[pointer.id]={}),columns.forEach((col=>this.nodeIdsToColumns[pointer.id][col.getId()]=!0)),pointer=pointer.parent}linkPathItems(rowNode,newEntryCount){let pointer=rowNode;for(let i=0;i<newEntryCount;i++){const thisItem=this.mapToItems[pointer.id],parentItem=this.mapToItems[pointer.parent.id];parentItem.children||(parentItem.children=[]),parentItem.children.push(thisItem),pointer=pointer.parent}}addParentNode(rowNode,columns){if(!rowNode||rowNode.isRowPinned())return;const newEntryCount=this.createPathItems(rowNode);this.linkPathItems(rowNode,newEntryCount),this.populateColumnsMap(rowNode,columns)}canSkip(rowNode){return this.active&&!this.mapToItems[rowNode.id]}getValueColumnsForNode(rowNode,valueColumns){if(!this.keepingColumns)return valueColumns;const colsForThisNode=this.nodeIdsToColumns[rowNode.id];return valueColumns.filter((col=>colsForThisNode[col.getId()]))}getNotValueColumnsForNode(rowNode,valueColumns){if(!this.keepingColumns)return null;const colsForThisNode=this.nodeIdsToColumns[rowNode.id];return valueColumns.filter((col=>!colsForThisNode[col.getId()]))}},DragModule={moduleName:"Drag",version:VERSION,beans:[class extends BaseDragService{shouldPreventMouseEvent(mouseEvent){return this.gos.get("enableCellTextSelection")&&super.shouldPreventMouseEvent(mouseEvent)}}]},SharedDragAndDropModule={moduleName:"SharedDragAndDrop",version:VERSION,beans:[class extends BaseDragAndDropService{createEvent(event){return _addGridCommonParams(this.gos,event)}createDragImageComp(dragSource){const{gos,beans}=this,userCompDetails=function _getDragAndDropImageCompDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(DragAndDropImageComponent,"agDragAndDropImage",params,!0)}(beans.userCompFactory,_addGridCommonParams(gos,{dragSource}));return userCompDetails?.newAgStackInstance()}handleEnter(dragSource,dragItem){dragSource?.onGridEnter?.(dragItem)}handleExit(dragSource,dragItem){dragSource?.onGridExit?.(dragItem)}warnNoBody(){_warn(54)}isDropZoneWithinThisGrid(draggingEvent){return this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody.contains(draggingEvent.dropZoneTarget)}registerGridDropTarget(elementFn,ctrl){const dropTarget={getContainer:elementFn,isInterestedIn:type=>1===type||0===type,getIconName:()=>"notAllowed"};this.addDropTarget(dropTarget),ctrl.addDestroyFunc((()=>this.removeDropTarget(dropTarget)))}}],dependsOn:[DragModule],userComponents:{agDragAndDropImage:class extends Component{constructor(){super(),this.dragSource=null,this.eIcon=null,this.eLabel=null,this.eGhost=null,this.registerCSS(".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}.ag-dnd-ghost-not-allowed{border:var(--ag-drag-and-drop-image-not-allowed-border)}")}postConstruct(){const create=iconName=>function _createIcon(iconName,beans,column){const iconContents=_createIconNoSpan(iconName,beans,column);if(iconContents){const{className}=iconContents;if("string"==typeof className&&className.indexOf("ag-icon")>-1||"object"==typeof className&&className["ag-icon"])return iconContents}const eResult=_createElement({tag:"span"});return eResult.appendChild(iconContents),eResult}(iconName,this.beans,null);this.dropIconMap={pinned:create("columnMovePin"),hide:create("columnMoveHide"),move:create("columnMoveMove"),left:create("columnMoveLeft"),right:create("columnMoveRight"),group:create("columnMoveGroup"),aggregate:create("columnMoveValue"),pivot:create("columnMovePivot"),notAllowed:create("dropNotAllowed")}}init(params){this.dragSource=params.dragSource,this.setTemplate(DragAndDropElement),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(iconName,shake){const{eGhost,eIcon,dragSource,dropIconMap,gos}=this;_clearElement(eIcon);let eIconChild=null;iconName||(iconName=dragSource?.getDefaultIconName?dragSource.getDefaultIconName():"notAllowed"),eIconChild=dropIconMap[iconName],eGhost.classList.toggle("ag-dnd-ghost-not-allowed","notAllowed"===iconName),eIcon.classList.toggle("ag-shake-left-to-right",shake),eIconChild===dropIconMap.hide&&gos.get("suppressDragLeaveHidesColumns")||eIconChild&&eIcon.appendChild(eIconChild)}setLabel(label){this.eLabel.textContent=label}}},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},HorizontalResizeModule={moduleName:"HorizontalResize",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(params){const dragSource={dragStartPixels:params.dragStartPixels||0,eElement:params.eResizeBar,onDragStart:this.onDragStart.bind(this,params),onDragStop:this.onDragStop.bind(this,params),onDragging:this.onDragging.bind(this,params),onDragCancel:this.onDragStop.bind(this,params),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc}=this.beans;dragSvc.addDragSource(dragSource);return()=>dragSvc.removeDragSource(dragSource)}onDragStart(params,mouseEvent){this.dragStartX=mouseEvent.clientX,this.setResizeIcons();const shiftKey=mouseEvent instanceof MouseEvent&&!0===mouseEvent.shiftKey;params.onResizeStart(shiftKey)}setResizeIcons(){const ctrl=this.beans.ctrlsSvc.get("gridCtrl");ctrl.setResizeCursor(1),ctrl.disableUserSelect(!0)}onDragStop(params){params.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const ctrl=this.beans.ctrlsSvc.get("gridCtrl");ctrl.setResizeCursor(!1),ctrl.disableUserSelect(!1)}onDragging(params,mouseEvent){this.resizeAmount=mouseEvent.clientX-this.dragStartX,params.onResizing(this.resizeAmount)}}],dependsOn:[DragModule]};var BodyDropPivotTarget=class extends BeanStub{constructor(pinned){super(),this.pinned=pinned,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(draggingEvent){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const dragColumns=draggingEvent.dragItem.columns;dragColumns&&dragColumns.forEach((column=>{column.isPrimary()&&(column.isAnyFunctionActive()||(column.isAllowValue()?this.columnsToAggregate.push(column):column.isAllowRowGroup()?this.columnsToGroup.push(column):column.isAllowPivot()&&this.columnsToPivot.push(column)))}))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(draggingEvent){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(draggingEvent){}onDragStop(draggingEvent){const{valueColsSvc,rowGroupColsSvc,pivotColsSvc}=this.beans;this.columnsToAggregate.length>0&&valueColsSvc?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&rowGroupColsSvc?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&pivotColsSvc?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function getBestColumnMoveIndexFromXPosition(params){const{isFromHeader,fromLeft,xPosition,fromEnter,fakeEvent,pinned,gos,colModel,colMoves,visibleCols}=params;let{allMovingColumns}=params;isFromHeader&&(allMovingColumns=function getColsToMove(allMovingColumns){const newCols=[...allMovingColumns];return allMovingColumns.forEach((col=>{let movingGroup=null,parent=col.getParent();for(;null!=parent&&1===parent.getDisplayedLeafColumns().length;)movingGroup=parent,parent=parent.getParent();null!=movingGroup&&(movingGroup.getColGroupDef()?.marryChildren?movingGroup.getProvidedColumnGroup().getLeafColumns():movingGroup.getLeafColumns()).forEach((newCol=>{newCols.includes(newCol)||newCols.push(newCol)}))})),newCols}(allMovingColumns));const allMovingColumnsOrdered=allMovingColumns.slice();!function sortColsLikeCols(colsList,cols){if(!cols||cols.length<=1)return;cols.filter((c=>colsList.indexOf(c)<0)).length>0||cols.sort(((a,b)=>colsList.indexOf(a)-colsList.indexOf(b)))}(colModel.getCols(),allMovingColumnsOrdered);const validMoves=function calculateValidMoves(params){const{movingCols,draggingRight,xPosition,pinned,gos,colModel,visibleCols}=params,isMoveBlocked=gos.get("suppressMovableColumns")||movingCols.some((col=>col.getColDef().suppressMovable));if(isMoveBlocked)return[];const allDisplayedCols=function getDisplayedColumns(visibleCols,type){switch(type){case"left":return visibleCols.leftCols;case"right":return visibleCols.rightCols;default:return visibleCols.centerCols}}(visibleCols,pinned),allGridCols=colModel.getCols(),movingDisplayedCols=allDisplayedCols.filter((col=>movingCols.includes(col))),otherDisplayedCols=allDisplayedCols.filter((col=>!movingCols.includes(col))),otherGridCols=allGridCols.filter((col=>!movingCols.includes(col)));let firstValidMove,displayIndex=0,availableWidth=xPosition;if(draggingRight){let widthOfMovingDisplayedCols=0;movingDisplayedCols.forEach((col=>widthOfMovingDisplayedCols+=col.getActualWidth())),availableWidth-=widthOfMovingDisplayedCols}if(availableWidth>0){for(let i=0;i<otherDisplayedCols.length;i++){if(availableWidth-=otherDisplayedCols[i].getActualWidth(),availableWidth<0)break;displayIndex++}draggingRight&&displayIndex++}if(displayIndex>0){const leftColumn=otherDisplayedCols[displayIndex-1];firstValidMove=otherGridCols.indexOf(leftColumn)+1}else firstValidMove=otherGridCols.indexOf(otherDisplayedCols[0]),-1===firstValidMove&&(firstValidMove=0);const validMoves=[firstValidMove],numberComparator=(a,b)=>a-b;if(draggingRight){let pointer=firstValidMove+1;const lastIndex=allGridCols.length-1;for(;pointer<=lastIndex;)validMoves.push(pointer),pointer++;validMoves.sort(numberComparator)}else{let pointer=firstValidMove;const lastIndex=allGridCols.length-1;let displacedCol=allGridCols[pointer];for(;pointer<=lastIndex&&allDisplayedCols.indexOf(displacedCol)<0;)pointer++,validMoves.push(pointer),displacedCol=allGridCols[pointer];pointer=firstValidMove-1;const firstDisplayIndex=0;for(;pointer>=firstDisplayIndex;)validMoves.push(pointer),pointer--;validMoves.sort(numberComparator).reverse()}return validMoves}({movingCols:allMovingColumnsOrdered,draggingRight:fromLeft,xPosition,pinned,gos,colModel,visibleCols}),oldIndex=function calculateOldIndex(movingCols,colModel){const gridCols=colModel.getCols(),indexes=movingCols.map((col=>gridCols.indexOf(col))).sort(((a,b)=>a-b)),firstIndex=indexes[0],lastIndex=_last(indexes);return lastIndex-firstIndex!=indexes.length-1?null:firstIndex}(allMovingColumnsOrdered,colModel);if(0===validMoves.length)return;const firstValidMove=validMoves[0];if(null!==oldIndex&&(isFromHeader||!fromEnter)&&!fakeEvent){if(!fromLeft&&firstValidMove>=oldIndex)return;if(fromLeft&&firstValidMove<=oldIndex)return}const lowestFragMove=function getLowestFragMove(validMoves,allMovingColumnsOrdered,colMoves,visibleCols){const displayedCols=visibleCols.allCols;let lowestFragMove=null,targetOrder=null;for(let i=0;i<validMoves.length;i++){const move=validMoves[i],order=colMoves.getProposedColumnOrder(allMovingColumnsOrdered,move);if(!colMoves.doesOrderPassRules(order))continue;const displayedOrder=order.filter((col=>displayedCols.includes(col)));if(null===targetOrder)targetOrder=displayedOrder;else if(!_areEqual(displayedOrder,targetOrder))break;const fragCount=groupFragCount(order);(null===lowestFragMove||fragCount<lowestFragMove.fragCount)&&(lowestFragMove={move,fragCount})}return lowestFragMove}(validMoves,allMovingColumnsOrdered,colMoves,visibleCols);if(!lowestFragMove)return;const toIndex=lowestFragMove.move;return toIndex>colModel.getCols().length-allMovingColumnsOrdered.length?void 0:{columns:allMovingColumnsOrdered,toIndex}}function attemptMoveColumns(params){const{columns,toIndex}=getBestColumnMoveIndexFromXPosition(params)||{},{finished,colMoves}=params;return columns&&null!=toIndex?(colMoves.moveColumns(columns,toIndex,"uiColumnMoved",finished),finished?null:{columns,toIndex}):null}function groupFragCount(columns){function parents(col){const result=[];let parent=col.getOriginalParent();for(;null!=parent;)result.push(parent),parent=parent.getOriginalParent();return result}let count=0;for(let i=0;i<columns.length-1;i++){let a=parents(columns[i]),b=parents(columns[i+1]);[a,b]=a.length>b.length?[a,b]:[b,a],a.forEach((parent=>{-1===b.indexOf(parent)&&count++}))}return count}function normaliseX(params){const{pinned,fromKeyboard,gos,ctrlsSvc,useHeaderRow,skipScrollPadding}=params;let eViewport=ctrlsSvc.getHeaderRowContainerCtrl(pinned)?.eViewport,{x}=params;return eViewport?(fromKeyboard&&(x-=eViewport.getBoundingClientRect().left),gos.get("enableRtl")&&(useHeaderRow&&(eViewport=eViewport.querySelector(".ag-header-row")),x=eViewport.clientWidth-x),null!=pinned||skipScrollPadding||(x+=ctrlsSvc.get("center").getCenterViewportScrollLeft()),x):0}function setColumnsMoving(columns,isMoving){for(const column of columns)column.moving=isMoving,column.dispatchColEvent("movingChanged","uiColumnMoved")}var MoveColumnFeature=class extends BeanStub{constructor(pinned){super(),this.pinned=pinned,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!_exists(pinned)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,(p=>{this.gridBodyCon=p.gridBodyCtrl}))}getIconName(){const{pinned,lastDraggingEvent}=this,{dragItem}=lastDraggingEvent||{},columns=dragItem?.columns??[];for(const col of columns){const colPinned=col.getPinned();if(col.getColDef().lockPinned){if(colPinned==pinned)return"move";continue}const initialPinnedState=dragItem?.containerType;if(initialPinnedState===pinned||!pinned)return"move";if(pinned&&(!colPinned||initialPinnedState!==pinned))return"pinned"}return"notAllowed"}onDragEnter(draggingEvent){const dragItem=draggingEvent.dragItem,columns=dragItem.columns;if(0===draggingEvent.dragSource.type)this.setColumnsVisible(columns,!0,"uiColumnDragged");else{const visibleState=dragItem.visibleState,visibleColumns=(columns||[]).filter((column=>visibleState[column.getId()]&&!column.isVisible()));this.setColumnsVisible(visibleColumns,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(columns,this.pinned),this.onDragging(draggingEvent,!0,!0)}onDragging(draggingEvent=this.lastDraggingEvent,fromEnter=!1,fakeEvent=!1,finished=!1){const{gos,ctrlsSvc}=this.beans,isSuppressMoveWhenDragging=gos.get("suppressMoveWhenColumnDragging");if(finished&&!isSuppressMoveWhenDragging)return void this.finishColumnMoving();if(this.lastDraggingEvent=draggingEvent,!draggingEvent||!finished&&_missing(draggingEvent.hDirection))return;const mouseX=normaliseX({x:draggingEvent.x,pinned:this.pinned,gos,ctrlsSvc});fromEnter||this.checkCenterForScrolling(mouseX),isSuppressMoveWhenDragging?this.handleColumnDragWhileSuppressingMovement(draggingEvent,fromEnter,fakeEvent,mouseX,finished):this.handleColumnDragWhileAllowingMovement(draggingEvent,fromEnter,fakeEvent,mouseX,finished)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(columns,visible,source){if(!columns?.length)return;const allowedCols=columns.filter((c=>!c.getColDef().lockVisible));allowedCols.length&&this.beans.colModel.setColsVisible(allowedCols,visible,source)}finishColumnMoving(){this.clearHighlighted();const lastMovedInfo=this.lastMovedInfo;if(!lastMovedInfo)return;const{columns,toIndex}=lastMovedInfo;this.beans.colMoves.moveColumns(columns,toIndex,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!lastDraggingEvent)return;const dragItem=lastDraggingEvent.dragItem;dragItem&&(dragItem.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(draggingEvent,fromEnter,fakeEvent,mouseX,finished){const allMovingColumns=this.getAllMovingColumns(draggingEvent,!0);if(finished){const isAttemptingToPin=this.isAttemptingToPin(allMovingColumns);isAttemptingToPin&&this.attemptToPinColumns(allMovingColumns,void 0,!0);const{fromLeft,xPosition}=this.getNormalisedXPositionInfo(allMovingColumns,isAttemptingToPin)||{};if(null==fromLeft||null==xPosition)return void this.finishColumnMoving();this.moveColumnsAfterHighlight({allMovingColumns,xPosition,fromEnter,fakeEvent,fromLeft})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(draggingEvent))return;this.highlightHoveredColumn(allMovingColumns,mouseX)}}handleColumnDragWhileAllowingMovement(draggingEvent,fromEnter,fakeEvent,mouseX,finished){const allMovingColumns=this.getAllMovingColumns(draggingEvent),fromLeft="right"===this.normaliseDirection(draggingEvent.hDirection),isFromHeader=1===draggingEvent.dragSource.type,lastMovedInfo=attemptMoveColumns({...this.getMoveColumnParams({allMovingColumns,isFromHeader,xPosition:mouseX,fromLeft,fromEnter,fakeEvent}),finished});lastMovedInfo&&(this.lastMovedInfo=lastMovedInfo)}getAllMovingColumns(draggingEvent,useSplit=!1){const dragItem=draggingEvent.dragSource.getDragItem();let columns=null;useSplit?(columns=dragItem.columnsInSplit,columns||(columns=dragItem.columns)):columns=dragItem.columns;return columns?columns.filter((col=>!col.getColDef().lockPinned||col.getPinned()==this.pinned)):[]}getMoveColumnParams(params){const{allMovingColumns,isFromHeader,xPosition,fromLeft,fromEnter,fakeEvent}=params,{gos,colModel,colMoves,visibleCols}=this.beans;return{allMovingColumns,isFromHeader,fromLeft,xPosition,pinned:this.pinned,fromEnter,fakeEvent,gos,colModel,colMoves,visibleCols}}highlightHoveredColumn(movingColumns,mouseX){const{gos,colModel}=this.beans,isRtl=gos.get("enableRtl"),consideredColumns=colModel.getCols().filter((col=>col.isVisible()&&col.getPinned()===this.pinned));let position,start=null,width=null,targetColumn=null;for(const col of consideredColumns){if(width=col.getActualWidth(),start=this.getNormalisedColumnLeft(col,0,isRtl),null!=start){if(start<=mouseX&&start+width>=mouseX){targetColumn=col;break}}start=null,width=null}if(targetColumn)-1!==movingColumns.indexOf(targetColumn)&&(targetColumn=null);else{for(let i=consideredColumns.length-1;i>=0;i--){const currentColumn=consideredColumns[i],parent=consideredColumns[i].getParent();if(!parent){targetColumn=currentColumn;break}const leafDisplayedCols=parent?.getDisplayedLeafColumns();if(leafDisplayedCols.length){targetColumn=_last(leafDisplayedCols);break}}if(!targetColumn)return;start=this.getNormalisedColumnLeft(targetColumn,0,isRtl),width=targetColumn.getActualWidth()}this.lastHighlightedColumn?.column!==targetColumn&&this.clearHighlighted(),null!=targetColumn&&null!=start&&null!=width&&(position=mouseX-start<width/2!==isRtl?0:1,setColumnHighlighted(targetColumn,position),this.lastHighlightedColumn={column:targetColumn,position})}getNormalisedXPositionInfo(allMovingColumns,isAttemptingToPin){const{gos,visibleCols}=this.beans,isRtl=gos.get("enableRtl"),{firstMovingCol,column,position}=this.getColumnMoveAndTargetInfo(allMovingColumns,isAttemptingToPin,isRtl);if(!firstMovingCol||!column||null==position)return;const visibleColumns=visibleCols.allCols,movingColIndex=visibleColumns.indexOf(firstMovingCol),targetIndex=visibleColumns.indexOf(column),isBefore=0===position!==isRtl,fromLeft=movingColIndex<targetIndex||movingColIndex===targetIndex&&!isBefore;let diff=0;if(isBefore?fromLeft&&(diff-=1):fromLeft||(diff+=1),targetIndex+diff===movingColIndex)return;const targetColumn=visibleColumns[targetIndex+diff];if(!targetColumn)return;return{fromLeft,xPosition:this.getNormalisedColumnLeft(targetColumn,20,isRtl)}}getColumnMoveAndTargetInfo(allMovingColumns,isAttemptingToPin,isRtl){const lastHighlightedColumn=this.lastHighlightedColumn||{},{firstMovingCol,lastMovingCol}=function findFirstAndLastMovingColumns(allMovingColumns){const moveLen=allMovingColumns.length;let firstMovingCol,lastMovingCol;for(let i=0;i<moveLen;i++){if(!firstMovingCol){const leftCol=allMovingColumns[i];null!=leftCol.getLeft()&&(firstMovingCol=leftCol)}if(!lastMovingCol){const rightCol=allMovingColumns[moveLen-1-i];null!=rightCol.getLeft()&&(lastMovingCol=rightCol)}if(firstMovingCol&&lastMovingCol)break}return{firstMovingCol,lastMovingCol}}(allMovingColumns);if(!firstMovingCol||!lastMovingCol||lastHighlightedColumn.column||!isAttemptingToPin)return{firstMovingCol,...lastHighlightedColumn};const isLeft="left"===this.getPinDirection();return{firstMovingCol,position:isLeft?1:0,column:isLeft!==isRtl?firstMovingCol:lastMovingCol}}normaliseDirection(hDirection){if(this.gos.get("enableRtl"))switch(hDirection){case"left":return"right";case"right":return"left"}return hDirection}getNormalisedColumnLeft(col,padding,isRtl){const{gos,ctrlsSvc}=this.beans,left=col.getLeft();if(null==left)return null;const width=col.getActualWidth();return normaliseX({x:isRtl?left+width-padding:left+padding,pinned:col.getPinned(),useHeaderRow:isRtl,skipScrollPadding:!0,gos,ctrlsSvc})}isAttemptingToPin(columns){const isMovingHorizontally=this.needToMoveLeft||this.needToMoveRight,isFailedMoreThanThreshold=this.failedMoveAttempts>7;return isMovingHorizontally&&isFailedMoreThanThreshold||columns.some((col=>col.getPinned()!==this.pinned))}moveColumnsAfterHighlight(params){const{allMovingColumns,xPosition,fromEnter,fakeEvent,fromLeft}=params,columnMoveParams=this.getMoveColumnParams({allMovingColumns,isFromHeader:!0,xPosition,fromLeft,fromEnter,fakeEvent}),{columns,toIndex}=getBestColumnMoveIndexFromXPosition(columnMoveParams)||{};columns&&null!=toIndex&&(this.lastMovedInfo={columns,toIndex}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn}=this;lastHighlightedColumn&&(setColumnHighlighted(lastHighlightedColumn.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(xAdjustedForScroll){if(!this.isCenterContainer)return;const centerCtrl=this.beans.ctrlsSvc.get("center"),firstVisiblePixel=centerCtrl.getCenterViewportScrollLeft(),lastVisiblePixel=firstVisiblePixel+centerCtrl.getCenterWidth();let needToMoveRight,needToMoveLeft;this.gos.get("enableRtl")?(needToMoveRight=xAdjustedForScroll<firstVisiblePixel+50,needToMoveLeft=xAdjustedForScroll>lastVisiblePixel-50):(needToMoveLeft=xAdjustedForScroll<firstVisiblePixel+50,needToMoveRight=xAdjustedForScroll>lastVisiblePixel-50),this.needToMoveRight=needToMoveRight,this.needToMoveLeft=needToMoveLeft,needToMoveLeft||needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.beans.dragAndDrop.setDragImageCompIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.setDragImageCompIcon(this.getIconName()))}moveInterval(){let pixelsToMove;this.intervalCount++,pixelsToMove=10+5*this.intervalCount,pixelsToMove>100&&(pixelsToMove=100);let pixelsMoved=null;const scrollFeature=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?pixelsMoved=scrollFeature.scrollHorizontally(-pixelsToMove):this.needToMoveRight&&(pixelsMoved=scrollFeature.scrollHorizontally(pixelsToMove)),0!==pixelsMoved)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols,dragAndDrop,gos}=this.beans;if(this.failedMoveAttempts<=8||!pinnedCols)return;if(dragAndDrop.setDragImageCompIcon("pinned"),!gos.get("suppressMoveWhenColumnDragging")){const columns=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(columns,void 0,!0)}}}getPinDirection(){return this.needToMoveLeft||"left"===this.pinned?"left":this.needToMoveRight||"right"===this.pinned?"right":void 0}attemptToPinColumns(columns,pinned,fromMoving=!1){const allowedCols=(columns||[]).filter((c=>!c.getColDef().lockPinned));if(!allowedCols.length)return 0;fromMoving&&(pinned=this.getPinDirection());const{pinnedCols,dragAndDrop}=this.beans;return pinnedCols?.setColsPinned(allowedCols,pinned,"uiColumnDragged"),fromMoving&&dragAndDrop.nudge(),allowedCols.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function setColumnHighlighted(column,highlighted){column.highlighted!==highlighted&&(column.highlighted=highlighted,column.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}var BodyDropTarget=class extends BeanStub{constructor(pinned,eContainer){super(),this.pinned=pinned,this.eContainer=eContainer}postConstruct(){const{ctrlsSvc,dragAndDrop}=this.beans,pinned=this.pinned;ctrlsSvc.whenReady(this,(p=>{let eSecondaryContainers;const eBodyViewport=p.gridBodyCtrl.eBodyViewport;switch(pinned){case"left":eSecondaryContainers=[[eBodyViewport,p.left.eContainer],[p.bottomLeft.eContainer],[p.topLeft.eContainer]];break;case"right":eSecondaryContainers=[[eBodyViewport,p.right.eContainer],[p.bottomRight.eContainer],[p.topRight.eContainer]];break;default:eSecondaryContainers=[[eBodyViewport,p.center.eViewport],[p.bottomCenter.eViewport],[p.topCenter.eViewport]]}this.eSecondaryContainers=eSecondaryContainers})),this.moveColumnFeature=this.createManagedBean(new MoveColumnFeature(pinned)),this.bodyDropPivotTarget=this.createManagedBean(new BodyDropPivotTarget(pinned)),dragAndDrop.addDropTarget(this),this.addDestroyFunc((()=>dragAndDrop.removeDropTarget(this)))}isInterestedIn(type){return 1===type||0===type&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(draggingEvent){return this.beans.colModel.isPivotMode()&&0===draggingEvent.dragSource.type}onDragEnter(draggingEvent){this.currentDropListener=this.isDropColumnInPivotMode(draggingEvent)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(draggingEvent)}onDragLeave(params){this.currentDropListener.onDragLeave(params)}onDragging(params){this.currentDropListener.onDragging(params)}onDragStop(params){this.currentDropListener.onDragStop(params)}onDragCancel(){this.currentDropListener.onDragCancel()}};var ColumnMoveModule={moduleName:"ColumnMove",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(fromIndex,toIndex,source){const gridColumns=this.beans.colModel.getCols();if(!gridColumns)return;const column=gridColumns[fromIndex];this.moveColumns([column],toIndex,source)}moveColumns(columnsToMoveKeys,toIndex,source,finished=!0){const{colModel,colAnimation,visibleCols,eventSvc}=this.beans,gridColumns=colModel.getCols();if(!gridColumns)return;if(toIndex>gridColumns.length-columnsToMoveKeys.length)return void _warn(30,{toIndex});colAnimation?.start();const movedColumns=colModel.getColsForKeys(columnsToMoveKeys);this.doesMovePassRules(movedColumns,toIndex)&&(_moveInArray(colModel.getCols(),movedColumns,toIndex),visibleCols.refresh(source),eventSvc.dispatchEvent({type:"columnMoved",columns:movedColumns,column:1===movedColumns.length?movedColumns[0]:null,toIndex,finished,source})),colAnimation?.finish()}doesMovePassRules(columnsToMove,toIndex){const proposedColumnOrder=this.getProposedColumnOrder(columnsToMove,toIndex);return this.doesOrderPassRules(proposedColumnOrder)}doesOrderPassRules(gridOrder){const{colModel,gos}=this.beans;if(!doesMovePassMarryChildren(gridOrder,colModel.getColTree()))return!1;return!!(proposedColumnOrder=>{const isRtl=gos.get("enableRtl");let lastPlacement=isRtl?1:-1,rulePassed=!0;return proposedColumnOrder.forEach((col=>{const placement=(position=col.getColDef().lockPosition)?"left"===position||!0===position?-1:1:0;var position;isRtl?placement>lastPlacement&&(rulePassed=!1):placement<lastPlacement&&(rulePassed=!1),lastPlacement=placement})),rulePassed})(gridOrder)}getProposedColumnOrder(columnsToMove,toIndex){const proposedColumnOrder=this.beans.colModel.getCols().slice();return _moveInArray(proposedColumnOrder,columnsToMove,toIndex),proposedColumnOrder}createBodyDropTarget(pinned,dropContainer){return new BodyDropTarget(pinned,dropContainer)}moveHeader(hDirection,eGui,column,pinned,bean){const{ctrlsSvc,gos,colModel,visibleCols,focusSvc}=this.beans,rect=eGui.getBoundingClientRect(),left=rect.left,isGroup=isColumnGroup(column),width=isGroup?rect.width:column.getActualWidth(),isLeft="left"===hDirection!==gos.get("enableRtl"),xPosition=normaliseX({x:isLeft?left-20:left+width+20,pinned,fromKeyboard:!0,gos,ctrlsSvc}),headerPosition=focusSvc.focusedHeader;let targetColumn;if(attemptMoveColumns({allMovingColumns:isGroup?column.getLeafColumns():[column],isFromHeader:!0,fromLeft:"right"===hDirection,xPosition,pinned,fromEnter:!1,fakeEvent:!1,gos,colModel,colMoves:this,visibleCols,finished:!0}),isGroup){const displayedLeafColumns=column.getDisplayedLeafColumns();targetColumn=isLeft?displayedLeafColumns[0]:_last(displayedLeafColumns)}else targetColumn=column;if(ctrlsSvc.getScrollFeature().ensureColumnVisible(targetColumn,"auto"),(!bean.isAlive()||gos.get("ensureDomOrder"))&&headerPosition){let restoreFocusColumn;if(isGroup){const groupId=column.getGroupId(),leafCols=column.getLeafColumns();if(!leafCols.length)return;const parent=leafCols[0].getParent();if(!parent)return;restoreFocusColumn=function findGroupWidthId(columnGroup,id){for(;columnGroup;){if(columnGroup.getGroupId()===id)return columnGroup;columnGroup=columnGroup.getParent()}return}(parent,groupId)}else restoreFocusColumn=column;restoreFocusColumn&&focusSvc.focusHeaderPosition({headerPosition:{...headerPosition,column:restoreFocusColumn}})}}setDragSourceForHeader(eSource,column,displayName){const{gos,colModel,dragAndDrop,visibleCols}=this.beans;let hideColumnOnExit=!gos.get("suppressDragLeaveHidesColumns");const isGroup=isColumnGroup(column),columns=isGroup?column.getProvidedColumnGroup().getLeafColumns():[column],getDragItem=isGroup?()=>function createDragItemForGroup(columnGroup,allCols){const allColumnsOriginalOrder=columnGroup.getProvidedColumnGroup().getLeafColumns(),visibleState={};allColumnsOriginalOrder.forEach((column=>visibleState[column.getId()]=column.isVisible()));const allColumnsCurrentOrder=[];allCols.forEach((column=>{allColumnsOriginalOrder.indexOf(column)>=0&&(allColumnsCurrentOrder.push(column),_removeFromArray(allColumnsOriginalOrder,column))})),allColumnsOriginalOrder.forEach((column=>allColumnsCurrentOrder.push(column)));const columnsInSplit=[],columnGroupColumns=columnGroup.getLeafColumns();for(const col of allColumnsCurrentOrder)-1!==columnGroupColumns.indexOf(col)&&columnsInSplit.push(col);return{columns:allColumnsCurrentOrder,columnsInSplit,visibleState,containerType:columnsInSplit[0]?.pinned}}(column,visibleCols.allCols):()=>function createDragItem(column){const visibleState={};return visibleState[column.getId()]=column.isVisible(),{columns:[column],visibleState,containerType:column.pinned}}(column),dragSource={type:1,eElement:eSource,getDefaultIconName:()=>hideColumnOnExit?"hide":"notAllowed",getDragItem,dragItemName:displayName,onDragStarted:()=>{hideColumnOnExit=!gos.get("suppressDragLeaveHidesColumns"),setColumnsMoving(columns,!0)},onDragStopped:()=>setColumnsMoving(columns,!1),onDragCancelled:()=>setColumnsMoving(columns,!1),onGridEnter:dragItem=>{if(hideColumnOnExit){const{columns:columns2=[],visibleState}=dragItem??{},hasVisibleState=isGroup?col=>!visibleState||visibleState[col.getColId()]:()=>!0,unlockedColumns=columns2.filter((col=>!col.getColDef().lockVisible&&hasVisibleState(col)));colModel.setColsVisible(unlockedColumns,!0,"uiColumnMoved")}},onGridExit:dragItem=>{if(hideColumnOnExit){const unlockedColumns=dragItem?.columns?.filter((col=>!col.getColDef().lockVisible))||[];colModel.setColsVisible(unlockedColumns,!1,"uiColumnMoved")}}};return dragAndDrop.addDragSource(dragSource,!0),dragSource}},class extends BeanStub{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,(p=>this.gridBodyCtrl=p.gridBodyCtrl))}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(suppress){this.suppressAnimation=suppress}start(){if(this.active)return;const{gos}=this;gos.get("suppressColumnMoveAnimation")||gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush((()=>this.activeNext=!1),(()=>this.active=!1))}executeNextVMTurn(func){this.activeNext?this.executeNextFuncs.push(func):func()}executeLaterVMTurn(func){this.active?this.executeLaterFuncs.push(func):func()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const animationThreadCountCopy=this.animationThreadCount,{gridBodyCtrl}=this;gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((()=>{this.animationThreadCount===animationThreadCountCopy&&gridBodyCtrl.setColumnMovingCss(!1)}))}flush(callbackNext,callbackLater){const{executeNextFuncs,executeLaterFuncs}=this;if(0===executeNextFuncs.length&&0===executeLaterFuncs.length)return callbackNext(),void callbackLater();const runFuncs=queue=>{for(;queue.length;){const func=queue.pop();func&&func()}};this.beans.frameworkOverrides.wrapIncoming((()=>{window.setTimeout((()=>{callbackNext(),runFuncs(executeNextFuncs)}),0),window.setTimeout((()=>{callbackLater(),runFuncs(executeLaterFuncs)}),200)}))}}],apiFunctions:{moveColumnByIndex:function moveColumnByIndex(beans,fromIndex,toIndex){beans.colMoves?.moveColumnByIndex(fromIndex,toIndex,"api")},moveColumns:function moveColumns(beans,columnsToMoveKeys,toIndex){beans.colMoves?.moveColumns(columnsToMoveKeys,toIndex,"api")}},dependsOn:[SharedDragAndDropModule],css:[":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}"]},AutoWidthModule={moduleName:"AutoWidth",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,(p=>{this.centerRowContainerCtrl=p.center}))}getPreferredWidthForColumn(column,skipHeader){const eHeaderCell=this.getHeaderCellForColumn(column);if(!eHeaderCell)return-1;const elements=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(column);return skipHeader||elements.push(eHeaderCell),this.getPreferredWidthForElements(elements)}getPreferredWidthForColumnGroup(columnGroup){const eHeaderCell=this.getHeaderCellForColumn(columnGroup);return eHeaderCell?this.getPreferredWidthForElements([eHeaderCell]):-1}getPreferredWidthForElements(elements,extraPadding){const eDummyContainer=document.createElement("form");eDummyContainer.style.position="fixed";const eBodyContainer=this.centerRowContainerCtrl.eContainer;elements.forEach((el=>this.cloneItemIntoDummy(el,eDummyContainer))),eBodyContainer.appendChild(eDummyContainer);const dummyContainerWidth=eDummyContainer.offsetWidth;return eBodyContainer.removeChild(eDummyContainer),dummyContainerWidth+(extraPadding=extraPadding??this.gos.get("autoSizePadding"))}getHeaderCellForColumn(column){let element=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach((container=>{const res=container.getHtmlElementForColumnHeader(column);null!=res&&(element=res)})),element}cloneItemIntoDummy(eCell,eDummyContainer){const eCellClone=eCell.cloneNode(!0);eCellClone.style.width="",eCellClone.style.position="static",eCellClone.style.left="";const eCloneParent=document.createElement("div"),eCloneParentClassList=eCloneParent.classList;["ag-header-cell","ag-header-group-cell"].some((cls=>eCellClone.classList.contains(cls)))?(eCloneParentClassList.add("ag-header","ag-header-row"),eCloneParent.style.position="static"):eCloneParentClassList.add("ag-row");let pointer=eCell.parentElement;for(;pointer;){if(["ag-header-row","ag-row"].some((cls=>pointer.classList.contains(cls)))){for(let i=0;i<pointer.classList.length;i++){const item=pointer.classList[i];"ag-row-position-absolute"!=item&&eCloneParentClassList.add(item)}break}pointer=pointer.parentElement}eCloneParent.appendChild(eCellClone),eDummyContainer.appendChild(eCloneParent)}}]};var GroupResizeFeature=class extends BeanStub{constructor(comp,eResize,pinned,columnGroup){super(),this.comp=comp,this.eResize=eResize,this.pinned=pinned,this.columnGroup=columnGroup}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const{horizontalResizeSvc,gos,colAutosize}=this.beans,finishedWithResizeFunc=horizontalResizeSvc.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(finishedWithResizeFunc),!gos.get("suppressAutoSize")&&colAutosize&&this.addDestroyFunc(colAutosize.addColumnGroupResize(this.eResize,this.columnGroup,(()=>this.resizeLeafColumnsToFit("uiColumnResized"))))}onResizeStart(shiftKey){const{columnsToResize,resizeStartWidth,resizeRatios,groupAfterColumns,groupAfterStartWidth,groupAfterRatios}=this.getInitialValues(shiftKey);this.resizeCols=columnsToResize,this.resizeStartWidth=resizeStartWidth,this.resizeRatios=resizeRatios,this.resizeTakeFromCols=groupAfterColumns,this.resizeTakeFromStartWidth=groupAfterStartWidth,this.resizeTakeFromRatios=groupAfterRatios,this.toggleColumnResizing(!0)}onResizing(finished,resizeAmount,source="uiColumnResized"){const resizeAmountNormalised=this.normaliseDragChange(resizeAmount),width=this.resizeStartWidth+resizeAmountNormalised;this.resizeColumnsFromLocalValues(width,source,finished)}getInitialValues(shiftKey){const getInitialSizeOfColumns=columns=>columns.reduce(((totalWidth,column)=>totalWidth+column.getActualWidth()),0),getSizeRatiosOfColumns=(columns,initialSizeOfColumns)=>columns.map((column=>column.getActualWidth()/initialSizeOfColumns)),columnsToResize=this.getColumnsToResize(),resizeStartWidth=getInitialSizeOfColumns(columnsToResize),columnSizeAndRatios={columnsToResize,resizeStartWidth,resizeRatios:getSizeRatiosOfColumns(columnsToResize,resizeStartWidth)};let groupAfter=null;if(shiftKey&&(groupAfter=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),groupAfter){const takeFromLeafCols=groupAfter.getDisplayedLeafColumns(),groupAfterColumns=columnSizeAndRatios.groupAfterColumns=takeFromLeafCols.filter((col=>col.isResizable())),groupAfterStartWidth=columnSizeAndRatios.groupAfterStartWidth=getInitialSizeOfColumns(groupAfterColumns);columnSizeAndRatios.groupAfterRatios=getSizeRatiosOfColumns(groupAfterColumns,groupAfterStartWidth)}else columnSizeAndRatios.groupAfterColumns=void 0,columnSizeAndRatios.groupAfterStartWidth=void 0,columnSizeAndRatios.groupAfterRatios=void 0;return columnSizeAndRatios}resizeLeafColumnsToFit(source){const preferredSize=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),initialValues=this.getInitialValues();preferredSize>initialValues.resizeStartWidth&&this.resizeColumns(initialValues,preferredSize,source,!0)}resizeColumnsFromLocalValues(totalWidth,source,finished=!0){if(!this.resizeCols||!this.resizeRatios)return;const initialValues={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(initialValues,totalWidth,source,finished)}resizeColumns(initialValues,totalWidth,source,finished=!0){const{columnsToResize,resizeStartWidth,resizeRatios,groupAfterColumns,groupAfterStartWidth,groupAfterRatios}=initialValues,resizeSets=[];if(resizeSets.push({columns:columnsToResize,ratios:resizeRatios,width:totalWidth}),groupAfterColumns){const diff=totalWidth-resizeStartWidth;resizeSets.push({columns:groupAfterColumns,ratios:groupAfterRatios,width:groupAfterStartWidth-diff})}this.beans.colResize?.resizeColumnSets({resizeSets,finished,source}),finished&&this.toggleColumnResizing(!1)}toggleColumnResizing(resizing){this.comp.toggleCss("ag-column-resizing",resizing)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter((col=>col.isResizable()))}normaliseDragChange(dragChange){let result=dragChange;return this.gos.get("enableRtl")?"left"!==this.pinned&&(result*=-1):"right"===this.pinned&&(result*=-1),result}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},ResizeFeature=class extends BeanStub{constructor(pinned,column,eResize,comp,ctrl){super(),this.pinned=pinned,this.column=column,this.eResize=eResize,this.comp=comp,this.ctrl=ctrl}postConstruct(){const destroyResizeFuncs=[];let canResize,canAutosize;const addResize=()=>{if(_setDisplayed(this.eResize,canResize),!canResize)return;const{horizontalResizeSvc,colAutosize}=this.beans,finishedWithResizeFunc=horizontalResizeSvc.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});destroyResizeFuncs.push(finishedWithResizeFunc),canAutosize&&colAutosize&&destroyResizeFuncs.push(colAutosize.addColumnAutosize(this.eResize,this.column))},removeResize=()=>{destroyResizeFuncs.forEach((f=>f())),destroyResizeFuncs.length=0},refresh=()=>{const resize=this.column.isResizable(),autoSize=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(resize!==canResize||autoSize!==canAutosize)&&(canResize=resize,canAutosize=autoSize,removeResize(),addResize())};refresh(),this.addDestroyFunc(removeResize),this.ctrl.setRefreshFunction("resize",refresh)}onResizing(finished,resizeAmount){const{column:key,lastResizeAmount,resizeStartWidth,beans}=this,resizeAmountNormalised=this.normaliseResizeAmount(resizeAmount),columnWidths=[{key,newWidth:resizeStartWidth+resizeAmountNormalised}],{pinnedCols,ctrlsSvc,colResize}=beans;if(this.column.getPinned()){if((pinnedCols?.leftWidth??0)+(pinnedCols?.rightWidth??0)+(resizeAmountNormalised-lastResizeAmount)>_getInnerWidth(ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50)return}this.lastResizeAmount=resizeAmountNormalised,colResize?.setColumnWidths(columnWidths,this.resizeWithShiftKey,finished,"uiColumnResized"),finished&&this.toggleColumnResizing(!1)}onResizeStart(shiftKey){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=shiftKey,this.toggleColumnResizing(!0)}toggleColumnResizing(resizing){this.column.resizing=resizing,this.comp.toggleCss("ag-column-resizing",resizing)}normaliseResizeAmount(dragChange){let result=dragChange;const notPinningLeft="left"!==this.pinned,pinningRight="right"===this.pinned;return this.gos.get("enableRtl")?notPinningLeft&&(result*=-1):pinningRight&&(result*=-1),result}};var ColumnResizeModule={moduleName:"ColumnResize",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(columnWidths,shiftKey,finished,source){const sets=[],{colModel,gos,visibleCols}=this.beans;columnWidths.forEach((columnWidth=>{const col=colModel.getColDefCol(columnWidth.key)||colModel.getCol(columnWidth.key);if(!col)return;sets.push({width:columnWidth.newWidth,ratios:[1],columns:[col]});if("shift"===gos.get("colResizeDefault")&&(shiftKey=!shiftKey),shiftKey){const otherCol=visibleCols.getColAfter(col);if(!otherCol)return;const widthDiff=col.getActualWidth()-columnWidth.newWidth,otherColWidth=otherCol.getActualWidth()+widthDiff;sets.push({width:otherColWidth,ratios:[1],columns:[otherCol]})}})),0!==sets.length&&this.resizeColumnSets({resizeSets:sets,finished,source})}resizeColumnSets(params){const{resizeSets,finished,source}=params;if(!(!resizeSets||resizeSets.every((columnResizeSet=>function checkMinAndMaxWidthsForSet(columnResizeSet){const{columns,width}=columnResizeSet;let minWidthAccumulated=0,maxWidthAccumulated=0,maxWidthActive=!0;columns.forEach((col=>{const minWidth=col.getMinWidth();minWidthAccumulated+=minWidth||0;const maxWidth=col.getMaxWidth();maxWidth>0?maxWidthAccumulated+=maxWidth:maxWidthActive=!1}));const maxWidthPasses=!maxWidthActive||width<=maxWidthAccumulated;return width>=minWidthAccumulated&&maxWidthPasses}(columnResizeSet))))){if(finished){const columns=resizeSets&&resizeSets.length>0?resizeSets[0].columns:null;dispatchColumnResizedEvent(this.eventSvc,columns,finished,source)}return}const changedCols=[],allResizedCols=[];resizeSets.forEach((set=>{const{width,columns,ratios}=set,newWidths={},finishedCols={};columns.forEach((col=>allResizedCols.push(col)));let finishedColsGrew=!0,loopCount=0;for(;finishedColsGrew;){if(loopCount++,loopCount>1e3){_error(31);break}finishedColsGrew=!1;const subsetCols=[];let subsetRatioTotal=0,pixelsToDistribute=width;columns.forEach(((col,index)=>{if(finishedCols[col.getId()])pixelsToDistribute-=newWidths[col.getId()];else{subsetCols.push(col);const ratioThisCol=ratios[index];subsetRatioTotal+=ratioThisCol}}));const ratioScale=1/subsetRatioTotal;subsetCols.forEach(((col,index)=>{let colNewWidth;index===subsetCols.length-1?colNewWidth=pixelsToDistribute:(colNewWidth=Math.round(ratios[index]*width*ratioScale),pixelsToDistribute-=colNewWidth);const minWidth=col.getMinWidth(),maxWidth=col.getMaxWidth();colNewWidth<minWidth?(colNewWidth=minWidth,finishedCols[col.getId()]=!0,finishedColsGrew=!0):maxWidth>0&&colNewWidth>maxWidth&&(colNewWidth=maxWidth,finishedCols[col.getId()]=!0,finishedColsGrew=!0),newWidths[col.getId()]=colNewWidth}))}columns.forEach((col=>{const newWidth=newWidths[col.getId()];col.getActualWidth()!==newWidth&&(col.setActualWidth(newWidth,source),changedCols.push(col))}))}));const atLeastOneColChanged=changedCols.length>0;let flexedCols=[];if(atLeastOneColChanged){const{colFlex,visibleCols,colViewport}=this.beans;flexedCols=colFlex?.refreshFlexedColumns({resizingCols:allResizedCols,skipSetLeft:!0})??[],visibleCols.setLeftValues(source),visibleCols.updateBodyWidths(),colViewport.checkViewportColumns()}const colsForEvent=allResizedCols.concat(flexedCols);(atLeastOneColChanged||finished)&&dispatchColumnResizedEvent(this.eventSvc,colsForEvent,finished,source,flexedCols)}resizeHeader(column,delta,shiftKey){if(!column.isResizable())return;const actualWidth=column.getActualWidth(),minWidth=column.getMinWidth(),maxWidth=column.getMaxWidth(),newWidth=Math.min(Math.max(actualWidth+delta,minWidth),maxWidth);this.setColumnWidths([{key:column,newWidth}],shiftKey,!0,"uiColumnResized")}createResizeFeature(pinned,column,eResize,comp,ctrl){return new ResizeFeature(pinned,column,eResize,comp,ctrl)}createGroupResizeFeature(comp,eResize,pinned,columnGroup){return new GroupResizeFeature(comp,eResize,pinned,columnGroup)}}],apiFunctions:{setColumnWidths:function setColumnWidths(beans,columnWidths,finished=!0,source="api"){beans.colResize?.setColumnWidths(columnWidths,!1,finished,source)}},dependsOn:[HorizontalResizeModule,AutoWidthModule]},GroupWidthFeature=class extends BeanStub{constructor(comp,columnGroup){super(),this.removeChildListenersFuncs=[],this.columnGroup=columnGroup,this.comp=comp}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const widthChangedListener=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((column=>{column.__addEventListener("widthChanged",widthChangedListener),column.__addEventListener("visibleChanged",widthChangedListener),this.removeChildListenersFuncs.push((()=>{column.__removeEventListener("widthChanged",widthChangedListener),column.__removeEventListener("visibleChanged",widthChangedListener)}))}))}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach((func=>func())),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const columnWidth=this.columnGroup.getActualWidth();this.comp.setWidth(`${columnWidth}px`),this.comp.toggleCss("ag-hidden",0===columnWidth)}};function depthFirstAllColumnTreeSearch(tree,useDisplayedChildren,callback){if(tree)for(let i=0;i<tree.length;i++){const child=tree[i];if(isColumnGroup(child)){depthFirstAllColumnTreeSearch(useDisplayedChildren?child.getDisplayedChildren():child.getChildren(),useDisplayedChildren,callback)}callback(child)}}function pickDisplayedCols(tree){const res=[];return depthFirstAllColumnTreeSearch(tree,!0,(child=>{isColumn(child)&&res.push(child)})),res}var ColumnGroupModule={moduleName:"ColumnGroup",version:VERSION,dynamicBeans:{headerGroupCellCtrl:class extends AbstractHeaderCellCtrl{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}wireComp(comp,eGui,eResize,eHeaderCompWrapper,compBean){const{column,beans}=this,{context,colNames,colHover,rangeSvc,colResize}=beans;this.comp=comp,compBean=setupCompBean(this,context,compBean),this.setGui(eGui,compBean),this.displayName=colNames.getDisplayNameForColumnGroup(column,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(compBean),this.setupExpandable(compBean),this.setupTooltip(),this.setupAutoHeight({wrapperElement:eHeaderCompWrapper,compBean}),this.setupUserComp(),this.addHeaderMouseListeners(compBean),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const pinned=this.rowCtrl.pinned,leafCols=column.getProvidedColumnGroup().getLeafColumns();colHover?.createHoverFeature(compBean,leafCols,eGui),rangeSvc?.createRangeHighlightFeature(compBean,column,comp),compBean.createManagedBean(new SetLeftFeature(column,eGui,beans)),compBean.createManagedBean(new GroupWidthFeature(comp,column)),colResize?this.resizeFeature=compBean.createManagedBean(colResize.createGroupResizeFeature(comp,eResize,pinned,column)):comp.setResizableDisplayed(!1),compBean.createManagedBean(new ManagedFocusFeature(eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(compBean,leafCols),compBean.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(compBean),compBean.addDestroyFunc((()=>this.clearComponent()))}getHeaderClassParams(){const{column,beans}=this,colDef=column.getDefinition();return _addGridCommonParams(beans.gos,{colDef,columnGroup:column,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos,comp}=this,groupHeaderHeight=gos.get("groupHeaderHeight");null!=groupHeaderHeight?0===groupHeaderHeight?comp.setHeaderWrapperHidden(!0):comp.setHeaderWrapperMaxHeight(groupHeaderHeight):(comp.setHeaderWrapperHidden(!1),comp.setHeaderWrapperMaxHeight(null))}addHighlightListeners(compBean,columns){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const column of columns)compBean.addManagedListeners(column,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,column)})}onLeafColumnHighlightChanged(column){const displayedColumns=this.column.getDisplayedLeafColumns(),isFirst=displayedColumns[0]===column,isLast=_last(displayedColumns)===column;if(!isFirst&&!isLast)return;const highlighted=column.getHighlighted();let beforeOn=!1,afterOn=!1;if(!!this.rowCtrl.getHeaderCellCtrls().find((ctrl=>ctrl.column.isMoving()))){const isRtl=this.beans.gos.get("enableRtl"),isHighlightAfter=1===highlighted,isHighlightBefore=0===highlighted;isFirst&&(isRtl?afterOn=isHighlightAfter:beforeOn=isHighlightBefore),isLast&&(isRtl?beforeOn=isHighlightBefore:afterOn=isHighlightAfter)}this.comp.toggleCss("ag-header-highlight-before",beforeOn),this.comp.toggleCss("ag-header-highlight-after",afterOn)}resizeHeader(delta,shiftKey){const{resizeFeature}=this;if(!resizeFeature)return;const initialValues=resizeFeature.getInitialValues(shiftKey);resizeFeature.resizeColumns(initialValues,initialValues.resizeStartWidth+delta,"uiColumnResized",!0)}resizeLeafColumnsToFit(source){this.resizeFeature?.resizeLeafColumnsToFit(source)}setupUserComp(){const{colGroupSvc,userCompFactory,gos,enterpriseMenuFactory}=this.beans,columnGroup=this.column,providedColumnGroup=columnGroup.getProvidedColumnGroup(),compDetails=function _getHeaderGroupCompDetails(userCompFactory,params){const colGroupDef=params.columnGroup.getColGroupDef();return userCompFactory.getCompDetails(colGroupDef,HeaderGroupComponent,"agColumnGroupHeader",params)}(userCompFactory,_addGridCommonParams(gos,{displayName:this.displayName,columnGroup,setExpanded:expanded=>{colGroupSvc.setColumnGroupOpened(providedColumnGroup,expanded,"gridInitializing")},setTooltip:(value,shouldDisplayTooltip)=>{gos.assertModuleRegistered("Tooltip",3),this.setupTooltip(value,shouldDisplayTooltip)},showColumnMenu:(buttonElement,onClosedCallback)=>enterpriseMenuFactory?.showMenuAfterButtonClick(providedColumnGroup,buttonElement,"columnMenu",onClosedCallback),showColumnMenuAfterMouseClick:(mouseEvent,onClosedCallback)=>enterpriseMenuFactory?.showMenuAfterMouseEvent(providedColumnGroup,mouseEvent,"columnMenu",onClosedCallback),eGridHeader:this.eGui}));compDetails&&this.comp.setUserCompDetails(compDetails)}addHeaderMouseListeners(compBean){const listener=e=>this.handleMouseOverChange("mouseenter"===e.type);compBean.addManagedListeners(this.eGui,{mouseenter:listener,mouseleave:listener,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),contextmenu:event=>this.handleContextMenuMouseEvent(event,void 0,this.column.getProvidedColumnGroup())})}handleMouseOverChange(isMouseOver){this.eventSvc.dispatchEvent({type:isMouseOver?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(value,shouldDisplayTooltip){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,value,shouldDisplayTooltip)}setupExpandable(compBean){const providedColGroup=this.column.getProvidedColumnGroup();this.refreshExpanded();const listener=this.refreshExpanded.bind(this);compBean.addManagedListeners(providedColGroup,{expandedChanged:listener,expandableChanged:listener})}refreshExpanded(){const{column}=this;this.expandable=column.isExpandable();const expanded=column.isExpanded();this.expandable?this.comp.setAriaExpanded(expanded?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column}=this,colGroupDef=column.getColGroupDef(),classes=_getHeaderClassesFromColDef(colGroupDef,this.gos,null,column);if(column.isPadding()){classes.push("ag-header-group-cell-no-group");column.getLeafColumns().every((col=>col.isSpanHeaderHeight()))&&classes.push("ag-header-span-height")}else classes.push("ag-header-group-cell-with-group"),colGroupDef?.wrapHeaderText&&classes.push("ag-header-cell-wrap-text");classes.forEach((c=>this.comp.toggleCss(c,!0)))}setupMovingCss(compBean){const{column}=this,leafColumns=column.getProvidedColumnGroup().getLeafColumns(),listener=()=>this.comp.toggleCss("ag-header-cell-moving",column.isMoving());leafColumns.forEach((col=>{compBean.addManagedListeners(col,{movingChanged:listener})})),listener()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const wrapperHasFocus=this.getWrapperHasFocus();if(this.expandable&&wrapperHasFocus&&e.key===KeyCode_ENTER){const column=this.column,newExpandedValue=!column.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(column.getProvidedColumnGroup(),newExpandedValue,"uiColumnExpanded")}}setDragSource(eHeaderGroup){this.isAlive()&&!this.isSuppressMoving()&&(this.removeDragSource(),eHeaderGroup&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(eHeaderGroup,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some((column=>column.getColDef().suppressMovable||column.getColDef().lockPosition))}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}}},beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const columnGroupState=[];return depthFirstOriginalTreeSearch(null,this.beans.colModel.getColTree(),(node=>{isProvidedColumnGroup(node)&&columnGroupState.push({groupId:node.getGroupId(),open:node.isExpanded()})})),columnGroupState}resetColumnGroupState(source){const primaryColumnTree=this.beans.colModel.getColDefColTree();if(!primaryColumnTree)return;const stateItems=[];depthFirstOriginalTreeSearch(null,primaryColumnTree,(child=>{if(isProvidedColumnGroup(child)){const colGroupDef=child.getColGroupDef(),groupState={groupId:child.getGroupId(),open:colGroupDef?colGroupDef.openByDefault:void 0};stateItems.push(groupState)}})),this.setColumnGroupState(stateItems,source)}setColumnGroupState(stateItems,source){const{colModel,colAnimation,visibleCols,eventSvc}=this.beans;if(!colModel.getColTree().length)return;colAnimation?.start();const impactedGroups=[];stateItems.forEach((stateItem=>{const groupKey=stateItem.groupId,newValue=stateItem.open,providedColumnGroup=this.getProvidedColGroup(groupKey);providedColumnGroup&&providedColumnGroup.isExpanded()!==newValue&&(providedColumnGroup.setExpanded(newValue),impactedGroups.push(providedColumnGroup))})),visibleCols.refresh(source,!0),impactedGroups.length&&eventSvc.dispatchEvent({type:"columnGroupOpened",columnGroup:1===impactedGroups.length?impactedGroups[0]:void 0,columnGroups:impactedGroups}),colAnimation?.finish()}setColumnGroupOpened(key,newValue,source){let keyAsString;keyAsString=isProvidedColumnGroup(key)?key.getId():key||"",this.setColumnGroupState([{groupId:keyAsString,open:newValue}],source)}getProvidedColGroup(key){let res=null;return depthFirstOriginalTreeSearch(null,this.beans.colModel.getColTree(),(node=>{isProvidedColumnGroup(node)&&node.getId()===key&&(res=node)})),res}getGroupAtDirection(columnGroup,direction){const requiredLevel=columnGroup.getProvidedColumnGroup().getLevel()+columnGroup.getPaddingLevel(),colGroupLeafColumns=columnGroup.getDisplayedLeafColumns(),col="After"===direction?_last(colGroupLeafColumns):colGroupLeafColumns[0],getDisplayColMethod=`getCol${direction}`;for(;;){const column=this.beans.visibleCols[getDisplayColMethod](col);if(!column)return null;const groupPointer=this.getColGroupAtLevel(column,requiredLevel);if(groupPointer!==columnGroup)return groupPointer}}getColGroupAtLevel(column,level){let originalGroupLevel,groupPointerLevel,groupPointer=column.getParent();for(;;){if(originalGroupLevel=groupPointer.getProvidedColumnGroup().getLevel(),groupPointerLevel=groupPointer.getPaddingLevel(),originalGroupLevel+groupPointerLevel<=level)break;groupPointer=groupPointer.getParent()}return groupPointer}updateOpenClosedVisibility(){depthFirstAllColumnTreeSearch(this.beans.visibleCols.getAllTrees(),!1,(child=>{isColumnGroup(child)&&child.calculateDisplayedColumns()}))}getColumnGroup(colId,partId){if(!colId)return null;if(isColumnGroup(colId))return colId;const allColumnGroups=this.beans.visibleCols.getAllTrees(),checkPartId="number"==typeof partId;let result=null;return depthFirstAllColumnTreeSearch(allColumnGroups,!1,(child=>{if(isColumnGroup(child)){const columnGroup=child;let matched;matched=checkPartId?colId===columnGroup.getGroupId()&&partId===columnGroup.getPartId():colId===columnGroup.getGroupId(),matched&&(result=columnGroup)}})),result}createColumnGroups(params){const{columns,idCreator,pinned,oldDisplayedGroups,isStandaloneStructure}=params,oldColumnsMapped=this.mapOldGroupsById(oldDisplayedGroups),topLevelResultCols=[];let groupsOrColsAtCurrentLevel=columns;for(;groupsOrColsAtCurrentLevel.length;){const currentlyIterating=groupsOrColsAtCurrentLevel;groupsOrColsAtCurrentLevel=[];let lastGroupedColIdx=0;const createGroupToIndex=to=>{const from=lastGroupedColIdx;lastGroupedColIdx=to;const previousNode=currentlyIterating[from],previousNodeParent=(isColumnGroup(previousNode)?previousNode.getProvidedColumnGroup():previousNode).getOriginalParent();if(null==previousNodeParent){for(let i=from;i<to;i++)topLevelResultCols.push(currentlyIterating[i]);return}const newGroup=this.createColumnGroup(previousNodeParent,idCreator,oldColumnsMapped,pinned,isStandaloneStructure);for(let i=from;i<to;i++)newGroup.addChild(currentlyIterating[i]);groupsOrColsAtCurrentLevel.push(newGroup)};for(let i=1;i<currentlyIterating.length;i++){const thisNode=currentlyIterating[i],thisNodeParent=(isColumnGroup(thisNode)?thisNode.getProvidedColumnGroup():thisNode).getOriginalParent(),previousNode=currentlyIterating[lastGroupedColIdx];thisNodeParent!==(isColumnGroup(previousNode)?previousNode.getProvidedColumnGroup():previousNode).getOriginalParent()&&createGroupToIndex(i)}lastGroupedColIdx<currentlyIterating.length&&createGroupToIndex(currentlyIterating.length)}return isStandaloneStructure||this.setupParentsIntoCols(topLevelResultCols,null),topLevelResultCols}createProvidedColumnGroup(primaryColumns,colGroupDef,level,existingColumns,columnKeyCreator,existingGroups,source){const groupId=columnKeyCreator.getUniqueKey(colGroupDef.groupId||null,null),colGroupDefMerged=createMergedColGroupDef(this.beans,colGroupDef,groupId),providedGroup=new AgProvidedColumnGroup(colGroupDefMerged,groupId,!1,level);this.createBean(providedGroup);const existingGroupAndIndex=this.findExistingGroup(colGroupDef,existingGroups);existingGroupAndIndex&&existingGroups.splice(existingGroupAndIndex.idx,1);const existingGroup=existingGroupAndIndex?.group;existingGroup&&providedGroup.setExpanded(existingGroup.isExpanded());const children=_recursivelyCreateColumns(this.beans,colGroupDefMerged.children,level+1,primaryColumns,existingColumns,columnKeyCreator,existingGroups,source);return providedGroup.setChildren(children),providedGroup}balanceColumnTree(unbalancedTree,currentDepth,columnDepth,columnKeyCreator){const result=[];for(let i=0;i<unbalancedTree.length;i++){const child=unbalancedTree[i];if(isProvidedColumnGroup(child)){const originalGroup=child,newChildren=this.balanceColumnTree(originalGroup.getChildren(),currentDepth+1,columnDepth,columnKeyCreator);originalGroup.setChildren(newChildren),result.push(originalGroup)}else{let firstPaddedGroup,currentPaddedGroup;for(let j=currentDepth;j<columnDepth;j++){const newColId=columnKeyCreator.getUniqueKey(null,null),colGroupDefMerged=createMergedColGroupDef(this.beans,null,newColId),paddedGroup=new AgProvidedColumnGroup(colGroupDefMerged,newColId,!0,j);this.createBean(paddedGroup),currentPaddedGroup&&currentPaddedGroup.setChildren([paddedGroup]),currentPaddedGroup=paddedGroup,firstPaddedGroup||(firstPaddedGroup=currentPaddedGroup)}if(firstPaddedGroup&&currentPaddedGroup){result.push(firstPaddedGroup);if(unbalancedTree.some((leaf=>isProvidedColumnGroup(leaf)))){currentPaddedGroup.setChildren([child]);continue}currentPaddedGroup.setChildren(unbalancedTree);break}result.push(child)}}return result}findDepth(balancedColumnTree){let depth=0,pointer=balancedColumnTree;for(;pointer&&pointer[0]&&isProvidedColumnGroup(pointer[0]);)depth++,pointer=pointer[0].getChildren();return depth}findMaxDepth(treeChildren,depth){let maxDepthThisLevel=depth;for(let i=0;i<treeChildren.length;i++){const abstractColumn=treeChildren[i];if(isProvidedColumnGroup(abstractColumn)){const originalGroup=abstractColumn,newDepth=this.findMaxDepth(originalGroup.getChildren(),depth+1);maxDepthThisLevel<newDepth&&(maxDepthThisLevel=newDepth)}}return maxDepthThisLevel}balanceTreeForAutoCols(autoCols,depth){const tree=[];return autoCols.forEach((col=>{let nextChild=col;for(let i=depth-1;i>=0;i--){const autoGroup=new AgProvidedColumnGroup(null,`FAKE_PATH_${col.getId()}}_${i}`,!0,i);this.createBean(autoGroup),autoGroup.setChildren([nextChild]),nextChild.originalParent=autoGroup,nextChild=autoGroup}0===depth&&(col.originalParent=null),tree.push(nextChild)})),tree}findExistingGroup(newGroupDef,existingGroups){if(null!=newGroupDef.groupId)for(let i=0;i<existingGroups.length;i++){const existingGroup=existingGroups[i];if(existingGroup.getColGroupDef()&&existingGroup.getId()===newGroupDef.groupId)return{idx:i,group:existingGroup}}}createColumnGroup(providedGroup,groupInstanceIdCreator,oldColumnsMapped,pinned,isStandaloneStructure){const groupId=providedGroup.getGroupId(),instanceId=groupInstanceIdCreator.getInstanceIdForKey(groupId);let columnGroup=oldColumnsMapped[createUniqueColumnGroupId(groupId,instanceId)];return columnGroup&&columnGroup.getProvidedColumnGroup()!==providedGroup&&(columnGroup=null),_exists(columnGroup)?columnGroup.reset():(columnGroup=new AgColumnGroup(providedGroup,groupId,instanceId,pinned),isStandaloneStructure||this.createBean(columnGroup)),columnGroup}mapOldGroupsById(displayedGroups){const result={},recursive=columnsOrGroups=>{columnsOrGroups.forEach((columnOrGroup=>{if(isColumnGroup(columnOrGroup)){const columnGroup=columnOrGroup;result[columnOrGroup.getUniqueId()]=columnGroup,recursive(columnGroup.getChildren())}}))};return displayedGroups&&recursive(displayedGroups),result}setupParentsIntoCols(columnsOrGroups,parent){columnsOrGroups.forEach((columnsOrGroup=>{if(columnsOrGroup.parent!==parent&&(this.beans.colViewport.colsWithinViewportHash=""),columnsOrGroup.parent=parent,isColumnGroup(columnsOrGroup)){const columnGroup=columnsOrGroup;this.setupParentsIntoCols(columnGroup.getChildren(),columnGroup)}}))}}],apiFunctions:{getAllDisplayedColumnGroups:function getAllDisplayedColumnGroups(beans){return beans.visibleCols.getAllTrees()},getCenterDisplayedColumnGroups:function getCenterDisplayedColumnGroups(beans){return beans.visibleCols.treeCenter},getColumnGroup:function getColumnGroup(beans,name,instanceId){return beans.colGroupSvc?.getColumnGroup(name,instanceId)??null},getColumnGroupState:function getColumnGroupState(beans){return beans.colGroupSvc?.getColumnGroupState()??[]},getDisplayNameForColumnGroup:function getDisplayNameForColumnGroup(beans,columnGroup,location){return beans.colNames.getDisplayNameForColumnGroup(columnGroup,location)||""},getLeftDisplayedColumnGroups:function getLeftDisplayedColumnGroups(beans){return beans.visibleCols.treeLeft},getProvidedColumnGroup:function getProvidedColumnGroup(beans,name){return beans.colGroupSvc?.getProvidedColGroup(name)??null},getRightDisplayedColumnGroups:function getRightDisplayedColumnGroups(beans){return beans.visibleCols.treeRight},resetColumnGroupState:function resetColumnGroupState(beans){beans.colGroupSvc?.resetColumnGroupState("api")},setColumnGroupOpened:function setColumnGroupOpened(beans,group,newValue){beans.colGroupSvc?.setColumnGroupOpened(group,newValue,"api")},setColumnGroupState:function setColumnGroupState(beans,stateItems){beans.colGroupSvc?.setColumnGroupState(stateItems,"api")}}},SkeletonCellRendererElement={tag:"div",cls:"ag-skeleton-container"},CheckboxCellRendererModule={moduleName:"CheckboxCellRenderer",version:VERSION,userComponents:{agCheckboxCellRenderer:class extends Component{constructor(){super(CheckboxCellRendererElement,[AgCheckboxSelector]),this.eCheckbox=null,this.registerCSS(".ag-checkbox-cell{height:100%}")}init(params){this.refresh(params);const{eCheckbox,beans}=this,inputEl=eCheckbox.getInputElement();inputEl.setAttribute("tabindex","-1"),_setAriaLive(inputEl,"polite"),this.addManagedListeners(inputEl,{click:event=>{if(_stopPropagationForAgGrid(event),eCheckbox.isDisabled())return;const isSelected=eCheckbox.getValue();this.onCheckboxChanged(isSelected)},dblclick:event=>{_stopPropagationForAgGrid(event)}}),this.addManagedElementListeners(params.eGridCell,{keydown:event=>{if(event.key===KeyCode_SPACE&&!eCheckbox.isDisabled()){params.eGridCell===_getActiveDomElement(beans)&&eCheckbox.toggle();const isSelected=eCheckbox.getValue();this.onCheckboxChanged(isSelected),event.preventDefault()}}})}refresh(params){return this.params=params,this.updateCheckbox(params),!0}updateCheckbox(params){let isSelected,displayed=!0;const{value,column,node}=params;if(node.group&&column)if("boolean"==typeof value)isSelected=value;else{const colId=column.getColId();colId.startsWith(GROUP_AUTO_COLUMN_ID)?isSelected=null==value||""===value?void 0:"true"===value:node.aggData&&void 0!==node.aggData[colId]||node.sourceRowIndex>=0?isSelected=value??void 0:displayed=!1}else isSelected=value??void 0;const{eCheckbox}=this;if(!displayed)return void eCheckbox.setDisplayed(!1);eCheckbox.setValue(isSelected);const disabled=params.disabled??!column?.isCellEditable(node);eCheckbox.setDisabled(disabled);const translate=this.getLocaleTextFunc(),stateName=_getAriaCheckboxStateName(translate,isSelected),ariaLabel=disabled?stateName:`${translate("ariaToggleCellValue","Press SPACE to toggle cell value")} (${stateName})`;eCheckbox.setInputAriaLabel(ariaLabel)}onCheckboxChanged(isSelected){const{params}=this,{column,node,value}=params;this.beans?.editSvc?.setEditingCells([{column,colId:column.getColId(),rowIndex:node.rowIndex,rowPinned:node.rowPinned,state:"changed",oldValue:value,newValue:value}],{update:!0,forceRefreshOfEditCellsOnly:!0});const valueChanged=node.setDataValue(column,isSelected,"renderer");this.beans.editSvc?.stopEditing({rowNode:node,column},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),valueChanged||this.updateCheckbox(params)}}}},SkeletonCellRendererModule={moduleName:"SkeletonCellRenderer",version:VERSION,userComponents:{agSkeletonCellRenderer:class extends Component{constructor(){super(SkeletonCellRendererElement)}init(params){const id=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",id),this.addDestroyFunc((()=>_setAriaLabelledBy(params.eParentOfValue))),_setAriaLabelledBy(params.eParentOfValue,id),params.deferRender?this.setupLoading(params):params.node.failedLoad?this.setupFailed():this.setupLoading(params)}setupFailed(){const localeTextFunc=this.getLocaleTextFunc();this.getGui().textContent=localeTextFunc("loadingError","ERR");const ariaFailed=localeTextFunc("ariaSkeletonCellLoadingFailed","Row failed to load");_setAriaLabel(this.getGui(),ariaFailed)}setupLoading(params){const skeletonEffect=_createElement({tag:"div",cls:"ag-skeleton-effect"}),rowIndex=params.node.rowIndex;if(null!=rowIndex){const width=75+25*(rowIndex%2==0?Math.sin(rowIndex):Math.cos(rowIndex));skeletonEffect.style.width=`${width}%`}this.getGui().appendChild(skeletonEffect);const localeTextFunc=this.getLocaleTextFunc(),ariaLoading=params.deferRender?localeTextFunc("ariaDeferSkeletonCellLoading","Cell is loading"):localeTextFunc("ariaSkeletonCellLoading","Row data is loading");_setAriaLabel(this.getGui(),ariaLoading)}refresh(_params){return!1}}}};function _getValueUsingField(data,field,fieldContainsDots){if(!field||!data)return;if(!fieldContainsDots)return data[field];const fields=field.split(".");let currentObject=data;for(let i=0;i<fields.length;i++){if(null==currentObject)return;currentObject=currentObject[fields[i]]}return currentObject}var SORTED_CELL_DATA_TYPES_FOR_MATCHING=["dateTimeString","dateString","text","number","boolean","date"];function mergeDataTypeDefinitions(parentDataTypeDefinition,childDataTypeDefinition){const mergedDataTypeDefinition={...parentDataTypeDefinition,...childDataTypeDefinition};return parentDataTypeDefinition.columnTypes&&childDataTypeDefinition.columnTypes&&childDataTypeDefinition.appendColumnTypes&&(mergedDataTypeDefinition.columnTypes=[...convertColumnTypes(parentDataTypeDefinition.columnTypes),...convertColumnTypes(childDataTypeDefinition.columnTypes)]),mergedDataTypeDefinition}function validateDataTypeDefinition(dataTypeDefinition,parentDataTypeDefinition,parentCellDataType){return parentDataTypeDefinition?parentDataTypeDefinition.baseDataType===dataTypeDefinition.baseDataType||(_warn(46),!1):(_warn(45,{parentCellDataType}),!1)}function createGroupSafeValueFormatter(dataTypeDefinition,gos){if(dataTypeDefinition.valueFormatter)return params=>{if(params.node?.group){const aggFunc=(params.colDef.pivotValueColumn??params.column).getAggFunc();if(aggFunc){if("first"===aggFunc||"last"===aggFunc)return dataTypeDefinition.valueFormatter(params);if("number"===dataTypeDefinition.baseDataType&&"count"!==aggFunc){if("number"==typeof params.value)return dataTypeDefinition.valueFormatter(params);if("object"==typeof params.value){if(!params.value)return;if("toNumber"in params.value)return dataTypeDefinition.valueFormatter({...params,value:params.value.toNumber()});if("value"in params.value)return dataTypeDefinition.valueFormatter({...params,value:params.value.value})}}return}}else if(gos.get("groupHideOpenParents")&&params.column.isRowGroupActive()&&"string"==typeof params.value&&!dataTypeDefinition.dataTypeMatcher?.(params.value))return;return dataTypeDefinition.valueFormatter(params)}}function doColDefPropsPreventInference(colDef,propsToCheckForInference){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some((([prop,comparisonValue])=>function doesColDefPropPreventInference(colDef,checkProps,prop,comparisonValue){if(!checkProps[prop])return!1;const value=colDef[prop];return null===value?(checkProps[prop]=!1,!1):void 0===comparisonValue?!!value:value===comparisonValue}(colDef,propsToCheckForInference,prop,comparisonValue)))}function getUpdatedColumnState(column,columnStateUpdates){const columnState=getColumnStateFromColDef(column);return columnStateUpdates.forEach((key=>{delete columnState[key],"rowGroup"===key?delete columnState.rowGroupIndex:"pivot"===key&&delete columnState.pivotIndex})),columnState}var DataTypeModule={moduleName:"DataType",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number:()=>({cellEditor:"agNumberCellEditor"}),boolean:()=>({cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:params=>!!params.colDef.editable&&params.event.key===KeyCode_SPACE}),date:({formatValue})=>({cellEditor:"agDateCellEditor",keyCreator:formatValue}),dateString:({formatValue})=>({cellEditor:"agDateStringCellEditor",keyCreator:formatValue}),dateTime(args){return this.date(args)},dateTimeString(args){return this.dateString(args)},object:({formatValue,colModel,colId})=>({cellEditorParams:{useFormatter:!0},comparator:(a,b)=>{const column=colModel.getColDefCol(colId),colDef=column?.getColDef();if(!column||!colDef)return 0;const valA=null==a?"":formatValue({column,node:null,value:a}),valB=null==b?"":formatValue({column,node:null,value:b});return valA===valB?0:valA>valB?1:-1},keyCreator:formatValue}),text:()=>({})}}wireBeans(beans){this.colModel=beans.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",(event=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(event)}))}processDataTypeDefinitions(){const defaultDataTypes=this.getDefaultDataTypes(),newDataTypeDefinitions={},newFormatValueFuncs={},generateFormatValueFunc=dataTypeDefinition=>params=>{const{column,node,value}=params;let valueFormatter=column.getColDef().valueFormatter;return valueFormatter===dataTypeDefinition.groupSafeValueFormatter&&(valueFormatter=dataTypeDefinition.valueFormatter),this.beans.valueSvc.formatValue(column,node,value,valueFormatter)};for(const cellDataType of Object.keys(defaultDataTypes)){const defaultDataTypeDef=defaultDataTypes[cellDataType],mergedDataTypeDefinition={...defaultDataTypeDef,groupSafeValueFormatter:createGroupSafeValueFormatter(defaultDataTypeDef,this.gos)};newDataTypeDefinitions[cellDataType]=mergedDataTypeDefinition,newFormatValueFuncs[cellDataType]=generateFormatValueFunc(mergedDataTypeDefinition)}const userDataTypeDefs=this.gos.get("dataTypeDefinitions")??{},newDataTypeMatchers={};for(const cellDataType of Object.keys(userDataTypeDefs)){const userDataTypeDef=userDataTypeDefs[cellDataType],mergedDataTypeDefinition=this.processDataTypeDefinition(userDataTypeDef,userDataTypeDefs,[cellDataType],defaultDataTypes);mergedDataTypeDefinition&&(newDataTypeDefinitions[cellDataType]=mergedDataTypeDefinition,userDataTypeDef.dataTypeMatcher&&(newDataTypeMatchers[cellDataType]=userDataTypeDef.dataTypeMatcher),newFormatValueFuncs[cellDataType]=generateFormatValueFunc(mergedDataTypeDefinition))}const{valueParser:defaultValueParser,valueFormatter:defaultValueFormatter}=defaultDataTypes.object,{valueParser:userValueParser,valueFormatter:userValueFormatter}=newDataTypeDefinitions.object;this.hasObjectValueParser=userValueParser!==defaultValueParser,this.hasObjectValueFormatter=userValueFormatter!==defaultValueFormatter,this.formatValueFuncs=newFormatValueFuncs,this.dataTypeDefinitions=newDataTypeDefinitions,this.dataTypeMatchers=this.sortKeysInMatchers(newDataTypeMatchers,defaultDataTypes)}sortKeysInMatchers(matchers,dataTypes){const sortedMatchers={...matchers};for(const cellDataType of SORTED_CELL_DATA_TYPES_FOR_MATCHING)delete sortedMatchers[cellDataType],sortedMatchers[cellDataType]=matchers[cellDataType]??dataTypes[cellDataType].dataTypeMatcher;return sortedMatchers}processDataTypeDefinition(userDataTypeDef,userDataTypeDefs,alreadyProcessedDataTypes,defaultDataTypes){let mergedDataTypeDefinition;const extendsCellDataType=userDataTypeDef.extendsDataType;if(userDataTypeDef.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),userDataTypeDef.extendsDataType===userDataTypeDef.baseDataType){let baseDataTypeDefinition=defaultDataTypes[extendsCellDataType];const overriddenBaseDataTypeDefinition=userDataTypeDefs[extendsCellDataType];if(baseDataTypeDefinition&&overriddenBaseDataTypeDefinition&&(baseDataTypeDefinition=overriddenBaseDataTypeDefinition),!validateDataTypeDefinition(userDataTypeDef,baseDataTypeDefinition,extendsCellDataType))return;mergedDataTypeDefinition=mergeDataTypeDefinitions(baseDataTypeDefinition,userDataTypeDef)}else{if(alreadyProcessedDataTypes.includes(extendsCellDataType))return void _warn(44);const extendedDataTypeDefinition=userDataTypeDefs[extendsCellDataType];if(!validateDataTypeDefinition(userDataTypeDef,extendedDataTypeDefinition,extendsCellDataType))return;const mergedExtendedDataTypeDefinition=this.processDataTypeDefinition(extendedDataTypeDefinition,userDataTypeDefs,[...alreadyProcessedDataTypes,extendsCellDataType],defaultDataTypes);if(!mergedExtendedDataTypeDefinition)return;mergedDataTypeDefinition=mergeDataTypeDefinitions(mergedExtendedDataTypeDefinition,userDataTypeDef)}return{...mergedDataTypeDefinition,groupSafeValueFormatter:createGroupSafeValueFormatter(mergedDataTypeDefinition,this.gos)}}updateColDefAndGetColumnType(colDef,userColDef,colId){let{cellDataType}=userColDef;const{field}=userColDef;if(void 0===cellDataType&&(cellDataType=colDef.cellDataType),null!=cellDataType&&!0!==cellDataType||(cellDataType=!!this.canInferCellDataType(colDef,userColDef)&&this.inferCellDataType(field,colId)),!cellDataType)return void(colDef.cellDataType=!1);const dataTypeDefinition=this.dataTypeDefinitions[cellDataType];if(dataTypeDefinition)return colDef.cellDataType=cellDataType,dataTypeDefinition.groupSafeValueFormatter&&(colDef.valueFormatter=dataTypeDefinition.groupSafeValueFormatter),dataTypeDefinition.valueParser&&(colDef.valueParser=dataTypeDefinition.valueParser),dataTypeDefinition.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(colDef,cellDataType,dataTypeDefinition,colId),dataTypeDefinition.columnTypes;_warn(47,{cellDataType})}addColumnListeners(column){if(!this.isPendingInference)return;const columnStateUpdates=this.columnStateUpdatesPendingInference[column.getColId()];if(!columnStateUpdates)return;const columnListener=event=>{columnStateUpdates.add(event.key)};column.__addEventListener("columnStateUpdated",columnListener),this.columnStateUpdateListenerDestroyFuncs.push((()=>column.__removeEventListener("columnStateUpdated",columnListener)))}canInferCellDataType(colDef,userColDef){const{gos}=this;if(!_isClientSideRowModel(gos))return!1;const propsToCheckForInference={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(doColDefPropsPreventInference(userColDef,propsToCheckForInference))return!1;const columnTypes=null===userColDef.type?colDef.type:userColDef.type;if(columnTypes){const columnTypeDefs=gos.get("columnTypes")??{};if(convertColumnTypes(columnTypes).some((columnType=>{const columnTypeDef=columnTypeDefs[columnType.trim()];return columnTypeDef&&doColDefPropsPreventInference(columnTypeDef,propsToCheckForInference)})))return!1}return!doColDefPropsPreventInference(colDef,propsToCheckForInference)}inferCellDataType(field,colId){if(!field)return;let value;const initialData=this.getInitialData();if(initialData){const fieldContainsDots=field.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");value=_getValueUsingField(initialData,field,fieldContainsDots)}else this.initWaitForRowData(colId);if(null==value)return;return Object.keys(this.dataTypeMatchers).find((_cellDataType=>this.dataTypeMatchers[_cellDataType](value)))??"object"}getInitialData(){const rowData=this.gos.get("rowData");if(rowData?.length)return rowData[0];if(this.initialData)return this.initialData;{const rowNodes=this.beans.rowModel.rootNode?.allLeafChildren;if(rowNodes?.length)return rowNodes[0].data}return null}initWaitForRowData(colId){if(this.columnStateUpdatesPendingInference[colId]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const columnTypeOverridesExist=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize,eventSvc}=this.beans;columnTypeOverridesExist&&colAutosize&&(colAutosize.shouldQueueResizeOperations=!0);const[destroyFunc]=this.addManagedEventListeners({rowDataUpdateStarted:event=>{const{firstRowData}=event;firstRowData&&(destroyFunc?.(),this.isPendingInference=!1,this.processColumnsPendingInference(firstRowData,columnTypeOverridesExist),this.columnStateUpdatesPendingInference={},columnTypeOverridesExist&&colAutosize?.processResizeOperations(),eventSvc.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(firstRowData,columnTypeOverridesExist){this.initialData=firstRowData;const state=[];this.destroyColumnStateUpdateListeners();const newRowGroupColumnStateWithoutIndex={},newPivotColumnStateWithoutIndex={};for(const colId of Object.keys(this.columnStateUpdatesPendingInference)){const columnStateUpdates=this.columnStateUpdatesPendingInference[colId],column=this.colModel.getCol(colId);if(!column)return;const oldColDef=column.getColDef();if(!this.resetColDefIntoCol(column,"cellDataTypeInferred"))return;const newColDef=column.getColDef();if(columnTypeOverridesExist&&newColDef.type&&newColDef.type!==oldColDef.type){const updatedColumnState=getUpdatedColumnState(column,columnStateUpdates);updatedColumnState.rowGroup&&null==updatedColumnState.rowGroupIndex&&(newRowGroupColumnStateWithoutIndex[colId]=updatedColumnState),updatedColumnState.pivot&&null==updatedColumnState.pivotIndex&&(newPivotColumnStateWithoutIndex[colId]=updatedColumnState),state.push(updatedColumnState)}}columnTypeOverridesExist&&state.push(...this.generateColumnStateForRowGroupAndPivotIndexes(newRowGroupColumnStateWithoutIndex,newPivotColumnStateWithoutIndex)),state.length&&_applyColumnState(this.beans,{state},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(updatedRowGroupColumnState,updatedPivotColumnState){const existingColumnStateUpdates={},{rowGroupColsSvc,pivotColsSvc}=this.beans;return rowGroupColsSvc?.restoreColumnOrder(existingColumnStateUpdates,updatedRowGroupColumnState),pivotColsSvc?.restoreColumnOrder(existingColumnStateUpdates,updatedPivotColumnState),Object.values(existingColumnStateUpdates)}resetColDefIntoCol(column,source){const userColDef=column.getUserProvidedColDef();if(!userColDef)return!1;const newColDef=_addColumnDefaultAndTypes(this.beans,userColDef,column.getColId());return column.setColDef(newColDef,userColDef,source),!0}getDateStringTypeDefinition(column){const{dateString}=this.dataTypeDefinitions;return column?this.getDataTypeDefinition(column)??dateString:dateString}getDateParserFunction(column){return this.getDateStringTypeDefinition(column).dateParser}getDateFormatterFunction(column){return this.getDateStringTypeDefinition(column).dateFormatter}getDateIncludesTimeFlag(cellDataType){return"dateTime"===cellDataType||"dateTimeString"===cellDataType}getDataTypeDefinition(column){const colDef=column.getColDef();if(colDef.cellDataType)return this.dataTypeDefinitions[colDef.cellDataType]}getBaseDataType(column){return this.getDataTypeDefinition(column)?.baseDataType}checkType(column,value){if(null==value)return!0;const dataTypeMatcher=this.getDataTypeDefinition(column)?.dataTypeMatcher;return!dataTypeMatcher||dataTypeMatcher(value)}validateColDef(colDef){const warning=property=>_warn(48,{property});if("object"===colDef.cellDataType){const{object}=this.dataTypeDefinitions;colDef.valueFormatter!==object.groupSafeValueFormatter||this.hasObjectValueFormatter||warning("Formatter"),colDef.editable&&colDef.valueParser===object.valueParser&&!this.hasObjectValueParser&&warning("Parser")}}postProcess(colDef){const cellDataType=colDef.cellDataType;if(!cellDataType||"string"!=typeof cellDataType)return;const{dataTypeDefinitions,beans,formatValueFuncs}=this,dataTypeDefinition=dataTypeDefinitions[cellDataType];dataTypeDefinition&&beans.colFilter?.setColDefPropsForDataType(colDef,dataTypeDefinition,formatValueFuncs[cellDataType])}getFormatValue(cellDataType){return this.formatValueFuncs[cellDataType]}isColPendingInference(colId){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[colId]}setColDefPropertiesForBaseDataType(colDef,cellDataType,dataTypeDefinition,colId){const formatValue=this.formatValueFuncs[cellDataType],partialColDef=this.columnDefinitionPropsPerDataType[dataTypeDefinition.baseDataType]({colDef,cellDataType,colModel:this.colModel,dataTypeDefinition,colId,formatValue});Object.assign(colDef,partialColDef)}getDateObjectTypeDef(baseDataType){const translate=this.getLocaleTextFunc(),includeTime=this.getDateIncludesTimeFlag(baseDataType);return{baseDataType,valueParser:params=>_parseDateTimeFromString(params.newValue&&String(params.newValue)),valueFormatter:params=>null==params.value?"":params.value instanceof Date&&!isNaN(params.value.getTime())?_serialiseDate(params.value,includeTime)??"":translate("invalidDate","Invalid Date"),dataTypeMatcher:value=>value instanceof Date}}getDateStringTypeDef(baseDataType){const includeTime=this.getDateIncludesTimeFlag(baseDataType);return{baseDataType,dateParser:value=>_parseDateTimeFromString(value)??void 0,dateFormatter:value=>_serialiseDate(value??null,includeTime)??void 0,valueParser:params=>_isValidDate(String(params.newValue))?params.newValue:null,valueFormatter:params=>_isValidDate(String(params.value))?String(params.value):"",dataTypeMatcher:value=>"string"==typeof value&&_isValidDate(value)}}getDefaultDataTypes(){const translate=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:params=>""===params.newValue?.trim?.()?null:Number(params.newValue),valueFormatter:params=>null==params.value?"":"number"!=typeof params.value||isNaN(params.value)?translate("invalidNumber","Invalid Number"):String(params.value),dataTypeMatcher:value=>"number"==typeof value},text:{baseDataType:"text",valueParser:params=>""===params.newValue?null:_toStringOrNull(params.newValue),dataTypeMatcher:value=>"string"==typeof value},boolean:{baseDataType:"boolean",valueParser:params=>null==params.newValue?params.newValue:""===params.newValue?.trim?.()?null:"true"===String(params.newValue).toLowerCase(),valueFormatter:params=>null==params.value?"":String(params.value),dataTypeMatcher:value=>"boolean"==typeof value},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:value=>"string"==typeof value&&function _isValidDateTime(value){return _isValidDate(value,!0)}(value)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:params=>_toStringOrNull(params.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach((destroyFunc=>destroyFunc())),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}}],dependsOn:[CheckboxCellRendererModule]},ColumnFlexModule={moduleName:"ColumnFlex",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(params={}){const source=params.source??"flex";null!=params.viewportWidth&&(this.flexViewportWidth=params.viewportWidth);const totalSpace=this.flexViewportWidth,{visibleCols,colDelayRenderSvc}=this.beans,visibleCenterCols=visibleCols.centerCols;let flexAfterDisplayIndex=-1;if(params.resizingCols){const allResizingCols=new Set(params.resizingCols);for(let i=visibleCenterCols.length-1;i>=0;i--)if(allResizingCols.has(visibleCenterCols[i])){flexAfterDisplayIndex=i;break}}let hasFlexItems=!1;const items=visibleCenterCols.map(((col,i)=>{const flex=col.getFlex(),isFlex=null!=flex&&flex>0&&i>flexAfterDisplayIndex;return hasFlexItems||(hasFlexItems=isFlex),{col,isFlex,flex:Math.max(0,flex??0),initialSize:col.getActualWidth(),min:col.getMinWidth(),max:col.getMaxWidth(),targetSize:0}}));if(hasFlexItems&&colDelayRenderSvc?.hideColumns("colFlex"),!totalSpace||!hasFlexItems)return[];let unfrozenItemCount=items.length,unfrozenFlex=items.reduce(((acc,item)=>acc+item.flex),0),unfrozenSpace=totalSpace;const freeze=(item,width)=>{item.frozenSize=width,item.col.setActualWidth(width,source),unfrozenSpace-=width,unfrozenFlex-=item.flex,unfrozenItemCount-=1},isFrozen=item=>null!=item.frozenSize;for(const item of items)item.isFlex||freeze(item,item.initialSize);for(;unfrozenItemCount>0;){const spaceToFill=Math.round(unfrozenFlex<1?unfrozenSpace*unfrozenFlex:unfrozenSpace);let lastUnfrozenItem,actualLeft=0,idealRight=0;for(const item of items){if(isFrozen(item))continue;lastUnfrozenItem=item,idealRight+=spaceToFill*(item.flex/unfrozenFlex);const idealSize=idealRight-actualLeft,roundedSize=Math.round(idealSize);item.targetSize=roundedSize,actualLeft+=roundedSize}lastUnfrozenItem&&(lastUnfrozenItem.targetSize+=spaceToFill-actualLeft);let totalViolation=0;for(const item of items){if(isFrozen(item))continue;const unclampedSize=item.targetSize,clampedSize=Math.min(Math.max(unclampedSize,item.min),item.max);totalViolation+=clampedSize-unclampedSize,item.violationType=clampedSize===unclampedSize?void 0:clampedSize<unclampedSize?"max":"min",item.targetSize=clampedSize}const freezeType=0===totalViolation?"all":totalViolation>0?"min":"max";for(const item of items)isFrozen(item)||"all"!==freezeType&&item.violationType!==freezeType||freeze(item,item.targetSize)}params.skipSetLeft||visibleCols.setLeftValues(source),params.updateBodyWidths&&visibleCols.updateBodyWidths();const unconstrainedFlexColumns=items.filter((item=>item.isFlex&&!item.violationType)).map((item=>item.col));if(params.fireResizedEvent){const changedColumns=items.filter((item=>item.initialSize!==item.frozenSize)).map((item=>item.col)),flexingColumns=items.filter((item=>item.flex)).map((item=>item.col));dispatchColumnResizedEvent(this.eventSvc,changedColumns,!0,source,flexingColumns)}return colDelayRenderSvc?.revealColumns("colFlex"),unconstrainedFlexColumns}initCol(column){const{flex,initialFlex}=column.colDef;void 0!==flex?column.flex=flex:void 0!==initialFlex&&(column.flex=initialFlex)}setColFlex(column,flex){column.flex=flex??null,column.dispatchStateUpdatedEvent("flex")}}]};var currentModuleVersion,CellRendererFunctionModule={moduleName:"CellRendererFunction",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(type,jsCompFunc){if(!type.cellRenderer)return null;return class Adapter{refresh(){return!1}getGui(){return this.eGui}init(params){const callbackResult=jsCompFunc(params),type2=typeof callbackResult;this.eGui="string"!==type2&&"number"!==type2&&"boolean"!==type2?null!=callbackResult?callbackResult:_createElement({tag:"span"}):_loadTemplate("<span>"+callbackResult+"</span>")}}}}]},allRegisteredModules=new Set,globalModulesMap={},gridModulesMap={},userHasRegistered=!1,areGridScopedModules=!1,isUmd=!1;function runVersionChecks(module){currentModuleVersion||(currentModuleVersion=module.version);const errorMsg=details=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${details} Please update all modules to the same version.`;if(module.version?function isValidModuleVersion(module){const[moduleMajor,moduleMinor]=module.version.split(".")||[],[currentModuleMajor,currentModuleMinor]=currentModuleVersion.split(".")||[];return moduleMajor===currentModuleMajor&&moduleMinor===currentModuleMinor}(module)||_errorOnce(errorMsg(`'${module.moduleName}' is version ${module.version} but the other modules are version ${currentModuleVersion}.`)):_errorOnce(errorMsg(`'${module.moduleName}' is incompatible.`)),module.validate){const result=module.validate();if(!result.isValid){_errorOnce(`${result.message}`)}}}function _registerModule(module,gridId,isInternalRegistration=!1){isInternalRegistration||(userHasRegistered=!0),runVersionChecks(module);const rowModels=module.rowModels??["all"];let moduleStore;allRegisteredModules.add(module),void 0!==gridId?(areGridScopedModules=!0,void 0===gridModulesMap[gridId]&&(gridModulesMap[gridId]={}),moduleStore=gridModulesMap[gridId]):moduleStore=globalModulesMap,rowModels.forEach((rowModel=>{void 0===moduleStore[rowModel]&&(moduleStore[rowModel]={}),moduleStore[rowModel][module.moduleName]=module})),module.dependsOn&&module.dependsOn.forEach((dependency=>_registerModule(dependency,gridId,isInternalRegistration)))}function _isModuleRegistered(moduleName,gridId,rowModel){const isRegisteredForRowModel=model=>!!globalModulesMap[model]?.[moduleName]||!!gridModulesMap[gridId]?.[model]?.[moduleName];return isRegisteredForRowModel(rowModel)||isRegisteredForRowModel("all")}function _areModulesGridScoped(){return areGridScopedModules}var mix,coreDefaults={wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:backgroundColor,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:accentColor,rangeSelectionBackgroundColor:accentMix(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:accentMix(.5),rangeHeaderHighlightColor:(mix=.08,{ref:"foregroundColor",mix,onto:"headerBackgroundColor"}),rowNumbersSelectedColor:accentMix(.5),rowHoverColor:accentMix(.08),columnHoverColor:accentMix(.05),selectedRowBackgroundColor:accentMix(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:backgroundColor,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},dragHandleColor:foregroundMix(.7),headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:foregroundMix(.1),iconButtonActiveColor:accentColor,iconButtonActiveBackgroundColor:accentMix(.28),iconButtonActiveIndicatorColor:accentColor,menuBorder:{color:foregroundMix(.2)},menuBackgroundColor:foregroundBackgroundMix(.03),menuTextColor:foregroundBackgroundMix(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:foregroundMix(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:accentColor},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:foregroundMix(.2)},panelBackgroundColor:backgroundColor,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,columnDropCellBackgroundColor:foregroundMix(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:foregroundMix(.13)},selectCellBackgroundColor:foregroundMix(.07),selectCellBorder:{color:foregroundMix(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:backgroundColor,filterPanelApplyButtonBackgroundColor:accentColor,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:foregroundColor,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:foregroundColor,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:foregroundMix(.15),statusBarLabelColor:foregroundColor,statusBarLabelFontWeight:500,statusBarValueColor:foregroundColor,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}},baseParams={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},baseDarkBatchEditParams={...baseParams,cellBatchEditTextColor:"#f3d0b3"},batchEditStyleBase=(()=>createPart({feature:"batchEditStyle",params:baseParams,css:".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}"}))(),buttonStyleBaseCSS=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",baseParams2={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},buttonStyleQuartz=(()=>createPart({feature:"buttonStyle",params:{...baseParams2,buttonBackgroundColor:backgroundColor,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:accentColor}},css:buttonStyleBaseCSS}))(),columnDropStyleBordered=(()=>createPart({feature:"columnDropStyle",css:".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}"}))(),gridThemeLogger={warn:(...args)=>{_warn(args[0],args[1])},error:(...args)=>{_error(args[0],args[1])},preInitErr:(...args)=>{_logPreInitErr(args[0],args[2],args[1])}},createTheme=()=>{return(themeLogger=gridThemeLogger,new ThemeImpl(themeLogger)).withParams(coreDefaults).withPart(buttonStyleQuartz).withPart(columnDropStyleBordered).withPart(batchEditStyleBase);var themeLogger},checkboxStyleDefault=(()=>createPart({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:backgroundColor,checkboxUncheckedBorderColor:foregroundBackgroundMix(.3),checkboxCheckedBackgroundColor:accentColor,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:backgroundColor,checkboxIndeterminateBackgroundColor:foregroundBackgroundMix(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:backgroundColor,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:'.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}'}))(),darkParams=()=>({...defaultLightColorSchemeParams,...baseDarkBatchEditParams,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:foregroundBackgroundMix(.05),rowHoverColor:accentMix(.15),selectedRowBackgroundColor:accentMix(.2),menuBackgroundColor:foregroundBackgroundMix(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:foregroundColor,findMatchColor:backgroundColor,findActiveMatchColor:backgroundColor,checkboxUncheckedBorderColor:foregroundBackgroundMix(.4),toggleButtonOffBackgroundColor:foregroundBackgroundMix(.4),rowBatchEditBackgroundColor:foregroundBackgroundMix(.1)}),darkBlueParams=()=>({...darkParams(),backgroundColor:"#1f2836"}),colorSchemeVariable=(()=>createPart({feature:"colorScheme",params:defaultLightColorSchemeParams,modeParams:{light:defaultLightColorSchemeParams,dark:darkParams(),"dark-blue":darkBlueParams()}}))(),iconNameToSvgFragment={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},iconNameToFullSvg={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},quartzIconSvg=(name,strokeWidth=1.5)=>{const fullSVG=iconNameToFullSvg[name];if(fullSVG)return fullSVG;const svgFragment=iconNameToSvgFragment[name];if(!svgFragment)throw new Error(`Missing icon data for ${name}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${strokeWidth}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+svgFragment+"</svg>"},iconSetQuartz=(args={})=>createPart({feature:"iconSet",css:()=>((args={})=>{let result="";for(const iconName of[...Object.keys(iconNameToSvgFragment),...Object.keys(iconNameToFullSvg)]){const iconSvg=quartzIconSvg(iconName,args.strokeWidth);result+=`.ag-icon-${iconName}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(iconSvg)}'); }\n`}return result})(args)}),iconSetQuartzRegular=iconSetQuartz(),inputStyleBaseCSS=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',baseParams3={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},inputStyleBordered=(()=>createPart({feature:"inputStyle",params:{...baseParams3,inputBackgroundColor:backgroundColor,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:accentColor},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:foregroundBackgroundMix(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>inputStyleBaseCSS+".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}"}))(),tabStyleBaseCSS='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',baseParams4={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},tabStyleQuartz=(()=>createPart({feature:"tabStyle",params:{...baseParams4,tabBarBorder:!0,tabBarBackgroundColor:foregroundMix(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:backgroundColor},css:tabStyleBaseCSS}))(),themeQuartz=(()=>createTheme().withPart(checkboxStyleDefault).withPart(colorSchemeVariable).withPart(iconSetQuartzRegular).withPart(tabStyleQuartz).withPart(inputStyleBordered).withPart(columnDropStyleBordered).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}))(),CELL_HORIZONTAL_PADDING={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},INDENTATION_LEVEL={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},ROW_GROUP_INDENT_SIZE={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},ROW_HEIGHT={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},HEADER_HEIGHT={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},LIST_ITEM_HEIGHT={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},ROW_BORDER_WIDTH={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},PINNED_BORDER_WIDTH={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0};var NO_VALUE_SENTINEL=15538;function getHeaderIndexToFocus(beans,column,level){const columnRowIndex=beans.visibleCols.headerGroupRowCount;if(level>=columnRowIndex)return{column,headerRowIndex:level};let parent=column.getParent();for(;parent&&parent.getProvidedColumnGroup().getLevel()>level;)parent=parent.getParent();const isColSpanning=column.isSpanHeaderHeight();return!parent||isColSpanning&&parent.isPadding()?{column,headerRowIndex:columnRowIndex}:{column:parent,headerRowIndex:parent.getProvidedColumnGroup().getLevel()}}var ALWAYS_SYNC_GLOBAL_EVENTS=new Set(["gridPreDestroyed","fillStart","pasteStart"]),_PUBLIC_EVENTS=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],_PUBLIC_EVENT_HANDLERS_MAP=_PUBLIC_EVENTS.reduce(((mem,ev)=>(mem[ev]=function _getCallbackForEvent(eventName){return!eventName||eventName.length<2?eventName:"on"+eventName[0].toUpperCase()+eventName.substring(1)}(ev),mem)),{}),makeIconParams=(dataRefSuffix,classSuffix)=>({tag:"span",ref:`eSort${dataRefSuffix}`,cls:`ag-sort-indicator-icon ag-sort-${classSuffix} ag-hidden`,attrs:{"aria-hidden":"true"}}),SortIndicatorElement={tag:"span",cls:"ag-sort-indicator-container",children:[makeIconParams("Order","order"),makeIconParams("Asc","ascending-icon"),makeIconParams("Desc","descending-icon"),makeIconParams("Mixed","mixed-icon"),makeIconParams("None","none-icon")]},SortIndicatorComp=class extends Component{constructor(skipTemplate){super(),this.eSortOrder=null,this.eSortAsc=null,this.eSortDesc=null,this.eSortMixed=null,this.eSortNone=null,skipTemplate||this.setTemplate(SortIndicatorElement)}attachCustomElements(eSortOrder,eSortAsc,eSortDesc,eSortMixed,eSortNone){this.eSortOrder=eSortOrder,this.eSortAsc=eSortAsc,this.eSortDesc=eSortDesc,this.eSortMixed=eSortMixed,this.eSortNone=eSortNone}setupSort(column,suppressOrder=!1){if(this.column=column,this.suppressOrder=suppressOrder,this.setupMultiSortIndicator(),!column.isSortable()&&!column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,column),this.addInIcon("sortDescending",this.eSortDesc,column),this.addInIcon("sortUnSort",this.eSortNone,column);const updateIcons=this.updateIcons.bind(this),sortUpdated=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",updateIcons),this.addManagedEventListeners({newColumnsLoaded:updateIcons,sortChanged:sortUpdated,columnRowGroupChanged:sortUpdated}),this.onSortChanged()}addInIcon(iconName,eParent,column){if(null==eParent)return;const eIcon=_createIconNoSpan(iconName,this.beans,column);eIcon&&eParent.appendChild(eIcon)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc,eSortDesc,eSortNone,column,gos,beans}=this,sortDirection=beans.sortSvc.getDisplaySortForColumn(column);if(eSortAsc){_setDisplayed(eSortAsc,"asc"===sortDirection,{skipAriaHidden:!0})}if(eSortDesc){_setDisplayed(eSortDesc,"desc"===sortDirection,{skipAriaHidden:!0})}if(eSortNone){_setDisplayed(eSortNone,!(!column.getColDef().unSortIcon&&!gos.get("unSortIcon"))&&null==sortDirection,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed,column,gos}=this;this.addInIcon("sortUnSort",eSortMixed,column);const isColumnShowingRowGroup=column.getColDef().showRowGroup;_isColumnsSortingCoupledToGroup(gos)&&isColumnShowingRowGroup&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed,beans,column}=this;if(eSortMixed){_setDisplayed(eSortMixed,"mixed"===beans.sortSvc.getDisplaySortForColumn(column),{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder,column,beans:{sortSvc}}=this;if(!eSortOrder)return;const allColumnsWithSorting=sortSvc.getColumnsWithSortingOrdered(),indexThisCol=sortSvc.getDisplaySortIndexForColumn(column)??-1,moreThanOneColSorting=allColumnsWithSorting.some((col=>sortSvc.getDisplaySortIndexForColumn(col)??!1));_setDisplayed(eSortOrder,indexThisCol>=0&&moreThanOneColSorting,{skipAriaHidden:!0}),indexThisCol>=0?eSortOrder.textContent=(indexThisCol+1).toString():_clearElement(eSortOrder)}},SortIndicatorSelector={selector:"AG-SORT-INDICATOR",component:SortIndicatorComp},DEFAULT_SORTING_ORDER=["asc","desc",null],USER_COMP_MODULES={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},COLUMN_DEFINITION_MOD_VALIDATIONS={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor,editable})=>editable?"string"==typeof cellEditor?USER_COMP_MODULES[cellEditor]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer})=>"string"!=typeof cellRenderer?null:USER_COMP_MODULES[cellRenderer],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable,cellEditor})=>editable&&!cellEditor?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter})=>filter&&"string"!=typeof filter&&"boolean"!=typeof filter?"CustomFilter":"string"==typeof filter?USER_COMP_MODULES[filter]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:options=>{const enterpriseMenuTabs=["columnsMenuTab","generalMenuTab"];return options.menuTabs?.some((tab=>enterpriseMenuTabs.includes(tab)))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan",rowGroupingHierarchy:"SharedRowGrouping"};var GRID_OPTIONS_MODULES={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},changeSetId=0,gridInstanceSequence=0;function getHeaderCompElementParams(includeSortIndicator){const hiddenAttrs={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:hiddenAttrs},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:hiddenAttrs},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:hiddenAttrs},includeSortIndicator?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var HeaderCompElement=getHeaderCompElementParams(!0),HeaderCompElementNoSort=getHeaderCompElementParams(!1),HeaderGroupCompElement={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},ColumnHeaderCompModule={moduleName:"ColumnHeaderComp",version:VERSION,userComponents:{agColumnHeader:class extends Component{constructor(){super(...arguments),this.eFilter=null,this.eFilterButton=null,this.eSortIndicator=null,this.eMenu=null,this.eLabel=null,this.eText=null,this.eSortOrder=null,this.eSortAsc=null,this.eSortDesc=null,this.eSortMixed=null,this.eSortNone=null,this.isLoadingInnerComponent=!1}refresh(params){const oldParams=this.params;if(this.params=params,this.workOutTemplate(params,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||params.enableSorting!=this.currentSort||null!=this.currentSuppressMenuHide&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||oldParams.enableFilterButton!=params.enableFilterButton||oldParams.enableFilterIcon!=params.enableFilterIcon)return!1;if(this.innerHeaderComponent){const mergedParams={...params};_mergeDeep(mergedParams,params.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(mergedParams)}else this.setDisplayName(params);return!0}workOutTemplate(params,isSorting){const paramsTemplate=params.template;return paramsTemplate?paramsTemplate?.trim?paramsTemplate.trim():paramsTemplate:isSorting?HeaderCompElement:HeaderCompElementNoSort}init(params){this.params=params;const{sortSvc,touchSvc,rowNumbersSvc,userCompFactory}=this.beans,sortComp=sortSvc?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(params,!!sortComp),this.setTemplate(this.currentTemplate,sortComp?[sortComp]:void 0),touchSvc?.setupForHeader(this),this.setMenu(),this.setupSort(),rowNumbersSvc?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(userCompFactory,params),this.setDisplayName(params)}workOutInnerHeaderComponent(userCompFactory,params){const userCompDetails=function _getInnerHeaderCompDetails(userCompFactory,headerCompParams,params){return userCompFactory.getCompDetails(headerCompParams,InnerHeaderComponent,void 0,params)}(userCompFactory,params,params);userCompDetails&&(this.isLoadingInnerComponent=!0,userCompDetails.newAgStackInstance().then((comp=>{this.isLoadingInnerComponent=!1,comp&&(this.isAlive()?(this.innerHeaderComponent=comp,this.eText&&this.eText.appendChild(comp.getGui())):this.destroyBean(comp))})))}setDisplayName(params){const{displayName}=params,oldDisplayName=this.currentDisplayName;this.currentDisplayName=displayName,!this.eText||oldDisplayName===displayName||this.innerHeaderComponent||this.isLoadingInnerComponent||(this.eText.textContent=_toString(displayName))}addInIcon(iconName,eParent,column){const eIcon=_createIconNoSpan(iconName,this.beans,column);eIcon&&eParent.appendChild(eIcon)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return _removeFromParent(this.eMenu),void(this.eMenu=void 0);const{gos,eMenu,params}=this,isLegacyMenu=_isLegacyMenuEnabled(gos);this.addInIcon(isLegacyMenu?"menu":"menuAlt",eMenu,params.column),eMenu.classList.toggle("ag-header-menu-icon",!isLegacyMenu);const currentSuppressMenuHide=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=currentSuppressMenuHide,this.addManagedElementListeners(eMenu,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(currentSuppressMenuHide)}toggleMenuAlwaysShow(alwaysShow){this.eMenu?.classList.toggle("ag-header-menu-always-show",alwaysShow)}showColumnMenu(element){const{currentSuppressMenuHide,params}=this;currentSuppressMenuHide||this.toggleMenuAlwaysShow(!0),params.showColumnMenu(element,(()=>{currentSuppressMenuHide||this.toggleMenuAlwaysShow(!1)}))}onMenuKeyboardShortcut(isFilterShortcut){const{params,gos,beans,eMenu,eFilterButton}=this,column=params.column,isLegacyMenuEnabled=_isLegacyMenuEnabled(gos);if(isFilterShortcut&&!isLegacyMenuEnabled){if(beans.menuSvc?.isFilterMenuInHeaderEnabled(column))return params.showFilter(eFilterButton??eMenu??this.getGui()),!0}else if(params.enableMenu)return this.showColumnMenu(eMenu??eFilterButton??this.getGui()),!0;return!1}setupSort(){const{sortSvc}=this.beans;if(!sortSvc)return;const{enableSorting,column}=this.params;if(this.currentSort=enableSorting,!this.eSortIndicator){this.eSortIndicator=this.createBean(sortSvc.createSortIndicator(!0));const{eSortIndicator,eSortOrder,eSortAsc,eSortDesc,eSortMixed,eSortNone}=this;eSortIndicator.attachCustomElements(eSortOrder,eSortAsc,eSortDesc,eSortMixed,eSortNone)}this.eSortIndicator.setupSort(column),this.currentSort&&sortSvc.setupHeader(this,column,this.eLabel)}setupFilterIcon(){const{eFilter,params}=this;if(!eFilter)return;this.configureFilter(params.enableFilterIcon,eFilter,(()=>{const filterPresent=params.column.isFilterActive();_setDisplayed(eFilter,filterPresent,{skipAriaHidden:!0})}),"filterActive")}setupFilterButton(){const{eFilterButton,params}=this;if(!eFilterButton)return;this.configureFilter(params.enableFilterButton,eFilterButton,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(eFilterButton,{click:()=>params.showFilter(eFilterButton)}):this.eFilterButton=void 0}configureFilter(enabled,element,filterChangedCallback,icon){if(!enabled)return _removeFromParent(element),!1;const column=this.params.column;return this.addInIcon(icon,element,column),this.addManagedListeners(column,{filterChanged:filterChangedCallback}),filterChangedCallback(),!0}onFilterChangedButton(){const filterPresent=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",filterPresent)}getAnchorElementForMenu(isFilter){const{eFilterButton,eMenu}=this;return isFilter?eFilterButton??eMenu??this.getGui():eMenu??eFilterButton??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}}},icons:{menu:"menu",menuAlt:"menu-alt"}},ColumnGroupHeaderCompModule={moduleName:"ColumnGroupHeaderComp",version:VERSION,userComponents:{agColumnGroupHeader:class extends Component{constructor(){super(HeaderGroupCompElement),this.agOpened=null,this.agClosed=null,this.agLabel=null,this.isLoadingInnerComponent=!1}init(params){const{userCompFactory,touchSvc}=this.beans;this.params=params,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(userCompFactory,params),this.setupLabel(params),this.addGroupExpandIcon(params),this.setupExpandIcons(),touchSvc?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&_warn(89)}workOutInnerHeaderGroupComponent(userCompFactory,params){const userCompDetails=function _getInnerHeaderGroupCompDetails(userCompFactory,headerGroupCompParams,params){return userCompFactory.getCompDetails(headerGroupCompParams,InnerHeaderGroupComponent,void 0,params)}(userCompFactory,params,params);userCompDetails&&(this.isLoadingInnerComponent=!0,userCompDetails.newAgStackInstance().then((comp=>{this.isLoadingInnerComponent=!1,comp&&(this.isAlive()?(this.innerHeaderGroupComponent=comp,this.agLabel.appendChild(comp.getGui())):this.destroyBean(comp))})))}setupExpandIcons(){const{agOpened,agClosed,params:{columnGroup},beans}=this;this.addInIcon("columnGroupOpened",agOpened),this.addInIcon("columnGroupClosed",agClosed);const expandAction=event=>{if(_isStopPropagationForAgGrid(event))return;const newExpandedValue=!columnGroup.isExpanded();beans.colGroupSvc.setColumnGroupOpened(columnGroup.getProvidedColumnGroup(),newExpandedValue,"uiColumnExpanded")};this.addTouchAndClickListeners(beans,agClosed,expandAction),this.addTouchAndClickListeners(beans,agOpened,expandAction);const stopPropagationAction=event=>{_stopPropagationForAgGrid(event)};this.addManagedElementListeners(agClosed,{dblclick:stopPropagationAction}),this.addManagedElementListeners(agOpened,{dblclick:stopPropagationAction}),this.addManagedElementListeners(this.getGui(),{dblclick:expandAction}),this.updateIconVisibility();const providedColumnGroup=columnGroup.getProvidedColumnGroup(),updateIcon=this.updateIconVisibility.bind(this);this.addManagedListeners(providedColumnGroup,{expandedChanged:updateIcon,expandableChanged:updateIcon})}addTouchAndClickListeners(beans,eElement,action){beans.touchSvc?.setupForHeaderGroupElement(this,eElement,action),this.addManagedElementListeners(eElement,{click:action})}updateIconVisibility(){const{agOpened,agClosed,params:{columnGroup}}=this;if(columnGroup.isExpandable()){const expanded=columnGroup.isExpanded();_setDisplayed(agOpened,expanded),_setDisplayed(agClosed,!expanded)}else _setDisplayed(agOpened,!1),_setDisplayed(agClosed,!1)}addInIcon(iconName,element){const eIcon=_createIconNoSpan(iconName,this.beans,null);eIcon&&element.appendChild(eIcon)}addGroupExpandIcon(params){if(!params.columnGroup.isExpandable()){const{agOpened,agClosed}=this;return _setDisplayed(agOpened,!1),void _setDisplayed(agClosed,!1)}}setupLabel(params){const{displayName,columnGroup}=params,hasInnerComponent=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;_exists(displayName)&&!hasInnerComponent&&(this.agLabel.textContent=_toString(displayName)),this.toggleCss("ag-sticky-label",!columnGroup.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}}},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},AnimationFrameModule={moduleName:"AnimationFrame",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(scrollTop){this.scrollGoingDown=scrollTop>=this.lastScrollTop,0===scrollTop&&(this.scrollGoingDown=!0),this.lastScrollTop=scrollTop}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){!1===this.active&&_warn(92)}createTask(task,index,list,isFramework,isDeferred=!1){this.verify();let taskList=list;isFramework&&this.batchFrameworkComps&&(taskList="f1");const taskItem={task,index,createOrder:++this.taskCount,deferred:isDeferred};this.addTaskToList(this[taskList],taskItem),this.schedule()}addTaskToList(taskList,task){taskList.list.push(task),taskList.sorted=!1}sortTaskList(taskList){if(taskList.sorted)return;const sortDirection=this.scrollGoingDown?1:-1;taskList.list.sort(((a,b)=>a.deferred!==b.deferred?a.deferred?-1:1:a.index!==b.index?sortDirection*(b.index-a.index):b.createOrder-a.createOrder)),taskList.sorted=!0}addDestroyTask(task){this.verify(),this.destroyTasks.push(task),this.schedule()}executeFrame(millis){const{p1,p2,f1,destroyTasks,beans}=this,{ctrlsSvc,frameworkOverrides}=beans,p1Tasks=p1.list,p2Tasks=p2.list,f1Tasks=f1.list,frameStart=Date.now();let duration=0;const noMaxMillis=millis<=0,scrollFeature=ctrlsSvc.getScrollFeature();for(;noMaxMillis||duration<millis;){if(!scrollFeature.scrollGridIfNeeded()){let task;if(p1Tasks.length)this.sortTaskList(p1),task=p1Tasks.pop().task;else if(p2Tasks.length)this.sortTaskList(p2),task=p2Tasks.pop().task;else if(f1Tasks.length)frameworkOverrides.wrapOutgoing((()=>{for(;noMaxMillis||duration<millis;){if(scrollFeature.scrollGridIfNeeded())break;if(!f1Tasks.length)break;this.sortTaskList(f1),task=f1Tasks.pop().task,task(),duration=Date.now()-frameStart}})),task=()=>{};else{if(!destroyTasks.length)break;task=destroyTasks.pop()}task()}duration=Date.now()-frameStart}p1Tasks.length||p2Tasks.length||f1Tasks.length||destroyTasks.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const callback=this.executeFrame.bind(this,60);_requestAnimationFrame(this.beans,callback)}isQueueEmpty(){return!this.ticking}}]},TouchModule={moduleName:"Touch",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(ctrl,listener){this.mockContextMenu(ctrl,ctrl.eBodyViewport,listener)}mockHeaderContextMenu(ctrl,listener){this.mockContextMenu(ctrl,ctrl.eGui,listener)}mockRowContextMenu(ctrl){if(!_isIOSUserAgent())return;this.mockContextMenu(ctrl,ctrl.element,((mouseListener,touch,touchEvent)=>{const{rowCtrl,cellCtrl}=ctrl.getControlsForEventTarget(touchEvent?.target??null);cellCtrl?.column&&cellCtrl.dispatchCellContextMenuEvent(touchEvent??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,touchEvent,rowCtrl,cellCtrl)}))}handleCellDoubleClick(ctrl,mouseEvent){return!!(()=>{if(!_isIOSUserAgent()||_isEventSupported("dblclick"))return!1;const nowMillis=Date.now(),res=nowMillis-ctrl.lastIPadMouseClickEvent<200;return ctrl.lastIPadMouseClickEvent=nowMillis,res})()&&(ctrl.onCellDoubleClicked(mouseEvent),mouseEvent.preventDefault(),!0)}setupForHeader(comp){const{gos,sortSvc,menuSvc}=this.beans;if(gos.get("suppressTouch"))return;const{params,eMenu,eFilterButton}=comp,touchListener=new TouchListener(comp.getGui(),!0),suppressMenuHide=comp.shouldSuppressMenuHide(),tapMenuButton=suppressMenuHide&&_exists(eMenu)&&params.enableMenu,menuTouchListener=tapMenuButton?new TouchListener(eMenu,!0):touchListener;if(params.enableMenu||menuSvc?.isHeaderContextMenuEnabled(params.column)){const eventType=tapMenuButton?"tap":"longTap",showMenuFn=event=>params.showColumnMenuAfterMouseClick(event.touchStart);comp.addManagedListeners(menuTouchListener,{[eventType]:showMenuFn})}if(params.enableSorting){const tapListener=event=>{const target=event.touchStart.target;suppressMenuHide&&(eMenu?.contains(target)||eFilterButton?.contains(target))||sortSvc?.progressSort(params.column,!1,"uiColumnSorted")};comp.addManagedListeners(touchListener,{tap:tapListener})}if(params.enableFilterButton&&eFilterButton){const filterButtonTouchListener=new TouchListener(eFilterButton,!0);comp.addManagedListeners(filterButtonTouchListener,{tap:()=>params.showFilter(eFilterButton)}),comp.addDestroyFunc((()=>filterButtonTouchListener.destroy()))}comp.addDestroyFunc((()=>touchListener.destroy())),tapMenuButton&&comp.addDestroyFunc((()=>menuTouchListener.destroy()))}setupForHeaderGroup(comp){const params=comp.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(params.columnGroup.getProvidedColumnGroup())){const touchListener=new TouchListener(params.eGridHeader,!0),showMenuFn=event=>params.showColumnMenuAfterMouseClick(event.touchStart);comp.addManagedListeners(touchListener,{longTap:showMenuFn}),comp.addDestroyFunc((()=>touchListener.destroy()))}}setupForHeaderGroupElement(comp,eElement,action){const touchListener=new TouchListener(eElement,!0);comp.addManagedListeners(touchListener,{tap:action}),comp.addDestroyFunc((()=>touchListener.destroy()))}mockContextMenu(ctrl,element,listener){if(!_isIOSUserAgent())return;const touchListener=new TouchListener(element);ctrl.addManagedListeners(touchListener,{longTap:event=>{_isEventFromThisInstance(this.beans,event.touchEvent)&&listener(void 0,event.touchStart,event.touchEvent)}}),ctrl.addDestroyFunc((()=>touchListener.destroy()))}}]};var EditCellValidationModel=class{constructor(){this.cellValidations=new Map}getCellValidation(position){const{rowNode,column}=position||{};return this.cellValidations?.get(rowNode)?.get(column)}hasCellValidation(position){return position&&position.rowNode&&position.column?!!this.getCellValidation(position):this.cellValidations.size>0}setCellValidation(position,validation){const{rowNode,column}=position;this.cellValidations.has(rowNode)||this.cellValidations.set(rowNode,new Map),this.cellValidations.get(rowNode).set(column,validation)}clearCellValidation(position){const{rowNode,column}=position;this.cellValidations.get(rowNode)?.delete(column)}setCellValidationMap(validationMap){this.cellValidations=validationMap}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},EditRowValidationModel=class{constructor(){this.rowValidations=new Map}getRowValidation(position){const{rowNode}=position||{};return this.rowValidations.get(rowNode)}hasRowValidation(position){return position&&position.rowNode?!!this.getRowValidation(position):this.rowValidations.size>0}setRowValidation({rowNode},rowValidation){this.rowValidations.set(rowNode,rowValidation)}clearRowValidation({rowNode}){this.rowValidations.delete(rowNode)}setRowValidationMap(validationMap){this.rowValidations=validationMap}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function _getRowCtrl(beans,inputs={}){const{rowIndex,rowId,rowCtrl,rowPinned}=inputs;if(rowCtrl)return rowCtrl;const{rowModel,rowRenderer}=beans;let{rowNode}=inputs;return rowNode||(rowId?rowNode=function _getRowById(beans,rowId,rowPinned){const{rowModel:rm,pinnedRowModel:prm}=beans;let node;return node??(node=rm?.getRowNode(rowId)),rowPinned?node??(node=prm?.getPinnedRowById(rowId,rowPinned)):(node??(node=prm?.getPinnedRowById(rowId,"top")),node??(node=prm?.getPinnedRowById(rowId,"bottom"))),node}(beans,rowId,rowPinned):null!=rowIndex&&(rowNode=rowModel.getRow(rowIndex))),rowRenderer.getRowCtrls(rowNode?[rowNode]:[])?.[0]}function _getCellCtrl(beans,inputs={}){const{cellCtrl,colId,columnId,column}=inputs;if(cellCtrl)return cellCtrl;const actualColumn=beans.colModel.getCol(colId??columnId??_getColId(column)),rowCtrl=inputs.rowCtrl??_getRowCtrl(beans,inputs),result=rowCtrl?.getCellCtrl(actualColumn)??void 0;if(result)return result;const rowNode=inputs.rowNode??rowCtrl?.rowNode;return rowNode?beans.rowRenderer.getCellCtrls([rowNode],[actualColumn])?.[0]:void 0}function _getColId(column){if(column)return"string"==typeof column?column:column.getColId()}var UNEDITED=Symbol("unedited");function getCellEditorInstanceMap(beans,params={}){const res=[],ctrls=beans.rowRenderer.getCellCtrls(params.rowNodes,params.columns);for(const ctrl of ctrls){const cellEditor=ctrl.comp?.getCellEditor();cellEditor&&res.push({ctrl,editor:_unwrapUserComp(cellEditor)})}return res}function _valueFromEditor(beans,cellEditor,params){const noValueResult={editorValueExists:!1};if(_hasValidationRules(beans)){const validationErrors=cellEditor.getValidationErrors?.();if((validationErrors?.length??0)>0)return noValueResult}if(params?.isCancelling)return noValueResult;if(params?.isStopping){const isCancelAfterEnd=cellEditor?.isCancelAfterEnd?.();if(isCancelAfterEnd)return{...noValueResult,isCancelAfterEnd}}return{editorValue:cellEditor.getValue(),editorValueExists:!0}}function _syncFromEditors(beans,params){beans.editModelSvc?.getEditPositions().forEach((cellId=>{const cellCtrl=_getCellCtrl(beans,cellId);if(!cellCtrl)return;const editor=cellCtrl.comp?.getCellEditor();if(!editor)return;const{editorValue,editorValueExists,isCancelAfterEnd}=_valueFromEditor(beans,editor,params);isCancelAfterEnd&&beans.editModelSvc?.setEdit(cellId,{editorState:{isCancelAfterEnd}}),_syncFromEditor(beans,cellId,editorValue,void 0,!editorValueExists,params)}))}function _syncFromEditor(beans,position,editorValue,_source,valueSameAsSource,params){const{editModelSvc,valueSvc}=beans;if(!editModelSvc)return;const{rowNode,column}=position;if(!rowNode||!column)return;let edit=editModelSvc.getEdit(position,!0);edit?.sourceValue||(edit=editModelSvc.setEdit(position,{sourceValue:valueSvc.getValue(column,rowNode,void 0,"api"),pendingValue:edit?edit.editorValue:UNEDITED})),editModelSvc.setEdit(position,{editorValue:valueSameAsSource?edit.sourceValue:editorValue}),params?.persist&&function _persistEditorValue(beans,position){const{editModelSvc}=beans,edit=editModelSvc?.getEdit(position,!0);editModelSvc?.setEdit(position,{pendingValue:edit?.editorValue})}(beans,position)}function _hasValidationRules(beans){const{gos,colModel}=beans,getFullRowEditValidationErrors=!!gos.get("getFullRowEditValidationErrors"),columnsHaveRules=colModel.getColumnDefs()?.filter((c=>c.editable)).some((({cellEditorParams})=>{const{minLength,maxLength,getValidationErrors,min,max}=cellEditorParams||{};return void 0!==minLength||void 0!==maxLength||void 0!==getValidationErrors||void 0!==min||void 0!==max})),editorsHaveRules=beans.gridApi.getCellEditorInstances().some((editor=>editor.getValidationElement||editor.getValidationErrors));return columnsHaveRules||getFullRowEditValidationErrors||editorsHaveRules}function _populateModelValidationErrors(beans,force){if(!force&&!_hasValidationRules(beans))return;const mappedEditors=getCellEditorInstanceMap(beans),cellValidationModel=new EditCellValidationModel,{ariaAnnounce,localeSvc,editModelSvc,gos}=beans,includeRows="fullRow"===gos.get("editType"),ariaValidationErrorPrefix=_getLocaleTextFunc(localeSvc)("ariaValidationErrorPrefix","Cell Editor Validation");for(const mappedEditor of mappedEditors){const{ctrl,editor}=mappedEditor,{rowNode,column}=ctrl,errorMessages=editor.getValidationErrors?.()??[],el=editor.getValidationElement?.(!1)||!editor.isPopup?.()&&ctrl.eGui;if(el){const isInvalid=null!=errorMessages&&errorMessages.length>0,invalidMessage=isInvalid?errorMessages.join(". "):"";_toggleAriaAttribute(el,"invalid",isInvalid),isInvalid&&ariaAnnounce.announceValue(`${ariaValidationErrorPrefix} ${errorMessages}`,"editorValidation"),el instanceof HTMLInputElement?el.setCustomValidity(invalidMessage):el.classList.toggle("invalid",isInvalid)}errorMessages?.length>0&&cellValidationModel.setCellValidation({rowNode,column},{errorMessages})}_syncFromEditors(beans,{persist:!1}),editModelSvc?.setCellValidationModel(cellValidationModel);const rowCtrlSet=new Set;for(const{ctrl}of mappedEditors)rowCtrlSet.add(ctrl.rowCtrl);if(includeRows){const rowValidations=_generateRowValidationErrors(beans);editModelSvc?.setRowValidationModel(rowValidations)}for(const rowCtrl of rowCtrlSet.values()){rowCtrl.rowEditStyleFeature?.applyRowStyles();for(const cellCtrl of rowCtrl.getAllCellCtrls())cellCtrl.tooltipFeature?.refreshTooltip(!0),cellCtrl.editorTooltipFeature?.refreshTooltip(!0),cellCtrl.editStyleFeature?.applyCellStyles?.()}}var _generateRowValidationErrors=beans=>{const rowValidationModel=new EditRowValidationModel,getFullRowEditValidationErrors=beans.gos.get("getFullRowEditValidationErrors"),editMap=beans.editModelSvc?.getEditMap();if(!editMap)return rowValidationModel;for(const rowNode of editMap.keys()){const rowEditMap=editMap.get(rowNode);if(!rowEditMap)continue;const editorsState=[],{rowIndex,rowPinned}=rowNode;for(const column of rowEditMap.keys()){const editValue=rowEditMap.get(column);if(!editValue)continue;const{editorValue,pendingValue,sourceValue}=editValue,newValue=editorValue??(pendingValue===UNEDITED?void 0:pendingValue)??sourceValue;editorsState.push({column,colId:column.getColId(),rowIndex,rowPinned,oldValue:sourceValue,newValue})}const errorMessages=getFullRowEditValidationErrors?.({editorsState})??[];errorMessages.length>0&&rowValidationModel.setRowValidation({rowNode},{errorMessages})}return rowValidationModel};var CellKeyboardListenerFeature=class extends BeanStub{constructor(cellCtrl,beans,rowNode,rowCtrl){super(),this.cellCtrl=cellCtrl,this.rowNode=rowNode,this.rowCtrl=rowCtrl,this.beans=beans}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(event){const key=event.key;switch(key){case KeyCode_ENTER:this.onEnterKeyDown(event);break;case KeyCode_F2:this.onF2KeyDown(event);break;case KeyCode_ESCAPE:this.onEscapeKeyDown(event);break;case KeyCode_TAB:this.onTabKeyDown(event);break;case KeyCode_BACKSPACE:case KeyCode_DELETE:this.onBackspaceOrDeleteKeyDown(key,event);break;case KeyCode_DOWN:case KeyCode_UP:case KeyCode_RIGHT:case KeyCode_LEFT:this.onNavigationKeyDown(event,key)}}onNavigationKeyDown(event,key){const{cellCtrl,beans}=this;if(!beans.editSvc?.isEditing(cellCtrl,{withOpenEditor:!0})){if(event.shiftKey&&cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(event);else{const currentCellPosition=cellCtrl.getFocusedCellPosition();beans.navigation?.navigateToNextCell(event,key,currentCellPosition,!0)}event.preventDefault()}}onShiftRangeSelect(event){const{rangeSvc,navigation}=this.beans;if(!rangeSvc)return;const endCell=rangeSvc.extendLatestRangeInDirection(event);endCell&&(event.key===KeyCode_LEFT||event.key===KeyCode_RIGHT?navigation?.ensureColumnVisible(endCell.column):navigation?.ensureRowVisible(endCell.rowIndex))}onTabKeyDown(event){this.beans.navigation?.onTabKeyDown(this.cellCtrl,event)}onBackspaceOrDeleteKeyDown(key,event){const{cellCtrl,beans,rowNode}=this,{gos,rangeSvc,eventSvc,editSvc}=beans;if(eventSvc.dispatchEvent({type:"keyShortcutChangedCellStart"}),function _isDeleteKey(key,alwaysReturnFalseOnBackspace=!1){return key===KeyCode_DELETE||!alwaysReturnFalseOnBackspace&&key===KeyCode_BACKSPACE&&_isMacOsUserAgent()}(key,gos.get("enableCellEditingOnBackspace"))&&!editSvc?.isEditing(cellCtrl,{withOpenEditor:!0})){if(rangeSvc&&_isCellSelectionEnabled(gos))rangeSvc.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(cellCtrl.isCellEditable()){const{column}=cellCtrl,emptyValue=this.beans.valueSvc.getDeleteValue(column,rowNode);rowNode.setDataValue(column,emptyValue,"cellClear")}}else editSvc?.isEditing(cellCtrl,{withOpenEditor:!0})||beans.editSvc?.startEditing(cellCtrl,{startedEdit:!0,event});eventSvc.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(event){const{cellCtrl,beans}=this,{editSvc,navigation}=beans,cellEditing=editSvc?.isEditing(cellCtrl,{withOpenEditor:!0}),rowNode=cellCtrl.rowNode,rowEditing=editSvc?.isRowEditing(rowNode,{withOpenEditor:!0}),startEditingAction=cellCtrl2=>{const started=editSvc?.startEditing(cellCtrl2,{startedEdit:!0,event,source:"edit"});started&&event.preventDefault()};if(cellEditing||rowEditing){if(this.isCtrlEnter(event))return void editSvc?.applyBulkEdit(cellCtrl,beans?.rangeSvc?.getCellRanges()||[]);if(_populateModelValidationErrors(beans),"block-stop"===editSvc?.checkNavWithValidation(void 0,event))return;editSvc?.isEditing(cellCtrl,{withOpenEditor:!0})?editSvc?.stopEditing(cellCtrl,{event,source:"edit"}):rowEditing&&!cellCtrl.isCellEditable()?editSvc?.stopEditing({rowNode},{event,source:"edit"}):startEditingAction(cellCtrl)}else if(beans.gos.get("enterNavigatesVertically")){const key=event.shiftKey?KeyCode_UP:KeyCode_DOWN;navigation?.navigateToNextCell(null,key,cellCtrl.cellPosition,!1)}else{if(editSvc?.hasValidationErrors())return;editSvc?.hasValidationErrors(cellCtrl)&&editSvc.revertSingleCellEdit(cellCtrl,!0),startEditingAction(cellCtrl)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===KeyCode_ENTER}onF2KeyDown(event){const{cellCtrl,beans:{editSvc}}=this,editing=editSvc?.isEditing();editing&&(_populateModelValidationErrors(this.beans),"block-stop"===editSvc?.checkNavWithValidation(void 0,event))||editSvc?.startEditing(cellCtrl,{startedEdit:!0,event})}onEscapeKeyDown(event){const{cellCtrl,beans:{editSvc}}=this;"block-stop"===editSvc?.checkNavWithValidation(cellCtrl,event)&&editSvc.revertSingleCellEdit(cellCtrl),editSvc?.stopEditing(cellCtrl,{event,cancel:!0})}processCharacter(event){const eventOnChildComponent=event.target!==this.eGui,{beans:{editSvc},cellCtrl}=this;if(eventOnChildComponent)return;if(editSvc?.isEditing(cellCtrl,{withOpenEditor:!0}))return;if(event.key===KeyCode_SPACE)this.onSpaceKeyDown(event);else if(editSvc?.isCellEditable(cellCtrl,"ui")){if(editSvc?.hasValidationErrors()&&!editSvc?.hasValidationErrors(cellCtrl))return;editSvc?.startEditing(cellCtrl,{startedEdit:!0,event,source:"api"});const compDetails=cellCtrl.editCompDetails;!compDetails?.params?.suppressPreventDefault&&event.preventDefault()}}onSpaceKeyDown(event){const{gos,editSvc}=this.beans,{rowNode}=this.cellCtrl;!editSvc?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&_isRowSelection(gos)&&this.beans.selectionSvc?.handleSelectionEvent(event,rowNode,"spaceKey"),event.preventDefault()}},CellMouseListenerFeature=class extends BeanStub{constructor(cellCtrl,beans,column){super(),this.cellCtrl=cellCtrl,this.column=column,this.beans=beans}onMouseEvent(eventName,mouseEvent){if(!_isStopPropagationForAgGrid(mouseEvent))switch(eventName){case"click":this.onCellClicked(mouseEvent);break;case"mousedown":case"touchstart":this.onMouseDown(mouseEvent);break;case"dblclick":this.onCellDoubleClicked(mouseEvent);break;case"mouseout":this.onMouseOut(mouseEvent);break;case"mouseover":this.onMouseOver(mouseEvent)}}onCellClicked(event){if(this.beans.touchSvc?.handleCellDoubleClick(this,event))return;const{eventSvc,rangeSvc,editSvc,editModelSvc,frameworkOverrides,gos}=this.beans,isMultiKey=event.ctrlKey||event.metaKey,{cellCtrl}=this,{column,cellPosition,rowNode}=cellCtrl,suppressMouseEvent2=_suppressCellMouseEvent(gos,column,rowNode,event);rangeSvc&&isMultiKey&&!suppressMouseEvent2&&rangeSvc.getCellRangeCount(cellPosition)>1&&rangeSvc.intersectLastRange(!0);const cellClickedEvent=cellCtrl.createEvent(event,"cellClicked");cellClickedEvent.isEventHandlingSuppressed=suppressMouseEvent2,eventSvc.dispatchEvent(cellClickedEvent);const colDef=column.getColDef();if(colDef.onCellClicked&&window.setTimeout((()=>{frameworkOverrides.wrapOutgoing((()=>{colDef.onCellClicked(cellClickedEvent)}))}),0),!suppressMouseEvent2&&"editing"!==editModelSvc?.getState(cellCtrl)){const editing=editSvc?.isEditing(),cellValidations=editModelSvc?.getCellValidationModel().getCellValidationMap().size??0,rowValidations=editModelSvc?.getRowValidationModel().getRowValidationMap().size??0;if(editing&&(cellValidations>0||rowValidations>0))return;editSvc?.shouldStartEditing(cellCtrl,event)?editSvc?.startEditing(cellCtrl,{event}):editSvc?.shouldStopEditing(cellCtrl,event)&&("fullRow"===this.beans.gos.get("editType")?editSvc?.stopEditing(cellCtrl,{event,source:"edit"}):editSvc?.stopEditing(void 0,{event,source:"edit"}))}}onCellDoubleClicked(event){const{column,beans,cellCtrl}=this,{eventSvc,frameworkOverrides,editSvc,editModelSvc,gos}=beans,suppressMouseEvent2=_suppressCellMouseEvent(gos,cellCtrl.column,cellCtrl.rowNode,event),colDef=column.getColDef(),cellDoubleClickedEvent=cellCtrl.createEvent(event,"cellDoubleClicked");if(cellDoubleClickedEvent.isEventHandlingSuppressed=suppressMouseEvent2,eventSvc.dispatchEvent(cellDoubleClickedEvent),"function"==typeof colDef.onCellDoubleClicked&&window.setTimeout((()=>{frameworkOverrides.wrapOutgoing((()=>{colDef.onCellDoubleClicked(cellDoubleClickedEvent)}))}),0),!suppressMouseEvent2&&editSvc?.shouldStartEditing(cellCtrl,event)&&"editing"!==editModelSvc?.getState(cellCtrl)){const editing=editSvc?.isEditing(),cellValidations=editModelSvc?.getCellValidationModel().getCellValidationMap().size??0,rowValidations=editModelSvc?.getRowValidationModel().getRowValidationMap().size??0;if(editing&&(cellValidations>0||rowValidations>0))return;editSvc?.startEditing(cellCtrl,{event})}}onMouseDown(mouseEvent){const{ctrlKey,metaKey,shiftKey}=mouseEvent,target=mouseEvent.target,{cellCtrl,beans}=this,{eventSvc,rangeSvc,rowNumbersSvc,focusSvc,gos,editSvc}=beans,{column,rowNode,cellPosition}=cellCtrl,suppressMouseEvent2=_suppressCellMouseEvent(gos,column,rowNode,mouseEvent),fireMouseDownEvent=()=>{const cellMouseDownEvent=cellCtrl.createEvent(mouseEvent,"cellMouseDown");cellMouseDownEvent.isEventHandlingSuppressed=suppressMouseEvent2,eventSvc.dispatchEvent(cellMouseDownEvent)};if(suppressMouseEvent2)return void fireMouseDownEvent();if(this.isRightClickInExistingRange(mouseEvent))return;const hasRanges=rangeSvc&&!rangeSvc.isEmpty(),containsWidget=this.containsWidget(target),isRowNumberColumn=isRowNumberCol(column);if(rowNumbersSvc&&isRowNumberColumn&&!rowNumbersSvc.handleMouseDownOnCell(cellPosition,mouseEvent))return rangeSvc&&mouseEvent.preventDefault(),void mouseEvent.stopImmediatePropagation();if(!shiftKey||!hasRanges){const editing=editSvc?.isEditing(cellCtrl),shouldFocus=gos.get("enableCellTextSelection")&&mouseEvent.defaultPrevented,forceBrowserFocus=(_isBrowserSafari()||shouldFocus)&&!editing&&!_isFocusableFormField(target)&&!containsWidget;cellCtrl.focusCell(forceBrowserFocus,mouseEvent)}if(shiftKey&&hasRanges&&!focusSvc.isCellFocused(cellPosition)){mouseEvent.preventDefault();const focusedCell=focusSvc.getFocusedCell();if(focusedCell){const{column:column2,rowIndex,rowPinned}=focusedCell;editSvc?.isEditing(focusedCell)&&editSvc?.stopEditing(focusedCell),focusSvc.setFocusedCell({column:column2,rowIndex,rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:mouseEvent})}}if(!containsWidget){if(rangeSvc){isRowNumberColumn&&mouseEvent.preventDefault();const hasRightClickedOnRowNumber=_interpretAsRightClick(beans,mouseEvent)&&isRowNumberColumn;if(shiftKey)rangeSvc.extendLatestRangeToCell(cellPosition);else if(!hasRightClickedOnRowNumber){const isMultiKey=ctrlKey||metaKey;rangeSvc.setRangeToCell(cellPosition,isMultiKey)}}fireMouseDownEvent()}}isRightClickInExistingRange(mouseEvent){const{rangeSvc}=this.beans;if(rangeSvc){const cellInRange=rangeSvc.isCellInAnyRange(this.cellCtrl.cellPosition),isRightClick=_interpretAsRightClick(this.beans,mouseEvent);if(cellInRange&&isRightClick)return!0}return!1}containsWidget(target){return _isElementChildOfClass(target,"ag-selection-checkbox",3)||_isElementChildOfClass(target,"ag-drag-handle",3)}onMouseOut(mouseEvent){if(this.mouseStayingInsideCell(mouseEvent))return;const{eventSvc,colHover}=this.beans;eventSvc.dispatchEvent(this.cellCtrl.createEvent(mouseEvent,"cellMouseOut")),colHover?.clearMouseOver()}onMouseOver(mouseEvent){if(this.mouseStayingInsideCell(mouseEvent))return;const{eventSvc,colHover}=this.beans;eventSvc.dispatchEvent(this.cellCtrl.createEvent(mouseEvent,"cellMouseOver")),colHover?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const eCell=this.cellCtrl.eGui,cellContainsTarget=eCell.contains(e.target),cellContainsRelatedTarget=eCell.contains(e.relatedTarget);return cellContainsTarget&&cellContainsRelatedTarget}},CellPositionFeature=class extends BeanStub{constructor(cellCtrl,beans){super(),this.cellCtrl=cellCtrl,this.beans=beans,this.column=cellCtrl.column,this.rowNode=cellCtrl.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const cellSpan=this.cellCtrl.getCellSpan();if(cellSpan||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),cellSpan||this._legacyApplyRowSpan(),cellSpan){const refreshSpanHeight=this.refreshSpanHeight.bind(this,cellSpan);refreshSpanHeight(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:refreshSpanHeight,recalculateRowBounds:refreshSpanHeight,pinnedHeightChanged:refreshSpanHeight})}}refreshSpanHeight(cellSpan){const spanHeight=cellSpan.getCellHeight();null!=spanHeight&&(this.eContent.style.height=`${spanHeight}px`)}onNewColumnsLoaded(){const rowSpan=this.column.getRowSpan(this.rowNode);this.rowSpan!==rowSpan&&(this.rowSpan=rowSpan,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const colsSpanning=this.getColSpanningList();_areEqual(this.colsSpanning,colsSpanning)||(this.colsSpanning=colsSpanning,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const width=this.getCellWidth();this.eContent.style.width=`${width}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce(((width,col)=>width+col.getActualWidth()),0):this.column.getActualWidth()}getColSpanningList(){const{column,rowNode}=this,colSpan=column.getColSpan(rowNode),colsSpanning=[];if(1===colSpan)colsSpanning.push(column);else{let pointer=column;const pinned=column.getPinned();for(let i=0;pointer&&i<colSpan&&(colsSpanning.push(pointer),pointer=this.beans.visibleCols.getColAfter(pointer),pointer&&!_missing(pointer))&&pinned===pointer.getPinned();i++);}return colsSpanning}onLeftChanged(){if(!this.eSetLeft)return;const left=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=left+"px"}getCellLeft(){let mostLeftCol;return mostLeftCol=this.beans.gos.get("enableRtl")&&this.colsSpanning?_last(this.colsSpanning):this.column,mostLeftCol.getLeft()}modifyLeftForPrintLayout(leftPosition){if(!this.cellCtrl.printLayout||"left"===this.column.getPinned())return leftPosition;const{visibleCols}=this.beans,leftWidth=visibleCols.getColsLeftWidth();if("right"===this.column.getPinned()){return leftWidth+visibleCols.bodyWidth+(leftPosition||0)}return leftWidth+(leftPosition||0)}_legacyApplyRowSpan(force){if(1===this.rowSpan&&!force)return;const totalRowHeight=_getRowHeightAsNumber(this.beans)*this.rowSpan;this.eContent.style.height=`${totalRowHeight}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},instanceIdSequence4=0,CellCtrl=class extends BeanStub{constructor(column,rowNode,beans,rowCtrl){super(),this.column=column,this.rowNode=rowNode,this.rowCtrl=rowCtrl,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=beans,this.gos=beans.gos,this.editSvc=beans.editSvc,this.hasEdit=!!beans.editSvc;const{colId}=column;this.instanceId=colId+"-"+instanceIdSequence4++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans}=this;this.positionFeature=new CellPositionFeature(this,beans),this.customStyleFeature=beans.cellStyles?.createCellCustomStyleFeature(this,beans),this.editStyleFeature=beans.editSvc?.createCellStyleFeature(this,beans),this.mouseListener=new CellMouseListenerFeature(this,beans,this.column),this.keyboardListener=new CellKeyboardListenerFeature(this,beans,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc}=beans;rangeSvc&&_isCellSelectionEnabled(beans.gos)&&(this.rangeFeature=rangeSvc.createCellRangeFeature(beans,this)),isRowNumberCol(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(beans,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const context=this.beans.context;this.positionFeature=context.destroyBean(this.positionFeature),this.editorTooltipFeature=context.destroyBean(this.editorTooltipFeature),this.customStyleFeature=context.destroyBean(this.customStyleFeature),this.editStyleFeature=context.destroyBean(this.editStyleFeature),this.mouseListener=context.destroyBean(this.mouseListener),this.keyboardListener=context.destroyBean(this.keyboardListener),this.rangeFeature=context.destroyBean(this.rangeFeature),this.rowResizeFeature=context.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(value,shouldDisplayTooltip){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,value,shouldDisplayTooltip)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(editor){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,editor),_populateModelValidationErrors(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(comp,eCell,_eWrapper,eCellWrapper,printLayout,startEditing,compBean){this.comp=comp,this.eGui=eCell,this.printLayout=printLayout,compBean??(compBean=this),this.addDomData(compBean),this.addFeatures(),compBean.addDestroyFunc((()=>this.removeFeatures())),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(eCellWrapper,compBean),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(comp),this.editStyleFeature?.setComp(comp),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(comp),this.rowResizeFeature?.refreshRowResizer(),startEditing&&this.isCellEditable()||this.hasEdit&&this.editSvc?.isEditing(this,{withOpenEditor:!0})?this.editSvc?.startEditing(this,{startedEdit:!1,source:"api",silent:!0,continueEditing:!0}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach((func=>func())),this.onCompAttachedFuncs=[])}setupAutoHeight(eCellWrapper,compBean){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,eCellWrapper,compBean)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const colDef=this.column.getColDef();return null!=colDef.cellRenderer||null!=colDef.cellRendererSelector}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans,column}=this,{userCompFactory,ctrlsSvc,eventSvc}=beans,colDef=column.getColDef(),params=this.createCellRendererParams();params.deferRender=!0;const loadingDetails=_getLoadingCellRendererDetails(userCompFactory,colDef,params);if(ctrlsSvc.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let resolver;const onReady=new AgPromise((resolve=>{resolver=resolve}));return this.addManagedListeners(eventSvc,{bodyScrollEnd:()=>resolver()}),{loadingComp:loadingDetails,onReady}}return{loadingComp:loadingDetails,onReady:AgPromise.resolve()}}showValue(forceNewCellRendererInstance,skipRangeHandleRefresh){const{beans,column,rowNode,rangeFeature}=this,{userCompFactory}=beans;let compDetails,valueToDisplay=this.getValueToDisplay();const isSsrmLoading=rowNode.stub&&null==rowNode.groupData?.[column.getId()],colDef=column.getColDef();if(isSsrmLoading||this.isCellRenderer()){const params=this.createCellRendererParams();compDetails=!isSsrmLoading||isRowNumberCol(column)?_getCellRendererDetails(userCompFactory,colDef,params):_getLoadingCellRendererDetails(userCompFactory,colDef,params)}if(!compDetails&&!isSsrmLoading&&beans.findSvc?.isMatch(rowNode,column)){const params=this.createCellRendererParams();compDetails=_getCellRendererDetails(userCompFactory,{...column.getColDef(),cellRenderer:"agFindCellRenderer"},params)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(rowNode,{checkSiblings:!0})){const result=this.editSvc.prepDetailsDuringBatch(this,{compDetails,valueToDisplay});result&&(result.compDetails?compDetails=result.compDetails:result.valueToDisplay&&(valueToDisplay=result.valueToDisplay))}this.comp.setRenderDetails(compDetails,valueToDisplay,forceNewCellRendererInstance),this.customRowDragComp?.refreshVisibility(),!skipRangeHandleRefresh&&rangeFeature&&_requestAnimationFrame(beans,(()=>rangeFeature?.refreshHandle())),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const colDef=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(colDef),!0),this.includeRowDrag=this.isIncludeControl(colDef.rowDrag),this.includeDndSource=this.isIncludeControl(colDef.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(value,allowManuallyPinned=!1){return(null==this.rowNode.rowPinned||allowManuallyPinned&&_isManualPinnedRow(this.rowNode))&&!!value}isCheckboxSelection(colDef){const{rowSelection,groupDisplayType}=this.beans.gridOptions,checkboxLocation=_getCheckboxLocation(rowSelection),isSelectionColumn=isColumnSelectionCol(this.column);return("custom"!==groupDisplayType||"selectionColumn"===checkboxLocation||!isSelectionColumn)&&(colDef.checkboxSelection||isSelectionColumn&&"object"==typeof rowSelection&&_getCheckboxes(rowSelection))}refreshShouldDestroy(){const colDef=this.column.getColDef(),selectionChanged=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(colDef),!0),rowDragChanged=this.includeRowDrag!=this.isIncludeControl(colDef.rowDrag),dndSourceChanged=this.includeDndSource!=this.isIncludeControl(colDef.dndSource),autoHeightChanged=this.isAutoHeight!=this.column.isAutoHeight();return selectionChanged||rowDragChanged||dndSourceChanged||autoHeightChanged}onPopupEditorClosed(){const{editSvc}=this.beans;editSvc?.isEditing(this,{withOpenEditor:!0})&&editSvc?.stopEditing(this,{source:editSvc?.isBatchEditing()?"ui":"api"})}stopEditing(cancel=!1){const{editSvc}=this.beans;return editSvc?.stopEditing(this,{cancel,source:editSvc?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value,valueFormatted,column,rowNode,comp,eGui,beans:{valueSvc,gos,editSvc}}=this;return _addGridCommonParams(gos,{value,valueFormatted,getValue:()=>valueSvc.getValueForDisplay(column,rowNode).value,setValue:value2=>editSvc?.setDataValue({rowNode,column},value2)||rowNode.setDataValue(column,value2),formatValue:this.formatValue.bind(this),data:rowNode.data,node:rowNode,pinned:column.getPinned(),colDef:column.getColDef(),column,refreshCell:this.refreshCell.bind(this),eGridCell:eGui,eParentOfValue:comp.getParentOfValue(),registerRowDragger:(rowDraggerElement,dragStartPixels,value2,suppressVisibilityChange)=>this.registerRowDragger(rowDraggerElement,dragStartPixels,suppressVisibilityChange),setTooltip:(value2,shouldDisplayTooltip)=>{gos.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(value2,shouldDisplayTooltip),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(event){event.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(params){if(this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(params),this.hasEdit&&this.editCompDetails){const{editSvc,comp}=this;!comp?.getCellEditor()&&editSvc.isEditing(this,{withOpenEditor:!0})&&editSvc.startEditing(this,{startedEdit:!1,source:"api",silent:!0})}}refreshCell({force,suppressFlash,newData}={}){if(this.suppressRefreshCell)return;const colDef=this.column.getColDef(),noValueProvided=null==colDef.field&&null==colDef.valueGetter&&null==colDef.showRowGroup,forceRefresh=force||noValueProvided||newData,isCellCompReady=!!this.comp,valuesDifferent=this.updateAndFormatValue(isCellCompReady);if(isCellCompReady){if(forceRefresh||valuesDifferent){this.showValue(!!newData,!1);const processingFilterChange=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!suppressFlash&&!processingFilterChange&&colDef.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(value){return this.callValueFormatter(value)??value}callValueFormatter(value){return this.beans.valueSvc.formatValue(this.column,this.rowNode,value)}updateAndFormatValue(compareValues){const oldValue=this.value,oldValueFormatted=this.valueFormatted,{value,valueFormatted}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=value,this.valueFormatted=valueFormatted,!compareValues||(!this.valuesAreEqual(oldValue,this.value)||this.valueFormatted!=oldValueFormatted)}valuesAreEqual(val1,val2){const colDef=this.column.getColDef();return colDef.equals?colDef.equals(val1,val2):val1===val2}addDomData(compBean){const element=this.eGui;_setDomData(this.beans.gos,element,DOM_DATA_KEY_CELL_CTRL,this),compBean.addDestroyFunc((()=>_setDomData(this.beans.gos,element,DOM_DATA_KEY_CELL_CTRL,null)))}createEvent(domEvent,eventType){const{rowNode,column,value,beans}=this;return function _createCellEvent(beans,domEvent,eventType,{rowNode,column},value){return _addGridCommonParams(beans.gos,{type:eventType,node:rowNode,data:rowNode.data,value,column,colDef:column.getColDef(),rowPinned:rowNode.rowPinned,event:domEvent,rowIndex:rowNode.rowIndex})}(beans,domEvent,eventType,{rowNode,column},value)}processCharacter(event){this.keyboardListener?.processCharacter(event)}onKeyDown(event){this.keyboardListener?.onKeyDown(event)}onMouseEvent(eventName,mouseEvent){this.mouseListener?.onMouseEvent(eventName,mouseEvent)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp,column,beans}=this;refreshFirstAndLastStyles(comp,column,beans.visibleCols)}refreshAriaColIndex(){const colIdx=this.beans.visibleCols.getAriaColIndex(this.column);_setAriaColIndex(this.eGui,colIdx)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex,rowPinned}=this.cellPosition;return{rowIndex,rowPinned}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return null!=this.rangeFeature}focusCell(forceBrowserFocus=!1,sourceEvent){const allowedTarget=this.editSvc?.allowedFocusTargetOnValidation(this);allowedTarget&&allowedTarget!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus,sourceEvent})}restoreFocus(waitForRender=!1){const{beans:{editSvc,focusSvc},comp}=this;if(!comp||editSvc?.isEditing(this)||!this.isCellFocused()||!focusSvc.shouldTakeFocus())return;const focus=()=>{if(!this.isAlive())return;const focusableElement=comp.getFocusableElement();this.isCellFocused()&&focusableElement.focus({preventScroll:!0})};waitForRender?setTimeout(focus,0):focus()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(suppressCellFocus){const element=this.eGui;element&&(isRowNumberCol(this.column)&&(suppressCellFocus=!0),_addOrRemoveAttribute(element,"tabindex",suppressCellFocus?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const firstRightPinned=this.column.isFirstRightPinned();this.comp.toggleCss("ag-cell-first-right-pinned",firstRightPinned)}onLastLeftPinnedChanged(){if(!this.comp)return;const lastLeftPinned=this.column.isLastLeftPinned();this.comp.toggleCss("ag-cell-last-left-pinned",lastLeftPinned)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const isFocused=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=isFocused),isFocused}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(event){const{beans}=this;if(_isCellFocusSuppressed(beans))return;if(!this.comp)return void(event&&(this.focusEventWhileNotReady=event));const cellFocused=this.isCellFocused(),editing=beans.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss("ag-cell-focus",cellFocused),cellFocused&&event&&event.forceBrowserFocus){let focusEl=this.comp.getFocusableElement();if(editing){const focusableEls=_findFocusableElements(focusEl,null,!0);focusableEls.length&&(focusEl=focusableEls[0])}focusEl.focus({preventScroll:!!event.preventScrollOnBrowserFocus})}cellFocused&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex,rowPinned}=this.rowNode;this.cellPosition={rowIndex,rowPinned:_makeNull(rowPinned),column:this.column}}applyStaticCssClasses(){const{comp}=this;comp.toggleCss("ag-cell",!0),comp.toggleCss("ag-cell-not-inline-editing",!0);const autoHeight=1==this.column.isAutoHeight();comp.toggleCss("ag-cell-auto-height",autoHeight),comp.toggleCss("ag-cell-normal-height",!autoHeight)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const value=1==this.column.getColDef().wrapText;this.comp.toggleCss("ag-cell-wrap-text",value)}dispatchCellContextMenuEvent(event){const colDef=this.column.getColDef(),cellContextMenuEvent=this.createEvent(event,"cellContextMenu"),{beans}=this;beans.eventSvc.dispatchEvent(cellContextMenuEvent),colDef.onCellContextMenu&&window.setTimeout((()=>{beans.frameworkOverrides.wrapOutgoing((()=>{colDef.onCellContextMenu(cellContextMenuEvent)}))}),0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(_getActiveDomElement(this.beans))??!1}createSelectionCheckbox(){const cbSelectionComponent=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(cbSelectionComponent)return this.beans.context.createBean(cbSelectionComponent),cbSelectionComponent.init({rowNode:this.rowNode,column:this.column}),cbSelectionComponent}createDndSource(){const dndSourceComp=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return dndSourceComp&&this.beans.context.createBean(dndSourceComp),dndSourceComp}registerRowDragger(customElement,dragStartPixels,alwaysVisible){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(customElement,dragStartPixels);const newComp=this.createRowDragComp(customElement,dragStartPixels,alwaysVisible);newComp&&(this.customRowDragComp=newComp,this.addDestroyFunc((()=>{this.beans.context.destroyBean(newComp),this.customRowDragComp=null})),newComp.refreshVisibility())}createRowDragComp(customElement,dragStartPixels,alwaysVisible){const rowDragComp=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,(()=>this.value),customElement,dragStartPixels,alwaysVisible);if(rowDragComp)return this.beans.context.createBean(rowDragComp),rowDragComp}cellEditorAttached(){this.onEditorAttachedFuncs.forEach((func=>func())),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(_cellPosition){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}};function calculateRowLevel(rowNode){if(rowNode.group)return rowNode.level;const parent=rowNode.parent;return parent?parent.level+1:0}var instanceIdSequence5=0,RowCtrl=class extends BeanStub{constructor(rowNode,beans,animateIn,useAnimationFrameForCreate,printLayout){super(),this.rowNode=rowNode,this.useAnimationFrameForCreate=useAnimationFrameForCreate,this.printLayout=printLayout,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=beans,this.gos=beans.gos,this.paginationPage=beans.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=rowNode.id+"-"+instanceIdSequence5++,this.rowId=_escapeString(rowNode.id),this.initRowBusinessKey(),this.rowFocused=beans.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(animateIn),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=beans.editSvc?.createRowStyleFeature(this,beans),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const businessKey=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=_escapeString(businessKey)}updateGui(containerType,gui){"left"===containerType?this.leftGui=gui:"right"===containerType?this.rightGui=gui:"fullWidth"===containerType?this.fullWidthGui=gui:this.centerGui=gui}setComp(rowComp,element,containerType,compBean){const{context,focusSvc}=this.beans,gui={rowComp,element,containerType,compBean:compBean=setupCompBean(this,context,compBean)};this.allRowGuis.push(gui),this.updateGui(containerType,gui),this.initialiseRowComp(gui);const rowNode=this.rowNode,isSsrmLoadingRow="FullWidthLoading"===this.rowType||rowNode.stub,isIrmLoadingRow=!rowNode.data&&"infinite"===this.beans.rowModel.getType();isSsrmLoadingRow||isIrmLoadingRow||rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const focusableElement=this.fullWidthGui?.element;if(focusableElement){const editing=this.beans.editSvc?.isEditing(this);!editing&&focusSvc.isRowFocused(rowNode.rowIndex,rowNode.rowPinned)&&focusSvc.shouldTakeFocus()&&setTimeout((()=>focusableElement.focus({preventScroll:!0})),0)}}unsetComp(containerType){this.allRowGuis=this.allRowGuis.filter((rowGui=>rowGui.containerType!==containerType)),this.updateGui(containerType,void 0)}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(cached){const displayValue=cached?"none":"";this.allRowGuis.forEach((rg=>rg.element.style.display=displayValue))}initialiseRowComp(gui){const gos=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(gui),this.onRowHeightChanged(gui),this.updateRowIndexes(gui),this.setFocusedClasses(gui),this.setStylesFromGridOptions(!1,gui),_isRowSelection(gos)&&this.rowNode.selectable&&this.onRowSelected(gui),this.updateColumnLists(!this.useAnimationFrameForCreate);const comp=gui.rowComp;this.getInitialRowClasses(gui.containerType).forEach((name=>comp.toggleCss(name,!0))),this.executeSlideAndFadeAnimations(gui),this.rowNode.group&&_setAriaExpanded(gui.element,1==this.rowNode.expanded),this.setRowCompRowId(comp),this.setRowCompRowBusinessKey(comp),_setDomData(gos,gui.element,"renderedRow",this),gui.compBean.addDestroyFunc((()=>_setDomData(gos,gui.element,"renderedRow",null))),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,gui),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(gui),this.isFullWidth()&&this.setupFullWidth(gui),gos.get("rowDragEntireRow")&&this.addRowDraggerToRow(gui),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask((()=>{this.isAlive()&&gui.rowComp.toggleCss("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(comp){null!=this.businessKey&&comp.setRowBusinessKey(this.businessKey)}setRowCompRowId(comp){const rowId=_escapeString(this.rowNode.id);this.rowId=rowId,null!=rowId&&comp.setRowId(rowId)}executeSlideAndFadeAnimations(gui){const{containerType}=gui;this.slideInAnimation[containerType]&&(_batchCall((()=>{this.onTopChanged()})),this.slideInAnimation[containerType]=!1);this.fadeInAnimation[containerType]&&(_batchCall((()=>{gui.rowComp.toggleCss("ag-opacity-zero",!1)})),this.fadeInAnimation[containerType]=!1)}addRowDraggerToRow(gui){const rowDragComp=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,gui.element);if(!rowDragComp)return;const rowDragBean=this.createBean(rowDragComp,this.beans.context);this.rowDragComps.push(rowDragBean),gui.compBean.addDestroyFunc((()=>{this.rowDragComps=this.rowDragComps.filter((r=>r!==rowDragBean)),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(rowDragBean,this.beans.context)}))}setupFullWidth(gui){const pinned=this.getPinnedForContainer(gui.containerType),compDetails=this.createFullWidthCompDetails(gui.element,pinned);gui.rowComp.showFullWidth(compDetails)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map((gui=>gui?.rowComp?.getFullWidthCellRenderer())):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const func=this.gos.getCallback("processRowPostCreate");if(!func||!this.areAllContainersReady())return;func({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const{leftGui,centerGui,rightGui,beans:{visibleCols}}=this,isLeftReady=!!leftGui||!visibleCols.isPinningLeft(),isCenterReady=!!centerGui,isRightReady=!!rightGui||!visibleCols.isPinningRight();return isLeftReady&&isCenterReady&&isRightReady}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const isFullWidthCellFunc=this.beans.gos.getCallback("isFullWidthRow");return!!isFullWidthCellFunc&&isFullWidthCellFunc({rowNode:this.rowNode})}setRowType(){const isStub=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),isFullWidthCell=this.isNodeFullWidthCell(),isDetailCell=this.gos.get("masterDetail")&&this.rowNode.detail,pivotMode=this.beans.colModel.isPivotMode(),isFullWidthGroup=_isFullWidthGroupRow(this.gos,this.rowNode,pivotMode);this.rowType=isStub?"FullWidthLoading":isDetailCell?"FullWidthDetail":isFullWidthCell?"FullWidth":isFullWidthGroup?"FullWidthGroup":"Normal"}updateColumnLists(suppressAnimationFrame=!1,useFlushSync=!1){if(this.isFullWidth())return;const{animationFrameSvc}=this.beans;!animationFrameSvc?.active||suppressAnimationFrame||this.printLayout?this.updateColumnListsImpl(useFlushSync):this.updateColumnListsPending||(animationFrameSvc.createTask((()=>{this.active&&this.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(col){const isCellSpan=this.beans.rowSpanSvc?.isCellSpanning(col,this.rowNode);if(!isCellSpan)return new CellCtrl(col,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(cell){return!this.beans.rowSpanSvc?.isCellSpanning(cell.column,this.rowNode)}createCellCtrls(prev,cols,pinned=null){const res={list:[],map:{}},addCell=(colInstanceId,cellCtrl,index)=>{null!=index?res.list.splice(index,0,cellCtrl):res.list.push(cellCtrl),res.map[colInstanceId]=cellCtrl},colsFromPrev=[];for(const col of cols){const colInstanceId=col.getInstanceId();let cellCtrl=prev.map[colInstanceId];cellCtrl&&!this.isCorrectCtrlForSpan(cellCtrl)&&(cellCtrl.destroy(),cellCtrl=void 0),cellCtrl||(cellCtrl=this.getNewCellCtrl(col)),cellCtrl&&addCell(colInstanceId,cellCtrl)}for(const prevCellCtrl of prev.list){const colInstanceId=prevCellCtrl.column.getInstanceId();if(null!=res.map[colInstanceId])continue;!this.isCellEligibleToBeRemoved(prevCellCtrl,pinned)?colsFromPrev.push([colInstanceId,prevCellCtrl]):prevCellCtrl.destroy()}if(colsFromPrev.length)for(const[colInstanceId,cellCtrl]of colsFromPrev){const index=res.list.findIndex((ctrl=>ctrl.column.getLeft()>cellCtrl.column.getLeft())),normalisedIndex=-1===index?void 0:Math.max(index-1,0);addCell(colInstanceId,cellCtrl,normalisedIndex)}const{focusSvc,visibleCols}=this.beans,focusedCell=focusSvc.getFocusedCell();if(focusedCell&&focusedCell.column.getPinned()==pinned){const focusedColInstanceId=focusedCell.column.getInstanceId();if(!res.map[focusedColInstanceId]&&visibleCols.allCols.includes(focusedCell.column)){const cellCtrl=this.createFocusedCellCtrl();if(cellCtrl){const index=res.list.findIndex((ctrl=>ctrl.column.getLeft()>cellCtrl.column.getLeft())),normalisedIndex=-1===index?void 0:Math.max(index-1,0);addCell(focusedColInstanceId,cellCtrl,normalisedIndex)}}}return res}createFocusedCellCtrl(){const{focusSvc,rowSpanSvc}=this.beans,focusedCell=focusSvc.getFocusedCell();if(!focusedCell)return;const focusedSpan=rowSpanSvc?.getCellSpan(focusedCell.column,this.rowNode);if(focusedSpan){if(focusedSpan.firstNode!==this.rowNode||!focusedSpan.doesSpanContain(focusedCell))return}else if(!focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(focusedCell.column)}updateColumnListsImpl(useFlushSync){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(useFlushSync)}setCellCtrls(useFlushSync){this.allRowGuis.forEach((item=>{const cellControls=this.getCellCtrlsForContainer(item.containerType);item.rowComp.setCellCtrls(cellControls,useFlushSync)}))}getCellCtrlsForContainer(containerType){switch(containerType){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const colViewport=this.beans.colViewport,presentedColsService=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,presentedColsService.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const centerCols=colViewport.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,centerCols);const leftCols=presentedColsService.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,leftCols,"left");const rightCols=presentedColsService.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,rightCols,"right")}}isCellEligibleToBeRemoved(cellCtrl,nextContainerPinned){const{column}=cellCtrl;if(column.getPinned()!=nextContainerPinned)return true;if(!this.isCorrectCtrlForSpan(cellCtrl))return true;const{visibleCols,editSvc}=this.beans,editing=editSvc?.isEditing(cellCtrl),focused=cellCtrl.isCellFocused();if(editing||focused){return!(visibleCols.allCols.indexOf(column)>=0)}return true}getDomOrder(){return this.gos.get("ensureDomOrder")||_isDomLayout(this.gos,"print")}listenOnDomOrder(gui){gui.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],(()=>{gui.rowComp.setDomOrder(this.getDomOrder())}))}setAnimateFlags(animateIn){if(this.rowNode.sticky||!animateIn)return;const oldRowTopExists=_exists(this.rowNode.oldRowTop),{visibleCols}=this.beans,pinningLeft=visibleCols.isPinningLeft(),pinningRight=visibleCols.isPinningRight();if(oldRowTopExists){const{slideInAnimation}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(slideInAnimation.fullWidth=!0);slideInAnimation.center=!0,slideInAnimation.left=pinningLeft,slideInAnimation.right=pinningRight}else{const{fadeInAnimation}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(fadeInAnimation.fullWidth=!0);fadeInAnimation.center=!0,fadeInAnimation.left=pinningLeft,fadeInAnimation.right=pinningRight}}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){const tryRefresh=(gui,pinned)=>!gui||gui.rowComp.refreshFullWidth((()=>this.createFullWidthCompDetails(gui.element,pinned).params)),fullWidthSuccess=tryRefresh(this.fullWidthGui,null),centerSuccess=tryRefresh(this.centerGui,null),leftSuccess=tryRefresh(this.leftGui,"left"),rightSuccess=tryRefresh(this.rightGui,"right");return fullWidthSuccess&&centerSuccess&&leftSuccess&&rightSuccess}addListeners(){const{beans,gos,rowNode}=this,{expansionSvc,eventSvc,context,rowSpanSvc}=beans;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...expansionSvc?.getRowExpandedListeners(this)??{}}),rowNode.detail&&this.addManagedListeners(rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),rowSpanSvc&&this.addManagedListeners(rowSpanSvc,{spannedCellsUpdated:({pinned})=>{pinned&&!rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc((()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,context),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,context)})),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",(()=>{gos.get("rowDragEntireRow")?this.allRowGuis.forEach((gui=>{this.addRowDraggerToRow(gui)})):this.rowDragComps=this.destroyBeans(this.rowDragComps,context)})),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onRowIndexChanged())),cellChanged:event=>this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onCellChanged(event)))})}onRowPinned(){for(const gui of this.allRowGuis)gui.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(event){this.refreshRow({suppressFlash:!event.update,newData:!event.update})}refreshRow(params){if(this.isFullWidth()!==!!this.isNodeFullWidthCell())this.beans.rowRenderer.redrawRow(this.rowNode);else if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode)}else this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.refreshCell(params))),this.allRowGuis.forEach((gui=>{this.setRowCompRowId(gui.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(gui.rowComp)})),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const rowDropHighlightSvc=this.beans.rowDropHighlightSvc,highlighted=rowDropHighlightSvc?.row===this.rowNode?rowDropHighlightSvc.position:"none",aboveOn="above"===highlighted,insideOn="inside"===highlighted,belowOn="below"===highlighted,indented=this.gos.get("treeData")&&(belowOn||aboveOn),uiLevel=this.rowNode.uiLevel.toString();this.allRowGuis.forEach((gui=>{const rowComp=gui.rowComp;rowComp.toggleCss("ag-row-highlight-above",aboveOn),rowComp.toggleCss("ag-row-highlight-inside",insideOn),rowComp.toggleCss("ag-row-highlight-below",belowOn),rowComp.toggleCss("ag-row-highlight-indent",indented),indented?gui.element.style.setProperty("--ag-row-highlight-level",uiLevel):gui.element.style.removeProperty("--ag-row-highlight-level")}))}postProcessRowDragging(){const dragging=this.rowNode.dragging;this.allRowGuis.forEach((gui=>gui.rowComp.toggleCss("ag-row-dragging",dragging)))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:_makeNull(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(keyboardEvent){const groupInfo=this.findFullWidthInfoForEvent(keyboardEvent);if(!groupInfo)return;const{rowGui,column}=groupInfo;if(!(rowGui.element===keyboardEvent.target))return;const node=this.rowNode,{focusSvc,navigation}=this.beans,lastFocusedCell=focusSvc.getFocusedCell(),cellPosition={rowIndex:node.rowIndex,rowPinned:node.rowPinned,column:lastFocusedCell?.column??column};navigation?.navigateToNextCell(keyboardEvent,keyboardEvent.key,cellPosition,!0),keyboardEvent.preventDefault()}onTabKeyDown(keyboardEvent){if(keyboardEvent.defaultPrevented||_isStopPropagationForAgGrid(keyboardEvent))return;const currentFullWidthComp=this.allRowGuis.find((c=>c.element.contains(keyboardEvent.target))),currentFullWidthContainer=currentFullWidthComp?currentFullWidthComp.element:null,isFullWidthContainerFocused=currentFullWidthContainer===keyboardEvent.target,activeEl=_getActiveDomElement(this.beans);let isDetailGridCellFocused=!1;currentFullWidthContainer&&activeEl&&(isDetailGridCellFocused=currentFullWidthContainer.contains(activeEl)&&activeEl.classList.contains("ag-cell"));let nextEl=null;isFullWidthContainerFocused||isDetailGridCellFocused||(nextEl=_findNextFocusableElement(this.beans,currentFullWidthContainer,!1,keyboardEvent.shiftKey)),(this.isFullWidth()&&isFullWidthContainerFocused||!nextEl)&&this.beans.navigation?.onTabKeyDown(this,keyboardEvent)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const displayedEl=this.allRowGuis.find((el=>_isVisible(el.element)))?.element;return displayedEl?displayedEl.getBoundingClientRect().top:0}onSuppressCellFocusChanged(suppressCellFocus){const tabIndex=this.isFullWidth()&&suppressCellFocus?void 0:this.gos.get("tabIndex");this.allRowGuis.forEach((gui=>{_addOrRemoveAttribute(gui.element,"tabindex",tabIndex)}))}onFullWidthRowFocused(event){const node=this.rowNode,isFocused=!!event&&(this.isFullWidth()&&event.rowIndex===node.rowIndex&&event.rowPinned==node.rowPinned);let element;if(this.fullWidthGui)element=this.fullWidthGui.element;else{const column=this.beans.colModel.getCol(event?.column),pinned=column?.pinned;element=pinned?"right"===pinned?this.rightGui?.element:this.leftGui?.element:this.centerGui?.element}element&&(element.classList.toggle("ag-full-width-focus",isFocused),isFocused&&event?.forceBrowserFocus&&element.focus({preventScroll:!0}))}recreateCell(cellCtrl){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,cellCtrl),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,cellCtrl),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,cellCtrl),cellCtrl.destroy(),this.updateColumnLists()}removeCellCtrl(prev,cellCtrlToRemove){const res={list:[],map:{}};return prev.list.forEach((cellCtrl=>{cellCtrl!==cellCtrlToRemove&&(res.list.push(cellCtrl),res.map[cellCtrl.column.getInstanceId()]=cellCtrl)})),res}onMouseEvent(eventName,mouseEvent){switch(eventName){case"dblclick":this.onRowDblClick(mouseEvent);break;case"click":this.onRowClick(mouseEvent);break;case"touchstart":case"mousedown":this.onRowMouseDown(mouseEvent)}}createRowEvent(type,domEvent){const{rowNode}=this;return _addGridCommonParams(this.gos,{type,node:rowNode,data:rowNode.data,rowIndex:rowNode.rowIndex,rowPinned:rowNode.rowPinned,event:domEvent})}createRowEventWithSource(type,domEvent){const event=this.createRowEvent(type,domEvent);return event.source=this,event}onRowDblClick(mouseEvent){if(_isStopPropagationForAgGrid(mouseEvent))return;const rowEvent=this.createRowEventWithSource("rowDoubleClicked",mouseEvent);rowEvent.isEventHandlingSuppressed=this.isSuppressMouseEvent(mouseEvent),this.beans.eventSvc.dispatchEvent(rowEvent)}findFullWidthInfoForEvent(event){if(!event)return;const rowGui=this.findFullWidthRowGui(event.target),column=this.getColumnForFullWidth(rowGui);return rowGui&&column?{rowGui,column}:void 0}findFullWidthRowGui(target){return this.allRowGuis.find((c=>c.element.contains(target)))}getColumnForFullWidth(fullWidthRowGui){const{visibleCols}=this.beans;switch(fullWidthRowGui?.containerType){case"center":return visibleCols.centerCols[0];case"left":return visibleCols.leftCols[0];case"right":return visibleCols.rightCols[0];default:return visibleCols.allCols[0]}}onRowMouseDown(mouseEvent){if(this.lastMouseDownOnDragger=_isElementChildOfClass(mouseEvent.target,"ag-row-drag",3),!this.isFullWidth()||this.isSuppressMouseEvent(mouseEvent))return;const{rangeSvc,focusSvc}=this.beans;rangeSvc?.removeAllCellRanges();const groupInfo=this.findFullWidthInfoForEvent(mouseEvent);if(!groupInfo)return;const{rowGui,column}=groupInfo,element=rowGui.element,target=mouseEvent.target,node=this.rowNode;let forceBrowserFocus=mouseEvent.defaultPrevented||_isBrowserSafari();element&&element.contains(target)&&_isFocusableFormField(target)&&(forceBrowserFocus=!1),focusSvc.setFocusedCell({rowIndex:node.rowIndex,column,rowPinned:node.rowPinned,forceBrowserFocus})}isSuppressMouseEvent(mouseEvent){const{gos,rowNode}=this;if(this.isFullWidth()){const fullWidthRowGui=this.findFullWidthRowGui(mouseEvent.target);return function _suppressFullWidthMouseEvent(gos,cellRendererParams,node,event){const suppressMouseEventHandling=cellRendererParams?.suppressMouseEventHandling;return suppressMouseEvent(gos,void 0,node,event,suppressMouseEventHandling)}(gos,fullWidthRowGui?.rowComp.getFullWidthCellRendererParams(),rowNode,mouseEvent)}const cellCtrl=_getCellCtrlForEventTarget(gos,mouseEvent.target);return null!=cellCtrl&&_suppressCellMouseEvent(gos,cellCtrl.column,rowNode,mouseEvent)}onRowClick(mouseEvent){if(_isStopPropagationForAgGrid(mouseEvent)||this.lastMouseDownOnDragger)return;const isSuppressMouseEvent=this.isSuppressMouseEvent(mouseEvent),{eventSvc,selectionSvc}=this.beans,rowEvent=this.createRowEventWithSource("rowClicked",mouseEvent);rowEvent.isEventHandlingSuppressed=isSuppressMouseEvent,eventSvc.dispatchEvent(rowEvent),isSuppressMouseEvent||selectionSvc?.handleSelectionEvent(mouseEvent,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(eDetailGui){"FullWidthDetail"===this.rowType&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,eDetailGui)}createFullWidthCompDetails(eRow,pinned){const{gos,rowNode}=this,params=_addGridCommonParams(gos,{fullWidth:!0,data:rowNode.data,node:rowNode,value:rowNode.key,valueFormatted:rowNode.key,eGridCell:eRow,eParentOfValue:eRow,pinned,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(rowDraggerElement,dragStartPixels,value,rowDragEntireRow)=>this.addFullWidthRowDragging(rowDraggerElement,dragStartPixels,value,rowDragEntireRow),setTooltip:(value,shouldDisplayTooltip)=>{gos.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(value,shouldDisplayTooltip)}}),compFactory=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return function _getFullWidthDetailCellRendererDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(FullWidthDetail,"agDetailCellRenderer",params,!0)}(compFactory,params);case"FullWidthGroup":{const{value,valueFormatted}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return params.value=value,params.valueFormatted=valueFormatted,function _getFullWidthGroupCellRendererDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(FullWidthGroup,"agGroupRowRenderer",params,!0)}(compFactory,params)}case"FullWidthLoading":return function _getFullWidthLoadingCellRendererDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(FullWidthLoading,"agLoadingCellRenderer",params,!0)}(compFactory,params);default:return function _getFullWidthCellRendererDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(FullWidth,void 0,params,!0)}(compFactory,params)}}setupFullWidthRowTooltip(value,shouldDisplayTooltip){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,value,shouldDisplayTooltip))}addFullWidthRowDragging(rowDraggerElement,dragStartPixels,value="",alwaysVisible){const{rowDragSvc,context}=this.beans;if(!rowDragSvc||!this.isFullWidth())return;const rowDragComp=rowDragSvc.createRowDragComp((()=>value),this.rowNode,void 0,rowDraggerElement,dragStartPixels,alwaysVisible);this.createBean(rowDragComp,context),this.addDestroyFunc((()=>{this.destroyBean(rowDragComp,context)}))}onUiLevelChanged(){const newLevel=calculateRowLevel(this.rowNode);if(this.rowLevel!=newLevel){const classToAdd="ag-row-level-"+newLevel,classToRemove="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((gui=>{gui.rowComp.toggleCss(classToAdd,!0),gui.rowComp.toggleCss(classToRemove,!1)}))}this.rowLevel=newLevel}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const newFirst=this.isFirstRowOnPage(),newLast=this.isLastRowOnPage();this.firstRowOnPage!==newFirst&&(this.firstRowOnPage=newFirst,this.allRowGuis.forEach((gui=>gui.rowComp.toggleCss("ag-row-first",newFirst)))),this.lastRowOnPage!==newLast&&(this.lastRowOnPage=newLast,this.allRowGuis.forEach((gui=>gui.rowComp.toggleCss("ag-row-last",newLast))))}getAllCellCtrls(){if(0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length)return this.centerCellCtrls.list;return[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const cssClasses=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(cssClasses,this.rowNode),cssClasses.length&&cssClasses.forEach((classStr=>{this.allRowGuis.forEach((c=>c.rowComp.toggleCss(classStr,!0)))}))}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,(className=>{this.allRowGuis.forEach((gui=>gui.rowComp.toggleCss(className,!0)))}),(className=>{this.allRowGuis.forEach((gui=>gui.rowComp.toggleCss(className,!1)))}))}setStylesFromGridOptions(updateStyles,gui){updateStyles&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(gui,(gui2=>gui2.rowComp.setUserStyles(this.rowStyles)))}getPinnedForContainer(rowContainerType){return"left"===rowContainerType||"right"===rowContainerType?rowContainerType:null}getInitialRowClasses(rowContainerType){const pinned=this.getPinnedForContainer(rowContainerType),fullWidthRow=this.isFullWidth(),{rowNode,beans}=this,classes=[];classes.push("ag-row"),classes.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[rowContainerType]&&classes.push("ag-opacity-zero"),classes.push(rowNode.rowIndex%2==0?"ag-row-even":"ag-row-odd"),rowNode.isRowPinned()&&(classes.push("ag-row-pinned"),beans.pinnedRowModel?.isManual()&&classes.push("ag-row-pinned-manual")),!rowNode.isRowPinned()&&rowNode.pinnedSibling&&classes.push("ag-row-pinned-source"),rowNode.isSelected()&&classes.push("ag-row-selected"),rowNode.footer&&classes.push("ag-row-footer"),classes.push("ag-row-level-"+this.rowLevel),rowNode.stub&&classes.push("ag-row-loading"),fullWidthRow&&classes.push("ag-full-width-row"),beans.expansionSvc?.addExpandedCss(classes,rowNode),rowNode.dragging&&classes.push("ag-row-dragging");const{rowStyleSvc}=beans;return rowStyleSvc&&(rowStyleSvc.processClassesFromGridOptions(classes,rowNode),rowStyleSvc.preProcessRowClassRules(classes,rowNode)),classes.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&classes.push("ag-row-first"),this.isLastRowOnPage()&&classes.push("ag-row-last"),fullWidthRow&&("left"===pinned&&classes.push("ag-cell-last-left-pinned"),"right"===pinned&&classes.push("ag-cell-first-right-pinned")),classes}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(gui){this.beans.selectionSvc?.onRowCtrlSelected(this,(gui2=>{gui2!==this.centerGui&&gui2!==this.fullWidthGui||this.announceDescription()}),gui)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(eGui){if(!this.active)return;const{element,compBean}=eGui,{rowNode,beans,gos}=this;compBean.addManagedListeners(element,{pointerenter:e=>{"mouse"===e.pointerType&&rowNode.dispatchRowEvent("mouseEnter")},pointerleave:e=>{"mouse"===e.pointerType&&rowNode.dispatchRowEvent("mouseLeave")}}),compBean.addManagedListeners(rowNode,{mouseEnter:()=>{beans.dragSvc?.dragging||gos.get("suppressRowHoverHighlight")||(element.classList.add("ag-row-hover"),rowNode.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(element)}})}resetHoveredStatus(el){const elements=el?[el]:this.allRowGuis.map((gui=>gui.element));for(const element of elements)element.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(rowTop){const range=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),minPixel=this.applyPaginationOffset(range.top,!0)-100,maxPixel=this.applyPaginationOffset(range.bottom,!0)+100;return Math.min(Math.max(minPixel,rowTop),maxPixel)}forEachGui(gui,callback){gui?callback(gui):this.allRowGuis.forEach(callback)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(gui){if(null==this.rowNode.rowHeight)return;const rowHeight=this.rowNode.rowHeight,defaultRowHeight=this.beans.environment.getDefaultRowHeight(),heightFromFunc=_isGetRowHeightFunction(this.gos)?_getRowHeightForNode(this.beans,this.rowNode).height:void 0,lineHeight=heightFromFunc?Math.min(defaultRowHeight,heightFromFunc)-2+"px":void 0;this.forEachGui(gui,(gui2=>{gui2.element.style.height=`${rowHeight}px`,lineHeight&&gui2.element.style.setProperty("--ag-line-height",lineHeight)}))}destroyFirstPass(suppressAnimation=!1){this.active=!1;const{rowNode}=this;if(!suppressAnimation&&_isAnimateRows(this.gos)&&!rowNode.sticky){if(null!=rowNode.rowTop){const rowTop=this.roundRowTopToBounds(rowNode.rowTop);this.setRowTop(rowTop)}else this.allRowGuis.forEach((gui=>gui.rowComp.toggleCss("ag-opacity-zero",!0)))}this.fullWidthGui?.element.contains(_getActiveDomElement(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),rowNode.setHovered(!1);const event=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(event),this.beans.eventSvc.dispatchEvent(event),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const destroyCellCtrls=ctrls=>(ctrls.list.forEach((c=>c.destroy())),{list:[],map:{}});this.centerCellCtrls=destroyCellCtrls(this.centerCellCtrls),this.leftCellCtrls=destroyCellCtrls(this.leftCellCtrls),this.rightCellCtrls=destroyCellCtrls(this.rightCellCtrls)}setFocusedClasses(gui){this.forEachGui(gui,(gui2=>{gui2.rowComp.toggleCss("ag-row-focus",this.rowFocused),gui2.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)}))}onCellFocusChanged(){const{focusSvc}=this.beans,rowFocused=focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);rowFocused!==this.rowFocused&&(this.rowFocused=rowFocused,this.setFocusedClasses())}onPaginationChanged(){const currentPage=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==currentPage&&(this.paginationPage=currentPage,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(topPx,reverse=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return topPx;return topPx+this.beans.pageBounds.getPixelOffset()*(reverse?1:-1)}setRowTop(pixels){if(!this.printLayout&&_exists(pixels)){const afterPaginationPixels=this.applyPaginationOffset(pixels),topPx=`${this.rowNode.isRowPinned()||this.rowNode.sticky?afterPaginationPixels:this.beans.rowContainerHeight.getRealPixelPosition(afterPaginationPixels)}px`;this.setRowTopStyle(topPx)}}getInitialRowTop(rowContainerType){return this.suppressRowTransform?this.getInitialRowTopShared(rowContainerType):void 0}getInitialTransform(rowContainerType){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(rowContainerType)})`}getInitialRowTopShared(rowContainerType){if(this.printLayout)return"";const rowNode=this.rowNode;let rowTop;if(rowNode.sticky)rowTop=rowNode.stickyRowTop;else{const pixels=this.slideInAnimation[rowContainerType]?this.roundRowTopToBounds(rowNode.oldRowTop):rowNode.rowTop,afterPaginationPixels=this.applyPaginationOffset(pixels);rowTop=rowNode.isRowPinned()?afterPaginationPixels:this.beans.rowContainerHeight.getRealPixelPosition(afterPaginationPixels)}return rowTop+"px"}setRowTopStyle(topPx){this.allRowGuis.forEach((gui=>this.suppressRowTransform?gui.rowComp.setTop(topPx):gui.rowComp.setTransform(`translateY(${topPx})`)))}getCellCtrl(column,skipColSpanSearch=!1){let res=null;return this.getAllCellCtrls().forEach((cellCtrl=>{cellCtrl.column==column&&(res=cellCtrl)})),null!=res||skipColSpanSearch||this.getAllCellCtrls().forEach((cellCtrl=>{cellCtrl?.getColSpanningList().indexOf(column)>=0&&(res=cellCtrl)})),res}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(gui){const rowIndexStr=this.rowNode.getRowIndexString();if(null===rowIndexStr)return;const headerRowCount=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),rowIsEven=this.rowNode.rowIndex%2==0,ariaRowIndex=headerRowCount+this.rowNode.rowIndex+1;this.forEachGui(gui,(c=>{c.rowComp.setRowIndex(rowIndexStr),c.rowComp.toggleCss("ag-row-even",rowIsEven),c.rowComp.toggleCss("ag-row-odd",!rowIsEven),_setAriaRowIndex(c.element,ariaRowIndex)}))}};function getVScroll(beans){return beans.ctrlsSvc.getScrollFeature().getVScrollPosition()}var KeyboardNavigationModule={moduleName:"KeyboardNavigation",version:VERSION,beans:[class extends BeanStub{constructor(){super(),this.beanName="navigation",this.onPageDown=_throttle(this.onPageDown,100),this.onPageUp=_throttle(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,(p=>{this.gridBodyCon=p.gridBodyCtrl}))}handlePageScrollingKey(event,fromFullWidth=!1){const key=event.key,alt=event.altKey,ctrl=event.ctrlKey||event.metaKey,rangeServiceShouldHandleShift=!!this.beans.rangeSvc&&event.shiftKey,currentCell=function _getCellPositionForEvent(gos,event){return _getCellCtrlForEventTarget(gos,event.target)?.getFocusedCellPosition()??null}(this.gos,event);let processed=!1;switch(key){case KeyCode_PAGE_HOME:case KeyCode_PAGE_END:ctrl||alt||(this.onHomeOrEndKey(key),processed=!0);break;case KeyCode_LEFT:case KeyCode_RIGHT:case KeyCode_UP:case KeyCode_DOWN:if(!currentCell)return!1;!ctrl||alt||rangeServiceShouldHandleShift||(this.onCtrlUpDownLeftRight(key,currentCell),processed=!0);break;case KeyCode_PAGE_DOWN:case KeyCode_PAGE_UP:ctrl||alt||(processed=this.handlePageUpDown(key,currentCell,fromFullWidth))}return processed&&event.preventDefault(),processed}handlePageUpDown(key,currentCell,fromFullWidth){return fromFullWidth&&(currentCell=this.beans.focusSvc.getFocusedCell()),!!currentCell&&(key===KeyCode_PAGE_UP?this.onPageUp(currentCell):this.onPageDown(currentCell),!0)}navigateTo({scrollIndex,scrollType,scrollColumn,focusIndex,focusColumn,isAsync,rowPinned}){const{scrollFeature}=this.gridBodyCon;_exists(scrollColumn)&&!scrollColumn.isPinned()&&scrollFeature.ensureColumnVisible(scrollColumn),_exists(scrollIndex)&&scrollFeature.ensureIndexVisible(scrollIndex,scrollType),isAsync||scrollFeature.ensureIndexVisible(focusIndex);const{focusSvc,rangeSvc}=this.beans;focusSvc.setFocusedCell({rowIndex:focusIndex,column:focusColumn,rowPinned,forceBrowserFocus:!0}),rangeSvc?.setRangeToCell({rowIndex:focusIndex,rowPinned,column:focusColumn})}onPageDown(gridCell){const beans=this.beans,scrollPosition=getVScroll(beans),pixelsInOnePage=this.getViewportHeight(),{pageBounds,rowModel,rowAutoHeight}=beans,pagingPixelOffset=pageBounds.getPixelOffset(),currentPageBottomPixel=scrollPosition.top+pixelsInOnePage,currentPageBottomRow=rowModel.getRowIndexAtPixel(currentPageBottomPixel+pagingPixelOffset);rowAutoHeight?.active?this.navigateToNextPageWithAutoHeight(gridCell,currentPageBottomRow):this.navigateToNextPage(gridCell,currentPageBottomRow)}onPageUp(gridCell){const beans=this.beans,scrollPosition=getVScroll(beans),{pageBounds,rowModel,rowAutoHeight}=beans,pagingPixelOffset=pageBounds.getPixelOffset(),currentPageTopPixel=scrollPosition.top,currentPageTopRow=rowModel.getRowIndexAtPixel(currentPageTopPixel+pagingPixelOffset);rowAutoHeight?.active?this.navigateToNextPageWithAutoHeight(gridCell,currentPageTopRow,!0):this.navigateToNextPage(gridCell,currentPageTopRow,!0)}navigateToNextPage(gridCell,scrollIndex,up=!1){const{pageBounds,rowModel}=this.beans,pixelsInOnePage=this.getViewportHeight(),firstRow=pageBounds.getFirstRow(),lastRow=pageBounds.getLastRow(),pagingPixelOffset=pageBounds.getPixelOffset(),currentRowNode=rowModel.getRow(gridCell.rowIndex),rowPixelDiff=up?currentRowNode?.rowHeight-pixelsInOnePage-pagingPixelOffset:pixelsInOnePage-pagingPixelOffset,nextCellPixel=currentRowNode?.rowTop+rowPixelDiff;let scrollType,focusIndex=rowModel.getRowIndexAtPixel(nextCellPixel+pagingPixelOffset);if(focusIndex===gridCell.rowIndex){const diff=up?-1:1;scrollIndex=focusIndex=gridCell.rowIndex+diff}up?(scrollType="bottom",focusIndex<firstRow&&(focusIndex=firstRow),scrollIndex<firstRow&&(scrollIndex=firstRow)):(scrollType="top",focusIndex>lastRow&&(focusIndex=lastRow),scrollIndex>lastRow&&(scrollIndex=lastRow)),this.isRowTallerThanView(rowModel.getRow(focusIndex))&&(scrollIndex=focusIndex,scrollType="top"),this.navigateTo({scrollIndex,scrollType,scrollColumn:null,focusIndex,focusColumn:gridCell.column})}navigateToNextPageWithAutoHeight(gridCell,scrollIndex,up=!1){this.navigateTo({scrollIndex,scrollType:up?"bottom":"top",scrollColumn:null,focusIndex:scrollIndex,focusColumn:gridCell.column}),setTimeout((()=>{const focusIndex=this.getNextFocusIndexForAutoHeight(gridCell,up);this.navigateTo({scrollIndex,scrollType:up?"bottom":"top",scrollColumn:null,focusIndex,focusColumn:gridCell.column,isAsync:!0})}),50)}getNextFocusIndexForAutoHeight(gridCell,up=!1){const step=up?-1:1,pixelsInOnePage=this.getViewportHeight(),{pageBounds,rowModel}=this.beans,lastRowIndex=pageBounds.getLastRow();let pixelSum=0,currentIndex=gridCell.rowIndex;for(;currentIndex>=0&&currentIndex<=lastRowIndex;){const currentCell=rowModel.getRow(currentIndex);if(currentCell){const currentCellHeight=currentCell.rowHeight??0;if(pixelSum+currentCellHeight>pixelsInOnePage)break;pixelSum+=currentCellHeight}currentIndex+=step}return Math.max(0,Math.min(currentIndex,lastRowIndex))}getViewportHeight(){const beans=this.beans,scrollPosition=getVScroll(beans),scrollbarWidth=this.beans.scrollVisibleSvc.getScrollbarWidth();let pixelsInOnePage=scrollPosition.bottom-scrollPosition.top;return beans.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(pixelsInOnePage-=scrollbarWidth),pixelsInOnePage}isRowTallerThanView(rowNode){if(!rowNode)return!1;const rowHeight=rowNode.rowHeight;return"number"==typeof rowHeight&&rowHeight>this.getViewportHeight()}onCtrlUpDownLeftRight(key,gridCell){const cellToFocus=this.beans.cellNavigation.getNextCellToFocus(key,gridCell,!0),normalisedPosition=this.getNormalisedPosition(cellToFocus),{rowIndex,rowPinned,column}=normalisedPosition??cellToFocus,col=column;this.navigateTo({scrollIndex:rowIndex,scrollType:null,scrollColumn:col,focusIndex:rowIndex,focusColumn:col,rowPinned})}onHomeOrEndKey(key){const homeKey=key===KeyCode_PAGE_HOME,{visibleCols,pageBounds,rowModel}=this.beans,allColumns=visibleCols.allCols,scrollIndex=homeKey?pageBounds.getFirstRow():pageBounds.getLastRow(),rowNode=rowModel.getRow(scrollIndex);if(!rowNode)return;const columnToSelect=(homeKey?allColumns:[...allColumns].reverse()).find((col=>!col.isSuppressNavigable(rowNode)));columnToSelect&&this.navigateTo({scrollIndex,scrollType:null,scrollColumn:columnToSelect,focusIndex:scrollIndex,focusColumn:columnToSelect})}onTabKeyDown(previous,keyboardEvent){const backwards=keyboardEvent.shiftKey,movedToNextCell=this.tabToNextCellCommon(previous,backwards,keyboardEvent),beans=this.beans,{ctrlsSvc,pageBounds,focusSvc,gos}=beans;if(!1===movedToNextCell)if(backwards){const{rowIndex,rowPinned}=previous.getRowPosition();(rowPinned?0===rowIndex:rowIndex===pageBounds.getFirstRow())&&(0===gos.get("headerHeight")||_isHeaderFocusSuppressed(beans)?_focusNextGridCoreContainer(beans,!0,!0):(keyboardEvent.preventDefault(),focusSvc.focusPreviousFromFirstCell(keyboardEvent)))}else previous instanceof CellCtrl&&previous.focusCell(!0),(!backwards&&focusSvc.focusOverlay(!1)||_focusNextGridCoreContainer(beans,backwards))&&keyboardEvent.preventDefault();else movedToNextCell?keyboardEvent.preventDefault():null===movedToNextCell&&ctrlsSvc.get("gridCtrl").allowFocusForNextCoreContainer(backwards)}tabToNextCell(backwards,event){const beans=this.beans,{focusSvc,rowRenderer}=beans,focusedCell=focusSvc.getFocusedCell();if(!focusedCell)return!1;let cellOrRow=_getCellByPosition(beans,focusedCell);return!!(cellOrRow||(cellOrRow=rowRenderer.getRowByPosition(focusedCell),cellOrRow&&cellOrRow.isFullWidth()))&&!!this.tabToNextCellCommon(cellOrRow,backwards,event,"api")}tabToNextCellCommon(previous,backwards,event,source="ui"){const{editSvc,focusSvc}=this.beans;let res;const cellCtrl=previous instanceof CellCtrl?previous:previous.getAllCellCtrls()?.[0];return res=editSvc?.isEditing()?editSvc?.moveToNextCell(cellCtrl,backwards,event,source):this.moveToNextCellNotEditing(previous,backwards,event),null===res?res:res||!!focusSvc.focusedHeader}moveToNextCellNotEditing(previousCell,backwards,event){const displayedColumns=this.beans.visibleCols.allCols;let cellPos;if(previousCell instanceof RowCtrl){if(cellPos={...previousCell.getRowPosition(),column:backwards?displayedColumns[0]:_last(displayedColumns)},this.gos.get("embedFullWidthRows")&&event){const focusedContainer=previousCell.findFullWidthInfoForEvent(event);focusedContainer&&(cellPos.column=focusedContainer.column)}}else cellPos=previousCell.getFocusedCellPosition();const nextCell=this.findNextCellToFocusOn(cellPos,{backwards,startEditing:!1});if(!1===nextCell)return null;if(nextCell instanceof CellCtrl)nextCell.focusCell(!0);else if(nextCell)return this.tryToFocusFullWidthRow(nextCell,backwards);return _exists(nextCell)}findNextCellToFocusOn(previousPosition,{backwards,startEditing,skipToNextEditableCell}){let nextPosition=previousPosition;const beans=this.beans,{cellNavigation,gos,focusSvc,rowRenderer,rangeSvc}=beans;for(;;){previousPosition!==nextPosition&&(previousPosition=nextPosition),backwards||(nextPosition=this.getLastCellOfColSpan(nextPosition)),nextPosition=cellNavigation.getNextTabbedCell(nextPosition,backwards);const userFunc=gos.getCallback("tabToNextCell");if(_exists(userFunc)){const userResult=userFunc({backwards,editing:startEditing,previousCellPosition:previousPosition,nextCellPosition:nextPosition||null});if(!0===userResult)nextPosition=previousPosition;else{if(!1===userResult)return!1;nextPosition={rowIndex:userResult.rowIndex,column:userResult.column,rowPinned:userResult.rowPinned}}}if(!nextPosition)return null;if(nextPosition.rowIndex<0){const headerLen=getFocusHeaderRowCount(beans);return focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:headerLen+nextPosition.rowIndex,column:nextPosition.column},fromCell:!0}),null}const fullRowEdit="fullRow"===gos.get("editType");if(startEditing&&(!fullRowEdit||skipToNextEditableCell)){if(!this.isCellEditable(nextPosition))continue}this.ensureCellVisible(nextPosition);const nextCell=_getCellByPosition(beans,nextPosition);if(!nextCell){const row=rowRenderer.getRowByPosition(nextPosition);if(!row||!row.isFullWidth()||startEditing)continue;return{...row.getRowPosition(),column:nextPosition?.column}}if(!cellNavigation.isSuppressNavigable(nextCell.column,nextCell.rowNode))return nextCell.setFocusedCellPosition(nextPosition),rangeSvc?.setRangeToCell(nextPosition),nextCell}}isCellEditable(cell){const rowNode=this.lookupRowNodeForCell(cell);return!!rowNode&&cell.column.isCellEditable(rowNode)}lookupRowNodeForCell({rowIndex,rowPinned}){const{pinnedRowModel,rowModel}=this.beans;return"top"===rowPinned?pinnedRowModel?.getPinnedTopRow(rowIndex):"bottom"===rowPinned?pinnedRowModel?.getPinnedBottomRow(rowIndex):rowModel.getRow(rowIndex)}navigateToNextCell(event,key,currentCell,allowUserOverride){let nextCell=currentCell,hitEdgeOfGrid=!1;const beans=this.beans,{cellNavigation,focusSvc,gos}=beans;for(;nextCell&&(nextCell===currentCell||!this.isValidNavigateCell(nextCell));)gos.get("enableRtl")?key===KeyCode_LEFT&&(nextCell=this.getLastCellOfColSpan(nextCell)):key===KeyCode_RIGHT&&(nextCell=this.getLastCellOfColSpan(nextCell)),nextCell=cellNavigation.getNextCellToFocus(key,nextCell),hitEdgeOfGrid=_missing(nextCell);if(hitEdgeOfGrid&&event&&event.key===KeyCode_UP&&(nextCell={rowIndex:-1,rowPinned:null,column:currentCell.column}),allowUserOverride){const userFunc=gos.getCallback("navigateToNextCell");if(_exists(userFunc)){const userCell=userFunc({key,previousCellPosition:currentCell,nextCellPosition:nextCell||null,event});nextCell=_exists(userCell)?{rowPinned:userCell.rowPinned,rowIndex:userCell.rowIndex,column:userCell.column}:null}}if(!nextCell)return;if(nextCell.rowIndex<0){const headerLen=getFocusHeaderRowCount(beans);return void focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:headerLen+nextCell.rowIndex,column:currentCell.column},event:event||void 0,fromCell:!0})}const normalisedPosition=this.getNormalisedPosition(nextCell);normalisedPosition?this.focusPosition(normalisedPosition):this.tryToFocusFullWidthRow(nextCell)}getNormalisedPosition(cellPosition){if(!!this.beans.spannedRowRenderer?.getCellByPosition(cellPosition))return cellPosition;this.ensureCellVisible(cellPosition);const cellCtrl=_getCellByPosition(this.beans,cellPosition);return cellCtrl?(cellPosition=cellCtrl.getFocusedCellPosition(),this.ensureCellVisible(cellPosition),cellPosition):null}tryToFocusFullWidthRow(position,backwards){const{visibleCols,rowRenderer,focusSvc,eventSvc}=this.beans,displayedColumns=visibleCols.allCols,rowComp=rowRenderer.getRowByPosition(position);if(!rowComp||!rowComp.isFullWidth())return!1;const currentCellFocused=focusSvc.getFocusedCell(),cellPosition={rowIndex:position.rowIndex,rowPinned:position.rowPinned,column:position.column||(backwards?_last(displayedColumns):displayedColumns[0])};this.focusPosition(cellPosition);const fromBelow=null==backwards?null!=currentCellFocused&&function _isRowBefore(rowA,rowB){switch(rowA.rowPinned){case"top":if("top"!==rowB.rowPinned)return!0;break;case"bottom":if("bottom"!==rowB.rowPinned)return!1;break;default:if(_exists(rowB.rowPinned))return"top"!==rowB.rowPinned}return rowA.rowIndex<rowB.rowIndex}(cellPosition,currentCellFocused):backwards;return eventSvc.dispatchEvent({type:"fullWidthRowFocused",rowIndex:cellPosition.rowIndex,rowPinned:cellPosition.rowPinned,column:cellPosition.column,isFullWidthCell:!0,fromBelow}),!0}focusPosition(cellPosition){const{focusSvc,rangeSvc}=this.beans;focusSvc.setFocusedCell({rowIndex:cellPosition.rowIndex,column:cellPosition.column,rowPinned:cellPosition.rowPinned,forceBrowserFocus:!0}),rangeSvc?.setRangeToCell(cellPosition)}isValidNavigateCell(cell){return!!_getRowNode(this.beans,cell)}getLastCellOfColSpan(cell){const cellCtrl=_getCellByPosition(this.beans,cell);if(!cellCtrl)return cell;const colSpanningList=cellCtrl.getColSpanningList();return 1===colSpanningList.length?cell:{rowIndex:cell.rowIndex,column:_last(colSpanningList),rowPinned:cell.rowPinned}}ensureCellVisible(gridCell){const isGroupStickyEnabled=_isGroupRowsSticky(this.gos),rowNode=this.beans.rowModel.getRow(gridCell.rowIndex),skipScrollToRow=isGroupStickyEnabled&&rowNode?.sticky,{scrollFeature}=this.gridBodyCon;!skipScrollToRow&&_missing(gridCell.rowPinned)&&scrollFeature.ensureIndexVisible(gridCell.rowIndex),gridCell.column.isPinned()||scrollFeature.ensureColumnVisible(gridCell.column)}ensureColumnVisible(column){const scrollFeature=this.gridBodyCon.scrollFeature;column.isPinned()||scrollFeature.ensureColumnVisible(column)}ensureRowVisible(rowIndex){this.gridBodyCon.scrollFeature.ensureIndexVisible(rowIndex)}},class extends BeanStub{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(beans){this.rowSpanSvc=beans.rowSpanSvc}getNextCellToFocus(key,focusedCell,ctrlPressed=!1){return ctrlPressed?this.getNextCellToFocusWithCtrlPressed(key,focusedCell):this.getNextCellToFocusWithoutCtrlPressed(key,focusedCell)}getNextCellToFocusWithCtrlPressed(key,focusedCell){const upKey=key===KeyCode_UP,downKey=key===KeyCode_DOWN,leftKey=key===KeyCode_LEFT;let column,rowIndex;const{pageBounds,gos,visibleCols,pinnedRowModel}=this.beans,{rowPinned}=focusedCell;if(upKey||downKey)rowIndex=rowPinned&&pinnedRowModel?upKey?0:"top"===rowPinned?pinnedRowModel.getPinnedTopRowCount()-1:pinnedRowModel.getPinnedBottomRowCount()-1:upKey?pageBounds.getFirstRow():pageBounds.getLastRow(),column=focusedCell.column;else{const isRtl=gos.get("enableRtl");rowIndex=focusedCell.rowIndex;column=(leftKey!==isRtl?visibleCols.allCols:[...visibleCols.allCols].reverse()).find((col=>this.isCellGoodToFocusOn({rowIndex,rowPinned:null,column:col})))}return column?{rowIndex,rowPinned,column}:null}getNextCellToFocusWithoutCtrlPressed(key,focusedCell){let pointer=focusedCell,finished=!1;for(;!finished;){switch(key){case KeyCode_UP:pointer=this.getCellAbove(pointer);break;case KeyCode_DOWN:pointer=this.getCellBelow(pointer);break;case KeyCode_RIGHT:pointer=this.gos.get("enableRtl")?this.getCellToLeft(pointer):this.getCellToRight(pointer);break;case KeyCode_LEFT:pointer=this.gos.get("enableRtl")?this.getCellToRight(pointer):this.getCellToLeft(pointer);break;default:pointer=null,_warn(8,{key})}finished=!pointer||this.isCellGoodToFocusOn(pointer)}return pointer}isCellGoodToFocusOn(gridCell){const column=gridCell.column;let rowNode;const{pinnedRowModel,rowModel}=this.beans;switch(gridCell.rowPinned){case"top":rowNode=pinnedRowModel?.getPinnedTopRow(gridCell.rowIndex);break;case"bottom":rowNode=pinnedRowModel?.getPinnedBottomRow(gridCell.rowIndex);break;default:rowNode=rowModel.getRow(gridCell.rowIndex)}if(!rowNode)return!1;return!this.isSuppressNavigable(column,rowNode)}getCellToLeft(lastCell){if(!lastCell)return null;const colToLeft=this.beans.visibleCols.getColBefore(lastCell.column);return colToLeft?{rowIndex:lastCell.rowIndex,column:colToLeft,rowPinned:lastCell.rowPinned}:null}getCellToRight(lastCell){if(!lastCell)return null;const colToRight=this.beans.visibleCols.getColAfter(lastCell.column);return colToRight?{rowIndex:lastCell.rowIndex,column:colToRight,rowPinned:lastCell.rowPinned}:null}getCellBelow(lastCell){if(!lastCell)return null;const adjustedLastCell=this.rowSpanSvc?.getCellEnd(lastCell)??lastCell,rowBelow=_getRowBelow(this.beans,adjustedLastCell,!0);return rowBelow?{rowIndex:rowBelow.rowIndex,column:lastCell.column,rowPinned:rowBelow.rowPinned}:null}getCellAbove(lastCell){if(!lastCell)return null;const adjustedLastCell=this.rowSpanSvc?.getCellStart(lastCell)??lastCell,rowAbove=_getRowAbove(this.beans,{rowIndex:adjustedLastCell.rowIndex,rowPinned:adjustedLastCell.rowPinned},!0);return rowAbove?{rowIndex:rowAbove.rowIndex,column:lastCell.column,rowPinned:rowAbove.rowPinned}:null}getNextTabbedCell(gridCell,backwards){return backwards?this.getNextTabbedCellBackwards(gridCell):this.getNextTabbedCellForwards(gridCell)}getNextTabbedCellForwards(gridCell){const{visibleCols,pagination}=this.beans,displayedColumns=visibleCols.allCols;let newRowIndex=gridCell.rowIndex,newFloating=gridCell.rowPinned,newColumn=visibleCols.getColAfter(gridCell.column);if(!newColumn){newColumn=displayedColumns[0];const rowBelow=_getRowBelow(this.beans,gridCell,!0);if(_missing(rowBelow))return null;if(!rowBelow.rowPinned&&!(pagination?.isRowInPage(rowBelow.rowIndex)??1))return null;newRowIndex=rowBelow?rowBelow.rowIndex:null,newFloating=rowBelow?rowBelow.rowPinned:null}return{rowIndex:newRowIndex,column:newColumn,rowPinned:newFloating}}getNextTabbedCellBackwards(gridCell){const{beans}=this,{visibleCols,pagination}=beans,displayedColumns=visibleCols.allCols;let newRowIndex=gridCell.rowIndex,newFloating=gridCell.rowPinned,newColumn=visibleCols.getColBefore(gridCell.column);if(!newColumn){newColumn=_last(displayedColumns);const rowAbove=_getRowAbove(beans,{rowIndex:gridCell.rowIndex,rowPinned:gridCell.rowPinned},!0);if(_missing(rowAbove))return null;if(!rowAbove.rowPinned&&!(pagination?.isRowInPage(rowAbove.rowIndex)??1))return null;newRowIndex=rowAbove?rowAbove.rowIndex:null,newFloating=rowAbove?rowAbove.rowPinned:null}return{rowIndex:newRowIndex,column:newColumn,rowPinned:newFloating}}isSuppressNavigable(column,rowNode){const{suppressNavigable}=column.colDef;if("boolean"==typeof suppressNavigable)return suppressNavigable;if("function"==typeof suppressNavigable){return suppressNavigable(column.createColumnFunctionCallbackParams(rowNode))}return!1}},class extends BeanStub{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const beans=this.beans;beans.ctrlsSvc.whenReady(this,(p=>{this.gridBodyCon=p.gridBodyCtrl}));const eDocument=_getDocument(beans);this.addManagedElementListeners(eDocument,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(colKey,floatingFilter){let column;const{colModel,colGroupSvc,ctrlsSvc}=this.beans;if("string"==typeof colKey?(column=colModel.getCol(colKey),column||(column=colGroupSvc?.getColumnGroup(colKey)??null)):column=colKey,!column)return null;const centerHeaderContainer=ctrlsSvc.getHeaderRowContainerCtrl(),allCtrls=centerHeaderContainer?.getAllCtrls(),isFloatingFilterVisible="filter"===_last(allCtrls||[]).type,headerRowCount=getFocusHeaderRowCount(this.beans)-1;let row=-1,col=column;for(;col;)row++,col=col.getParent();let headerRowIndex=row;return floatingFilter&&isFloatingFilterVisible&&headerRowIndex===headerRowCount-1&&headerRowIndex++,-1===headerRowIndex?null:{headerRowIndex,column}}navigateVertically(direction,event){const{focusSvc,visibleCols}=this.beans,{focusedHeader}=focusSvc;if(!focusedHeader)return!1;const{headerRowIndex}=focusedHeader,column=focusedHeader.column,rowLen=getFocusHeaderRowCount(this.beans),currentRowType=this.getHeaderRowType(headerRowIndex),columnHeaderRowIndex=visibleCols.headerGroupRowCount;let{headerRowIndex:nextRow,column:nextFocusColumn,headerRowIndexWithoutSpan}="UP"===direction?function getColumnVisibleParent(currentRowType,currentColumn,currentIndex){const optimisticNextIndex=currentIndex-1;if("filter"!==currentRowType){const isSpanningCol=currentColumn instanceof AgColumn&&currentColumn.isSpanHeaderHeight();let nextVisibleParent=currentColumn.getParent();for(;nextVisibleParent&&(nextVisibleParent.getProvidedColumnGroup().getLevel()>optimisticNextIndex||isSpanningCol&&nextVisibleParent.isPadding());)nextVisibleParent=nextVisibleParent.getParent();if(nextVisibleParent)return isSpanningCol?{column:nextVisibleParent,headerRowIndex:nextVisibleParent.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:optimisticNextIndex}:{column:nextVisibleParent,headerRowIndex:optimisticNextIndex,headerRowIndexWithoutSpan:optimisticNextIndex}}return{column:currentColumn,headerRowIndex:optimisticNextIndex,headerRowIndexWithoutSpan:optimisticNextIndex}}(currentRowType,column,headerRowIndex):function getColumnVisibleChild(column,currentIndex,columnHeaderRowIndex){const optimisticNextIndex=currentIndex+1,result={column,headerRowIndex:optimisticNextIndex,headerRowIndexWithoutSpan:optimisticNextIndex};if(column instanceof AgColumnGroup){if(optimisticNextIndex>=columnHeaderRowIndex)return{column:column.getDisplayedLeafColumns()[0],headerRowIndex:columnHeaderRowIndex,headerRowIndexWithoutSpan:optimisticNextIndex};let firstChild=column.getDisplayedChildren()[0];if(firstChild instanceof AgColumnGroup&&firstChild.isPadding()){const firstCol=firstChild.getDisplayedLeafColumns()[0];firstCol.isSpanHeaderHeight()&&(firstChild=firstCol)}result.column=firstChild;firstChild instanceof AgColumn&&firstChild.isSpanHeaderHeight()&&(result.headerRowIndex=columnHeaderRowIndex,result.headerRowIndexWithoutSpan=optimisticNextIndex)}return result}(column,headerRowIndex,columnHeaderRowIndex),skipColumn=!1;return nextRow<0&&(nextRow=0,nextFocusColumn=column,skipColumn=!0),nextRow>=rowLen?(nextRow=-1,this.currentHeaderRowWithoutSpan=-1):void 0!==headerRowIndexWithoutSpan&&(this.currentHeaderRowWithoutSpan=headerRowIndexWithoutSpan),!(!skipColumn&&!nextFocusColumn)&&focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:nextRow,column:nextFocusColumn},allowUserOverride:!0,event})}navigateHorizontally(direction,fromTab=!1,event){const{focusSvc,gos}=this.beans,focusedHeader={...focusSvc.focusedHeader};let nextHeader,normalisedDirection;-1!==this.currentHeaderRowWithoutSpan?focusedHeader.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=focusedHeader.headerRowIndex,"LEFT"===direction!==gos.get("enableRtl")?(normalisedDirection="Before",nextHeader=this.findHeader(focusedHeader,normalisedDirection)):(normalisedDirection="After",nextHeader=this.findHeader(focusedHeader,normalisedDirection));const userFunc=gos.getCallback("tabToNextHeader");if(fromTab&&userFunc){const wasFocusedFromUserFunc=focusSvc.focusHeaderPositionFromUserFunc({userFunc,headerPosition:nextHeader,direction:normalisedDirection});if(wasFocusedFromUserFunc){const{headerRowIndex}=focusSvc.focusedHeader||{};null!=headerRowIndex&&headerRowIndex!=focusedHeader.headerRowIndex&&(this.currentHeaderRowWithoutSpan=headerRowIndex)}return wasFocusedFromUserFunc}return nextHeader||!fromTab?focusSvc.focusHeaderPosition({headerPosition:nextHeader,direction:normalisedDirection,fromTab,allowUserOverride:!0,event}):this.focusNextHeaderRow(focusedHeader,normalisedDirection,event)}focusNextHeaderRow(focusedHeader,direction,event){const beans=this.beans,currentIndex=focusedHeader.headerRowIndex;let nextRowIndex,nextFocusedCol=null;const headerRowCount=getFocusHeaderRowCount(beans),allVisibleCols=this.beans.visibleCols.allCols;if("Before"===direction){if(currentIndex<=0)return!1;nextFocusedCol=_last(allVisibleCols),nextRowIndex=currentIndex-1,this.currentHeaderRowWithoutSpan-=1}else nextFocusedCol=allVisibleCols[0],nextRowIndex=currentIndex+1,this.currentHeaderRowWithoutSpan<headerRowCount?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column,headerRowIndex}=getHeaderIndexToFocus(this.beans,nextFocusedCol,nextRowIndex);return headerRowIndex>=headerRowCount&&(headerRowIndex=-1),beans.focusSvc.focusHeaderPosition({headerPosition:{column,headerRowIndex},direction,fromTab:!0,allowUserOverride:!0,event})}scrollToColumn(column,direction="After"){if(column.getPinned())return;let columnToScrollTo;if(isColumnGroup(column)){const columns=column.getDisplayedLeafColumns();columnToScrollTo="Before"===direction?_last(columns):columns[0]}else columnToScrollTo=column;this.gridBodyCon.scrollFeature.ensureColumnVisible(columnToScrollTo)}findHeader(focusedHeader,direction){const{colGroupSvc,visibleCols}=this.beans;let currentFocusedColumn=focusedHeader.column;if(currentFocusedColumn instanceof AgColumnGroup){const leafChildren=currentFocusedColumn.getDisplayedLeafColumns();currentFocusedColumn="Before"===direction?leafChildren[0]:leafChildren[leafChildren.length-1]}const nextFocusedCol="Before"===direction?visibleCols.getColBefore(currentFocusedColumn):visibleCols.getColAfter(currentFocusedColumn);if(!nextFocusedCol)return;const headerGroupRowIndex=visibleCols.headerGroupRowCount;if(focusedHeader.headerRowIndex>=headerGroupRowIndex)return{headerRowIndex:focusedHeader.headerRowIndex,column:nextFocusedCol};const groupAtLevel=colGroupSvc?.getColGroupAtLevel(nextFocusedCol,focusedHeader.headerRowIndex);if(!groupAtLevel){return{headerRowIndex:nextFocusedCol instanceof AgColumn&&nextFocusedCol.isSpanHeaderHeight()?visibleCols.headerGroupRowCount:focusedHeader.headerRowIndex,column:nextFocusedCol}}return groupAtLevel.isPadding()&&nextFocusedCol.isSpanHeaderHeight()?{headerRowIndex:visibleCols.headerGroupRowCount,column:nextFocusedCol}:{headerRowIndex:focusedHeader.headerRowIndex,column:groupAtLevel??nextFocusedCol}}getHeaderRowType(rowIndex){const centerHeaderContainer=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(centerHeaderContainer)return centerHeaderContainer.getRowType(rowIndex)}}],apiFunctions:{getFocusedCell:function getFocusedCell(beans){return beans.focusSvc.getFocusedCell()},clearFocusedCell:function clearFocusedCell(beans){return beans.focusSvc.clearFocusedCell()},setFocusedCell:function setFocusedCell(beans,rowIndex,colKey,rowPinned){beans.focusSvc.setFocusedCell({rowIndex,column:colKey,rowPinned,forceBrowserFocus:!0})},setFocusedHeader:function setFocusedHeader(beans,colKey,floatingFilter=!1){const headerPosition=beans.headerNavigation?.getHeaderPositionForColumn(colKey,floatingFilter);headerPosition&&beans.focusSvc.focusHeaderPosition({headerPosition})},tabToNextCell:function tabToNextCell(beans,event){return beans.navigation?.tabToNextCell(!1,event)??!1},tabToPreviousCell:function tabToPreviousCell(beans,event){return beans.navigation?.tabToNextCell(!0,event)??!1}}},SetPinnedWidthFeature=class extends BeanStub{constructor(isLeft,elements){super(),this.isLeft=isLeft,this.elements=elements,this.getWidth=isLeft?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[(this.isLeft?"left":"right")+"PinnedWidthChanged"]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const width=this.getWidth(),displayed=width>0;for(const element of this.elements)element&&(_setDisplayed(element,displayed),_setFixedWidth(element,width))}},PinnedColumnModule={moduleName:"PinnedColumn",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,(p=>{this.gridBodyCtrl=p.gridBodyCtrl}));const listener=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:listener,displayedColumnsWidthChanged:listener}),this.addManagedPropertyListener("domLayout",listener)}checkContainerWidths(){const{gos,visibleCols,eventSvc}=this.beans,printLayout=_isDomLayout(gos,"print"),newLeftWidth=printLayout?0:visibleCols.getColsLeftWidth(),newRightWidth=printLayout?0:visibleCols.getDisplayedColumnsRightWidth();newLeftWidth!=this.leftWidth&&(this.leftWidth=newLeftWidth,eventSvc.dispatchEvent({type:"leftPinnedWidthChanged"})),newRightWidth!=this.rightWidth&&(this.rightWidth=newRightWidth,eventSvc.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const bodyWidth=_getInnerWidth(this.gridBodyCtrl.eBodyViewport);if(bodyWidth<=50)return;const processedColumnsToRemove=this.getPinnedColumnsOverflowingViewport(bodyWidth-50),processUnpinnedColumns=this.gos.getCallback("processUnpinnedColumns"),{columns,hasLockedPinned}=processedColumnsToRemove;let columnsToRemove=columns;if(columnsToRemove.length||hasLockedPinned){if(processUnpinnedColumns){columnsToRemove=processUnpinnedColumns({columns:columnsToRemove,viewportWidth:bodyWidth})}columnsToRemove&&columnsToRemove.length&&(columnsToRemove=columnsToRemove.filter((col=>!isRowNumberCol(col))),this.setColsPinned(columnsToRemove,null,"viewportSizeFeature"))}}createPinnedWidthFeature(isLeft,...elements){return new SetPinnedWidthFeature(isLeft,elements)}setColsPinned(keys,pinned,source){const{colModel,colAnimation,visibleCols,gos}=this.beans;if(!colModel.cols)return;if(!keys?.length)return;if(_isDomLayout(gos,"print"))return void _warn(37);let actualPinned;colAnimation?.start(),actualPinned=!0===pinned||"left"===pinned?"left":"right"===pinned?"right":null;const updatedCols=[];keys.forEach((key=>{if(!key)return;const column=colModel.getCol(key);column&&column.getPinned()!==actualPinned&&(this.setColPinned(column,actualPinned),updatedCols.push(column))})),updatedCols.length&&(visibleCols.refresh(source),dispatchColumnPinnedEvent(this.eventSvc,updatedCols,source)),colAnimation?.finish()}initCol(column){const{pinned,initialPinned}=column.colDef;void 0!==pinned?this.setColPinned(column,pinned):this.setColPinned(column,initialPinned)}setColPinned(column,pinned){column.pinned=!0===pinned||"left"===pinned?"left":"right"===pinned?"right":null,column.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(ctrl){const{scrollVisibleSvc}=this.beans;if(null==ctrl.pinned)return;const pinningLeft="left"===ctrl.pinned,pinningRight="right"===ctrl.pinned;ctrl.hidden=!0;const listener=()=>{const width=pinningLeft?this.leftWidth:this.rightWidth;if(null==width)return;const hidden=0==width,hiddenChanged=ctrl.hidden!==hidden,isRtl=this.gos.get("enableRtl"),scrollbarWidth=scrollVisibleSvc.getScrollbarWidth(),widthWithPadding=scrollVisibleSvc.verticalScrollShowing&&(isRtl&&pinningLeft||!isRtl&&pinningRight)?width+scrollbarWidth:width;ctrl.comp.setPinnedContainerWidth(`${widthWithPadding}px`),ctrl.comp.setDisplayed(!hidden),hiddenChanged&&(ctrl.hidden=hidden,ctrl.refresh())};ctrl.addManagedEventListeners({leftPinnedWidthChanged:listener,rightPinnedWidthChanged:listener,scrollVisibilityChanged:listener,scrollbarWidthChanged:listener})}getHeaderResizeDiff(diff,column){if(column.getPinned()){const{leftWidth,rightWidth}=this,bodyWidth=_getInnerWidth(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(leftWidth+rightWidth+diff>bodyWidth){if(!(bodyWidth>leftWidth+rightWidth))return 0;diff=bodyWidth-leftWidth-rightWidth}}return diff}getPinnedColumnsOverflowingViewport(viewportWidth){const totalPinnedWidth=(this.rightWidth??0)+(this.leftWidth??0);let hasLockedPinned=!1;if(totalPinnedWidth<viewportWidth)return{columns:[],hasLockedPinned};const{visibleCols}=this.beans,pinnedLeftColumns=[...visibleCols.leftCols],pinnedRightColumns=[...visibleCols.rightCols];let indexRight=0,indexLeft=0;const columnsToRemove=[];let spaceNecessary=totalPinnedWidth-0-viewportWidth;for(;(indexLeft<pinnedLeftColumns.length||indexRight<pinnedRightColumns.length)&&spaceNecessary>0;){if(indexRight<pinnedRightColumns.length){const currentColumn=pinnedRightColumns[indexRight++];if(currentColumn.colDef.lockPinned){hasLockedPinned=!0;continue}spaceNecessary-=currentColumn.getActualWidth(),columnsToRemove.push(currentColumn)}if(indexLeft<pinnedLeftColumns.length&&spaceNecessary>0){const currentColumn=pinnedLeftColumns[indexLeft++];if(currentColumn.colDef.lockPinned){hasLockedPinned=!0;continue}spaceNecessary-=currentColumn.getActualWidth(),columnsToRemove.push(currentColumn)}}return{columns:columnsToRemove,hasLockedPinned}}}],css:[".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}"]},AriaModule={moduleName:"Aria",version:VERSION,beans:[class extends BeanStub{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=_debounce(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const beans=this.beans,eDocument=_getDocument(beans),div=this.descriptionContainer=eDocument.createElement("div");div.classList.add("ag-aria-description-container"),_setAriaLive(div,"polite"),function _setAriaRelevant(element,relevant){_toggleAriaAttribute(element,"relevant",relevant)}(div,"additions text"),function _setAriaAtomic(element,atomic){_toggleAriaAttribute(element,"atomic",atomic)}(div,!0),beans.eGridDiv.appendChild(div)}announceValue(value,key){this.pendingAnnouncements.set(key,value),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const value=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout((()=>{this.handleAnnouncementUpdate(value)}),50)}handleAnnouncementUpdate(value){if(!this.isAlive()||!this.descriptionContainer)return;let valueToAnnounce=value;null!=valueToAnnounce&&""!=valueToAnnounce.replace(/[ .]/g,"")?(this.lastAnnouncement===valueToAnnounce&&(valueToAnnounce=`${valueToAnnounce}​`),this.lastAnnouncement=valueToAnnounce,this.descriptionContainer.textContent=valueToAnnounce):this.lastAnnouncement=""}destroy(){super.destroy();const{descriptionContainer}=this;descriptionContainer&&(_clearElement(descriptionContainer),descriptionContainer.parentElement?.removeChild(descriptionContainer)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}}]},ColumnDelayRenderModule={moduleName:"ColumnDelayRender",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="colDelayRenderSvc",this.hideRequested=!1,this.alreadyRevealed=!1,this.timesRetried=0,this.requesters=new Set}hideColumns(key){this.alreadyRevealed||this.requesters.has(key)||(this.requesters.add(key),this.hideRequested||(this.beans.ctrlsSvc.whenReady(this,(p=>{p.gridBodyCtrl.eGridBody.classList.add("ag-delay-render")})),this.hideRequested=!0))}revealColumns(key){if(this.alreadyRevealed||!this.isAlive())return;if(this.requesters.delete(key),this.requesters.size>0)return;const{renderStatus,ctrlsSvc}=this.beans;if(renderStatus){if(!renderStatus.areHeaderCellsRendered()&&this.timesRetried<5)return this.timesRetried++,void setTimeout((()=>this.revealColumns(key)));this.timesRetried=0}ctrlsSvc.getGridBodyCtrl().eGridBody.classList.remove("ag-delay-render"),this.alreadyRevealed=!0}}],css:[":where(.ag-delay-render){.ag-cell,.ag-header-cell,.ag-header-group-cell,.ag-row,.ag-spanned-cell-wrapper{visibility:hidden}}"]};var OverlayWrapperElement={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},OverlayWrapperComponent=class extends Component{constructor(){super(OverlayWrapperElement),this.eOverlayWrapper=null,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}")}handleKeyDown(e){if(e.key!==KeyCode_TAB||e.defaultPrevented||_isStopPropagationForAgGrid(e))return;const beans=this.beans;if(_findNextFocusableElement(beans,this.eOverlayWrapper,!1,e.shiftKey))return;let isFocused=!1;isFocused=e.shiftKey?beans.focusSvc.focusGridView({column:_last(beans.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):_focusNextGridCoreContainer(beans,!1),isFocused&&e.preventDefault()}updateLayoutClasses(cssClass,params){const overlayWrapperClassList=this.eOverlayWrapper.classList,{AUTO_HEIGHT,NORMAL,PRINT}=LayoutCssClasses;overlayWrapperClassList.toggle(AUTO_HEIGHT,params.autoHeight),overlayWrapperClassList.toggle(NORMAL,params.normal),overlayWrapperClassList.toggle(PRINT,params.print)}postConstruct(){this.createManagedBean(new LayoutFeature(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(overlayWrapperCssClass){const overlayWrapperClassList=this.eOverlayWrapper.classList;this.activeCssClass&&overlayWrapperClassList.toggle(this.activeCssClass,!1),this.activeCssClass=overlayWrapperCssClass,overlayWrapperClassList.toggle(overlayWrapperCssClass,!0)}showOverlay(overlayComponentPromise,overlayWrapperCssClass,exclusive,gridOption){if(this.setWrapperTypeClass(overlayWrapperCssClass),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=overlayComponentPromise,overlayComponentPromise){if(this.setDisplayed(!0,{skipAriaHidden:!0}),exclusive&&this.isGridFocused()){const activeElement=_getActiveDomElement(this.beans);activeElement&&!_isNothingFocused(this.beans)&&(this.elToFocusAfter=activeElement)}overlayComponentPromise.then((comp=>{if(this.activePromise===overlayComponentPromise){if(this.activePromise=null,comp){if(this.activeOverlay!==comp&&(this.eOverlayWrapper.appendChild(comp.getGui()),this.activeOverlay=comp,gridOption)){const component=comp;this.updateListenerDestroyFunc=this.addManagedPropertyListener(gridOption,(({currentValue})=>{component.refresh?.(_addGridCommonParams(this.gos,{...currentValue??{}}))}))}exclusive&&this.isGridFocused()&&_focusInto(this.eOverlayWrapper)}}else this.activeOverlay!==comp&&(this.destroyBean(comp),comp=null)}))}}updateOverlayWrapperPaddingTop(padding){this.eOverlayWrapper.style.setProperty("padding-top",`${padding}px`)}destroyActiveOverlay(){this.activePromise=null;const activeOverlay=this.activeOverlay;if(!activeOverlay)return;let elementToFocus=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,elementToFocus&&!this.isGridFocused()&&(elementToFocus=null);const updateListenerDestroyFunc=this.updateListenerDestroyFunc;updateListenerDestroyFunc&&(updateListenerDestroyFunc(),this.updateListenerDestroyFunc=null),this.destroyBean(activeOverlay),_clearElement(this.eOverlayWrapper),elementToFocus?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const activeEl=_getActiveDomElement(this.beans);return!!activeEl&&this.beans.eGridDiv.contains(activeEl)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},OverlayWrapperSelector={selector:"AG-OVERLAY-WRAPPER",component:OverlayWrapperComponent},OverlayModule={moduleName:"Overlay",version:VERSION,userComponents:{agLoadingOverlay:class extends OverlayComponent{init(){const customTemplate=_makeNull(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(customTemplate??LoadingOverlayElement),!customTemplate){const loadingText=this.getLocaleTextFunc()("loadingOoo","Loading...");this.getGui().textContent=loadingText,this.beans.ariaAnnounce.announceValue(loadingText,"overlay")}}},agNoRowsOverlay:class extends OverlayComponent{init(){const customTemplate=_makeNull(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(customTemplate??NoRowsOverlayElement),!customTemplate){const noRowsText=this.getLocaleTextFunc()("noRowsToShow","No Rows To Show");this.getGui().textContent=noRowsText,this.beans.ariaAnnounce.announceValue(noRowsText,"overlay")}}}},apiFunctions:{showLoadingOverlay:function showLoadingOverlay(beans){beans.overlays?.showLoadingOverlay()},showNoRowsOverlay:function showNoRowsOverlay(beans){beans.overlays?.showNoRowsOverlay()},hideOverlay:function hideOverlay(beans){beans.overlays?.hideOverlay()}},beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=_isClientSideRowModel(this.gos),this.isServerSide=!this.isClientSide&&_isServerSideRowModel(this.gos);const updateOverlayVisibility=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:updateOverlayVisibility,rowDataUpdated:updateOverlayVisibility,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",updateOverlayVisibility)}setOverlayWrapperComp(overlayWrapperComp){this.eWrapper=overlayWrapperComp,this.updateOverlayVisibility()}isVisible(){return 0!==this.state&&!!this.eWrapper}isExclusive(){return 1===this.state&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const gos=this.gos,loading=gos.get("loading");(loading||void 0===loading&&!gos.get("suppressLoadingOverlay"))&&this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const gos=this.gos;gos.get("loading")||gos.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")?_warn(99):this.doHideOverlay()}getOverlayWrapperSelector(){return OverlayWrapperSelector}getOverlayWrapperCompClass(){return OverlayWrapperComponent}updateOverlayVisibility(){if(!this.eWrapper)return void(this.state=0);const{state,isClientSide,isServerSide,beans:{gos,colModel,rowModel}}=this;let loading=this.gos.get("loading");void 0!==loading&&(this.showInitialOverlay=!1),this.showInitialOverlay&&void 0===loading&&!gos.get("suppressLoadingOverlay")&&(loading=!gos.get("columnDefs")||!colModel.ready||!gos.get("rowData")&&isClientSide),loading?1!==state&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,isClientSide&&rowModel.isEmpty()&&!gos.get("suppressNoRowsOverlay")?2!==state&&this.doShowNoRowsOverlay():(1===state||!isServerSide&&0!==state)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(function _getLoadingOverlayCompDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(LoadingOverlayComponent,"agLoadingOverlay",params,!0)}(this.beans.userCompFactory,_addGridCommonParams(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(function _getNoRowsOverlayCompDetails(userCompFactory,params){return userCompFactory.getCompDetailsFromGridOptions(NoRowsOverlayComponent,"agNoRowsOverlay",params,!0)}(this.beans.userCompFactory,_addGridCommonParams(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(compDetails,wrapperCssClass,gridOption){const promise=compDetails?.newAgStackInstance()??null;this.eWrapper?.showOverlay(promise,wrapperCssClass,this.isExclusive(),gridOption),this.refreshWrapperPadding()}updateExclusive(){const wasExclusive=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==wasExclusive&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const eWrapper=this.eWrapper;if(!eWrapper)return;let newPadding=0;if(2===this.state){const headerCtrl=this.beans.ctrlsSvc.get("gridHeaderCtrl");newPadding=headerCtrl?.headerHeight||0}else 0!==this.wrapperPadding&&(newPadding=0);this.wrapperPadding!==newPadding&&(this.wrapperPadding=newPadding,eWrapper.updateOverlayWrapperPaddingTop(newPadding))}}]},RowCtrlCache=class{constructor(maxCount){this.entriesMap={},this.entriesList=[],this.maxCount=maxCount}addRow(rowCtrl){if(this.entriesMap[rowCtrl.rowNode.id]=rowCtrl,this.entriesList.push(rowCtrl),rowCtrl.setCached(!0),this.entriesList.length>this.maxCount){const rowCtrlToDestroy=this.entriesList[0];rowCtrlToDestroy.destroyFirstPass(),rowCtrlToDestroy.destroySecondPass(),this.removeFromCache(rowCtrlToDestroy)}}getRow(rowNode){if(null==rowNode||null==rowNode.id)return null;const res=this.entriesMap[rowNode.id];if(!res)return null;this.removeFromCache(res),res.setCached(!1);return res.rowNode!=rowNode?null:res}has(rowNode){return null!=this.entriesMap[rowNode.id]}removeRow(rowNode){const rowNodeId=rowNode.id,ctrl=this.entriesMap[rowNodeId];delete this.entriesMap[rowNodeId],_removeFromArray(this.entriesList,ctrl)}removeFromCache(rowCtrl){const rowNodeId=rowCtrl.rowNode.id;delete this.entriesMap[rowNodeId],_removeFromArray(this.entriesList,rowCtrl)}getEntries(){return this.entriesList}};function mapRowNodes(rowNodes){if(!rowNodes)return;const res={top:{},bottom:{},normal:{}};return rowNodes.forEach((rowNode=>{const id=rowNode.id;switch(rowNode.rowPinned){case"top":res.top[id]=rowNode;break;case"bottom":res.bottom[id]=rowNode;break;default:res.normal[id]=rowNode}})),res}function isRowInMap(rowNode,rowIdsMap){const id=rowNode.id;switch(rowNode.rowPinned){case"top":return null!=rowIdsMap.top[id];case"bottom":return null!=rowIdsMap.bottom[id];default:return null!=rowIdsMap.normal[id]}}var SortModule={moduleName:"Sort",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(column,multiSort,source){const nextDirection=this.getNextSortDirection(column);this.setSortForColumn(column,nextDirection,multiSort,source)}progressSortFromEvent(column,event){const multiSort="ctrl"===this.gos.get("multiSortKey")?event.ctrlKey||event.metaKey:event.shiftKey;this.progressSort(column,multiSort,"uiColumnSorted")}setSortForColumn(column,sort,multiSort,source){"asc"!==sort&&"desc"!==sort&&(sort=null);const{gos,showRowGroupCols}=this.beans;let columnsToUpdate=[column];if(_isColumnsSortingCoupledToGroup(gos)&&column.getColDef().showRowGroup){const rowGroupColumns=showRowGroupCols?.getSourceColumnsForGroupColumn?.(column),sortableRowGroupColumns=rowGroupColumns?.filter((col=>col.isSortable()));sortableRowGroupColumns&&(columnsToUpdate=[column,...sortableRowGroupColumns])}columnsToUpdate.forEach((col=>this.setColSort(col,sort,source)));const updatedColumns=[];if(!((multiSort||gos.get("alwaysMultiSort"))&&!gos.get("suppressMultiSort"))){const clearedColumns=this.clearSortBarTheseColumns(columnsToUpdate,source);updatedColumns.push(...clearedColumns)}this.updateSortIndex(column),updatedColumns.push(...columnsToUpdate),this.dispatchSortChangedEvents(source,updatedColumns)}updateSortIndex(lastColToChange){const{gos,colModel,showRowGroupCols}=this.beans,isCoupled=_isColumnsSortingCoupledToGroup(gos),groupParent=showRowGroupCols?.getShowRowGroupCol(lastColToChange.getId()),lastSortIndexCol=isCoupled&&groupParent||lastColToChange,allSortedCols=this.getColumnsWithSortingOrdered();colModel.forAllCols((col=>this.setColSortIndex(col,null)));const allSortedColsWithoutChangesOrGroups=allSortedCols.filter((col=>(!isCoupled||!col.getColDef().showRowGroup)&&col!==lastSortIndexCol));(lastSortIndexCol.getSort()?[...allSortedColsWithoutChangesOrGroups,lastSortIndexCol]:allSortedColsWithoutChangesOrGroups).forEach(((col,idx)=>this.setColSortIndex(col,idx)))}onSortChanged(source,columns){this.dispatchSortChangedEvents(source,columns)}isSortActive(){let isSorting=!1;return this.beans.colModel.forAllCols((col=>{col.getSort()&&(isSorting=!0)})),isSorting}dispatchSortChangedEvents(source,columns){const event={type:"sortChanged",source};columns&&(event.columns=columns),this.eventSvc.dispatchEvent(event)}clearSortBarTheseColumns(columnsToSkip,source){const clearedColumns=[];return this.beans.colModel.forAllCols((columnToClear=>{columnsToSkip.includes(columnToClear)||(columnToClear.getSort()&&clearedColumns.push(columnToClear),this.setColSort(columnToClear,void 0,source))})),clearedColumns}getNextSortDirection(column){const sortingOrder=column.getColDef().sortingOrder??this.gos.get("sortingOrder")??DEFAULT_SORTING_ORDER,currentIndex=sortingOrder.indexOf(column.getSort()),notInArray=currentIndex<0,lastItemInArray=currentIndex==sortingOrder.length-1;return notInArray||lastItemInArray?sortingOrder[0]:sortingOrder[currentIndex+1]}getIndexedSortMap(){const{gos,colModel,showRowGroupCols,rowGroupColsSvc}=this.beans;let allSortedCols=[];if(colModel.forAllCols((col=>{col.getSort()&&allSortedCols.push(col)})),colModel.isPivotMode()){const isSortingLinked=_isColumnsSortingCoupledToGroup(gos);allSortedCols=allSortedCols.filter((col=>{const isAggregated=!!col.getAggFunc(),isSecondary=!col.isPrimary(),isGroup=isSortingLinked?showRowGroupCols?.getShowRowGroupCol(col.getId()):col.getColDef().showRowGroup;return isAggregated||isSecondary||isGroup}))}const sortedRowGroupCols=rowGroupColsSvc?.columns.filter((col=>!!col.getSort()))??[],allColsIndexes={};allSortedCols.forEach(((col,index)=>allColsIndexes[col.getId()]=index)),allSortedCols.sort(((a,b)=>{const iA=a.getSortIndex(),iB=b.getSortIndex();if(null!=iA&&null!=iB)return iA-iB;if(null==iA&&null==iB){return allColsIndexes[a.getId()]>allColsIndexes[b.getId()]?1:-1}return null==iB?-1:1}));const isSortLinked=_isColumnsSortingCoupledToGroup(gos)&&!!sortedRowGroupCols.length;isSortLinked&&(allSortedCols=[...new Set(allSortedCols.map((col=>showRowGroupCols?.getShowRowGroupCol(col.getId())??col)))]);const indexMap=new Map;return allSortedCols.forEach(((col,idx)=>indexMap.set(col,idx))),isSortLinked&&sortedRowGroupCols.forEach((col=>{const groupDisplayCol=showRowGroupCols.getShowRowGroupCol(col.getId());indexMap.set(col,indexMap.get(groupDisplayCol))})),indexMap}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort((([,idx1],[,idx2])=>idx1-idx2)).map((([col])=>col))}getSortModel(){return this.getColumnsWithSortingOrdered().filter((column=>column.getSort())).map((column=>({sort:column.getSort(),colId:column.getId()})))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter((column=>column.getSort())).map((column=>({sort:column.getSort(),column})))}canColumnDisplayMixedSort(column){const isColumnSortCouplingActive=_isColumnsSortingCoupledToGroup(this.gos),isGroupDisplayColumn=!!column.getColDef().showRowGroup;return isColumnSortCouplingActive&&isGroupDisplayColumn}getDisplaySortForColumn(column){const linkedColumns=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(column);if(!this.canColumnDisplayMixedSort(column)||!linkedColumns?.length)return column.getSort();const sortableColumns=null!=column.getColDef().field||!!column.getColDef().valueGetter?[column,...linkedColumns]:linkedColumns,firstSort=sortableColumns[0].getSort();return sortableColumns.every((col=>col.getSort()==firstSort))?firstSort:"mixed"}getDisplaySortIndexForColumn(column){return this.getIndexedSortMap().get(column)}setupHeader(comp,column,clickElement){let lastMovingChanged=0;comp.addManagedListeners(column,{movingChanged:()=>{lastMovingChanged=Date.now()}}),clickElement&&comp.addManagedElementListeners(clickElement,{click:event=>{const moving=column.isMoving(),nowTime=Date.now();moving||nowTime-lastMovingChanged<50||this.progressSortFromEvent(column,event)}});const onSortingChanged=()=>{const sort=column.getSort();if(comp.toggleCss("ag-header-cell-sorted-asc","asc"===sort),comp.toggleCss("ag-header-cell-sorted-desc","desc"===sort),comp.toggleCss("ag-header-cell-sorted-none",!sort),column.getColDef().showRowGroup){const sourceColumns=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(column),sortDirectionsMatch=sourceColumns?.every((sourceCol=>column.getSort()==sourceCol.getSort())),isMultiSorting=!sortDirectionsMatch;comp.toggleCss("ag-header-cell-sorted-mixed",isMultiSorting)}};comp.addManagedEventListeners({sortChanged:onSortingChanged,columnRowGroupChanged:onSortingChanged})}initCol(column){const{sort,initialSort,sortIndex,initialSortIndex}=column.colDef;void 0!==sort?"asc"!==sort&&"desc"!==sort||(column.sort=sort):"asc"!==initialSort&&"desc"!==initialSort||(column.sort=initialSort),void 0!==sortIndex?null!==sortIndex&&(column.sortIndex=sortIndex):null!==initialSortIndex&&(column.sortIndex=initialSortIndex)}updateColSort(column,sort,source){void 0!==sort&&("desc"===sort||"asc"===sort?this.setColSort(column,sort,source):this.setColSort(column,void 0,source))}setColSort(column,sort,source){column.sort!==sort&&(column.sort=sort,column.dispatchColEvent("sortChanged",source)),column.dispatchStateUpdatedEvent("sort")}setColSortIndex(column,sortOrder){column.sortIndex=sortOrder,column.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(skipTemplate){return new SortIndicatorComp(skipTemplate)}getSortIndicatorSelector(){return SortIndicatorSelector}},class extends BeanStub{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos}=this;this.isAccentedSort=gos.get("accentedSort"),this.primaryColumnsSortGroups=_isColumnsSortingCoupledToGroup(gos),this.addManagedPropertyListener("accentedSort",(propChange=>this.isAccentedSort=propChange.currentValue)),this.addManagedPropertyListener("autoGroupColumnDef",(()=>this.primaryColumnsSortGroups=_isColumnsSortingCoupledToGroup(gos)))}doFullSort(rowNodes,sortOptions){const sortedRowNodes=rowNodes.map(((rowNode,currentPos)=>({currentPos,rowNode})));return sortedRowNodes.sort(this.compareRowNodes.bind(this,sortOptions)),sortedRowNodes.map((item=>item.rowNode))}compareRowNodes(sortOptions,sortedNodeA,sortedNodeB){const nodeA=sortedNodeA.rowNode,nodeB=sortedNodeB.rowNode;for(let i=0,len=sortOptions.length;i<len;i++){const sortOption=sortOptions[i],isDescending="desc"===sortOption.sort,valueA=this.getValue(nodeA,sortOption.column),valueB=this.getValue(nodeB,sortOption.column);let comparatorResult;const providedComparator=this.getComparator(sortOption,nodeA);comparatorResult=providedComparator?providedComparator(valueA,valueB,nodeA,nodeB,isDescending):_defaultComparator(valueA,valueB,this.isAccentedSort);if(!isNaN(comparatorResult)&&0!==comparatorResult)return"asc"===sortOption.sort?comparatorResult:-1*comparatorResult}return sortedNodeA.currentPos-sortedNodeB.currentPos}getComparator(sortOption,rowNode){const column=sortOption.column,comparatorOnCol=column.getColDef().comparator;if(null!=comparatorOnCol)return comparatorOnCol;if(!column.getColDef().showRowGroup)return;const groupLeafField=!rowNode.group&&column.getColDef().field;if(!groupLeafField)return;const primaryColumn=this.beans.colModel.getColDefCol(groupLeafField);return primaryColumn?primaryColumn.getColDef().comparator:void 0}getValue(node,column){const{valueSvc,colModel,showRowGroupCols,gos}=this.beans;if(!this.primaryColumnsSortGroups)return valueSvc.getValue(column,node,!1);if(node.rowGroupColumn===column){if(_isGroupUseEntireRow(gos,colModel.isPivotActive())){const leafChild=node.allLeafChildren?.[0];return leafChild?valueSvc.getValue(column,leafChild,!1):void 0}const displayCol=showRowGroupCols?.getShowRowGroupCol(column.getId());if(!displayCol)return;return node.groupData?.[displayCol.getId()]}return node.group&&column.getColDef().showRowGroup?void 0:valueSvc.getValue(column,node,!1)}}],apiFunctions:{onSortChanged:function onSortChanged(beans){beans.sortSvc?.onSortChanged("api")}},userComponents:{agSortIndicator:SortIndicatorComp},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}};var ExpressionModule={moduleName:"Expression",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(expression,params){if("string"==typeof expression)return this.evaluateExpression(expression,params);_error(15,{expression})}evaluateExpression(expression,params){try{const javaScriptFunction=this.createExpressionFunction(expression);return javaScriptFunction(params.value,params.context,params.oldValue,params.newValue,params.value,params.node,params.data,params.colDef,params.rowIndex,params.api,params.getValue,params.column,params.columnGroup)}catch(e){return _error(16,{expression,params,e}),null}}createExpressionFunction(expression){const expressionToFunctionCache=this.cache;if(expressionToFunctionCache[expression])return expressionToFunctionCache[expression];const functionBody=this.createFunctionBody(expression),theFunction=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",functionBody);return expressionToFunctionCache[expression]=theFunction,theFunction}createFunctionBody(expression){return expression.indexOf("return")>=0?expression:"return "+expression+";"}}]},ChangeDetectionModule={moduleName:"ChangeDetection",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos,rowModel}=this.beans;_isClientSideRowModel(gos)&&(this.clientSideRowModel=rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(event){const{gos,rowRenderer}=this.beans;if("paste"===event.source||gos.get("suppressChangeDetection"))return;const rowNode=event.node,nodesToRefresh=[rowNode],clientSideRowModel=this.clientSideRowModel,rootNode=clientSideRowModel?.rootNode;if(rootNode&&!rowNode.isRowPinned()){const onlyChangedColumns=gos.get("aggregateOnlyChangedColumns"),changedPath=new ChangedPath(onlyChangedColumns,rootNode);changedPath.addParentNode(rowNode.parent,[event.column]),clientSideRowModel.doAggregate(changedPath),changedPath.forEachChangedNodeDepthFirst((rowNode2=>{nodesToRefresh.push(rowNode2),rowNode2.sibling&&nodesToRefresh.push(rowNode2.sibling)}))}rowRenderer.refreshCells({rowNodes:nodesToRefresh})}}]},CommunityCoreModule={moduleName:"CommunityCore",version:VERSION,beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc,ctrlsSvc,context}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:stateSvc?.getState()??{}}),this.destroyCalled=!0,ctrlsSvc.get("gridCtrl")?.destroyGridUi(),context.destroy(),super.destroy()}},class extends BeanStub{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new GridApiClass,this.fns={...defaultFns,dispatchEvent},this.preDestroyLink="";const{api}=this;for(const key of Object.keys(gridApiFunctionsMap))api[key]=this.makeApi(key)[key]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(functionName,func){const{fns,beans}=this;fns!==defaultFns&&(fns[functionName]=beans?.validation?.validateApiFunction(functionName,func)??func)}makeApi(apiName){return{[apiName]:(...args)=>{const{beans,fns:{[apiName]:fn}}=this;return fn?fn(beans,...args):this.apiNotFound(apiName)}}}apiNotFound(fnName){const{beans,gos,preDestroyLink}=this;if(beans){const module=gridApiFunctionsMap[fnName];gos.assertModuleRegistered(module,`api.${fnName}`)&&_warn(27,{fnName,module})}else _warn(26,{fnName,preDestroyLink})}destroy(){super.destroy(),this.fns=defaultFns,this.beans=null}},class extends BaseRegistry{constructor(){super(...arguments),this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const comps=this.gos.get("components");if(null!=comps)for(const key of Object.keys(comps))this.jsComps[key]=comps[key]}registerModule(module){const{icons,userComponents,dynamicBeans,selectors}=module;if(userComponents){const registerUserComponent=(name,component,params,processParams)=>{this.agGridDefaults[name]=component,(params||processParams)&&(this.agGridDefaultOverrides[name]={params,processParams})};for(const name of Object.keys(userComponents)){let comp=userComponents[name];if("object"==typeof(componentMeta=comp)&&componentMeta.getComp&&(comp=comp.getComp(this.beans)),"object"==typeof comp){const{classImp,params,processParams}=comp;registerUserComponent(name,classImp,params,processParams)}else registerUserComponent(name,comp)}}var componentMeta;if(this.registerDynamicBeans(dynamicBeans),selectors?.forEach((selector=>{this.selectors[selector.selector]=selector})),icons)for(const name of Object.keys(icons))this.icons[name]=icons[name]}getUserComponent(propertyName,name){const createResult=(component,componentFromFramework,params,processParams)=>({componentFromFramework,component,params,processParams}),{frameworkOverrides}=this.beans,registeredViaFrameworkComp=frameworkOverrides.frameworkComponent(name,this.gos.get("components"));if(null!=registeredViaFrameworkComp)return createResult(registeredViaFrameworkComp,!0);const jsComponent=this.jsComps[name];if(jsComponent){return createResult(jsComponent,frameworkOverrides.isFrameworkComponent(jsComponent))}const defaultComponent=this.agGridDefaults[name];if(defaultComponent){const overrides=this.agGridDefaultOverrides[name];return createResult(defaultComponent,!1,overrides?.params,overrides?.processParams)}return this.beans.validation?.missingUserComponent(propertyName,name,this.agGridDefaults,this.jsComps),null}getSelector(name){return this.selectors[name]}getIcon(name){return this.icons[name]}getDynamicError(name,init){return init?_errMsg(279,{name}):this.beans.validation?.missingDynamicBean(name)??_errMsg(256)}},class extends BeanStub{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(beans){this.agCompUtils=beans.agCompUtils,this.registry=beans.registry,this.frameworkCompWrapper=beans.frameworkCompWrapper,this.gridOptions=beans.gridOptions}getCompDetailsFromGridOptions(type,defaultName,params,mandatory=!1){return this.getCompDetails(this.gridOptions,type,defaultName,params,mandatory)}getCompDetails(defObject,type,defaultName,params,mandatory=!1){const{name,cellRenderer}=type;let defaultCompParams,defaultCompProcessParams,{compName,jsComp,fwComp,paramsFromSelector,popupFromSelector,popupPositionFromSelector}=_getUserCompKeys(this.beans.frameworkOverrides,defObject,type,params);const lookupFromRegistry=key=>{const item=this.registry.getUserComponent(name,key);item&&(jsComp=item.componentFromFramework?void 0:item.component,fwComp=item.componentFromFramework?item.component:void 0,defaultCompParams=item.params,defaultCompProcessParams=item.processParams)};if(null!=compName&&lookupFromRegistry(compName),null==jsComp&&null==fwComp&&null!=defaultName&&lookupFromRegistry(defaultName),jsComp&&cellRenderer&&!function doesImplementIComponent(candidate){return!!candidate&&candidate.prototype&&"getGui"in candidate.prototype}(jsComp)&&(jsComp=this.agCompUtils?.adaptFunction(type,jsComp)),!jsComp&&!fwComp){const{validation}=this.beans;return void(!mandatory||compName===defaultName&&defaultName?defaultName&&!validation&&_error(146,{comp:defaultName}):compName?validation?.isProvidedUserComp(compName)||_error(50,{compName}):defaultName?validation||_error(260,{...this.gos.getModuleErrorParams(),propName:name,compName:defaultName}):_error(216,{name}))}const paramsMerged=this.mergeParams(defObject,type,params,paramsFromSelector,defaultCompParams,defaultCompProcessParams),componentFromFramework=null==jsComp,componentClass=jsComp??fwComp;return{componentFromFramework,componentClass,params:paramsMerged,type,popupFromSelector,popupPositionFromSelector,newAgStackInstance:()=>this.newAgStackInstance(componentClass,componentFromFramework,paramsMerged,type)}}newAgStackInstance(ComponentClass,componentFromFramework,params,type){let instance;instance=!componentFromFramework?new ComponentClass:this.frameworkCompWrapper.wrap(ComponentClass,type.mandatoryMethods,type.optionalMethods,type),this.createBean(instance);const deferredInit=instance.init?.(params);return null==deferredInit?AgPromise.resolve(instance):deferredInit.then((()=>instance))}mergeParams(defObject,type,paramsFromGrid,paramsFromSelector=null,defaultCompParams,defaultCompProcessParams){const params={...paramsFromGrid,...defaultCompParams},userParams=defObject&&defObject[type.name+"Params"];if("function"==typeof userParams){_mergeDeep(params,userParams(paramsFromGrid))}else"object"==typeof userParams&&_mergeDeep(params,userParams);return _mergeDeep(params,paramsFromSelector),defaultCompProcessParams?defaultCompProcessParams(params):params}},class extends BeanStub{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=function _getMaxDivHeight(){if(void 0!==maxDivHeight)return maxDivHeight;if(!document.body)return-1;let res=1e6;const testUpTo=_isBrowserFirefox()?6e6:1e9,div=document.createElement("div");for(document.body.appendChild(div);;){const test=2*res;if(div.style.height=test+"px",test>testUpTo||div.clientHeight!==test)break;res=test}return document.body.removeChild(div),maxDivHeight=res,res}(),_logIfDebug(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const newScrollY=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,newBodyHeight=this.getUiBodyHeight();(newScrollY!==this.scrollY||newBodyHeight!==this.uiBodyHeight)&&(this.scrollY=newScrollY,this.uiBodyHeight=newBodyHeight,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const scrollPercent=this.scrollY/this.maxScrollY,divStretchOffset=scrollPercent*this.pixelsToShave;_logIfDebug(this.gos,`RowContainerHeightService - Div Stretch Offset = ${divStretchOffset} (${this.pixelsToShave} * ${scrollPercent})`),this.setDivStretchOffset(divStretchOffset)}setUiContainerHeight(height){height!==this.uiContainerHeight&&(this.uiContainerHeight=height,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(newOffset){const newOffsetFloor="number"==typeof newOffset?Math.floor(newOffset):null;this.divStretchOffset!==newOffsetFloor&&(this.divStretchOffset=newOffsetFloor,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(modelHeight){this.modelHeight=modelHeight,this.stretching=null!=modelHeight&&this.maxDivHeight>0&&modelHeight>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(modelPixel){return modelPixel-this.divStretchOffset}getUiBodyHeight(){const pos=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return pos.bottom-pos.top}getScrollPositionForPixel(rowTop){if(this.pixelsToShave<=0)return rowTop;const scrollPercent=rowTop/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*scrollPercent}},class extends BeanStub{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(source,skipTreeBuild=!1){const{colFlex,colModel,colGroupSvc,colViewport,selectionColSvc}=this.beans;skipTreeBuild||this.buildTrees(colModel,colGroupSvc),colGroupSvc?.updateOpenClosedVisibility(),this.leftCols=pickDisplayedCols(this.treeLeft),this.centerCols=pickDisplayedCols(this.treeCenter),this.rightCols=pickDisplayedCols(this.treeRight),selectionColSvc?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(colModel),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(source),this.autoHeightCols=this.allCols.filter((col=>col.isAutoHeight())),colFlex?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(colModel,this.leftCols,this.rightCols,source),colViewport.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let headerGroupRowCount=0;for(const col of this.allCols){let parent=col.getParent();for(;parent;){if(!parent.isPadding()){const level=parent.getProvidedColumnGroup().getLevel()+1;level>headerGroupRowCount&&(headerGroupRowCount=level);break}parent=parent.getParent()}}return headerGroupRowCount}updateBodyWidths(){const newBodyWidth=getWidthOfColsInList(this.centerCols),newLeftWidth=getWidthOfColsInList(this.leftCols),newRightWidth=getWidthOfColsInList(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==newBodyWidth;(this.bodyWidth!==newBodyWidth||this.leftWidth!==newLeftWidth||this.rightWidth!==newRightWidth)&&(this.bodyWidth=newBodyWidth,this.leftWidth=newLeftWidth,this.rightWidth=newRightWidth,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(source){this.setLeftValuesOfCols(source),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(colModel,leftCols,rightCols,source){let lastLeft,firstRight;this.gos.get("enableRtl")?(lastLeft=leftCols?leftCols[0]:null,firstRight=rightCols?_last(rightCols):null):(lastLeft=leftCols?_last(leftCols):null,firstRight=rightCols?rightCols[0]:null),colModel.getCols().forEach((col=>{col.setLastLeftPinned(col===lastLeft,source),col.setFirstRightPinned(col===firstRight,source)}))}buildTrees(colModel,columnGroupSvc){const cols=colModel.getColsToShow(),leftCols=cols.filter((col=>"left"==col.getPinned())),rightCols=cols.filter((col=>"right"==col.getPinned())),centerCols=cols.filter((col=>"left"!=col.getPinned()&&"right"!=col.getPinned())),idCreator=new GroupInstanceIdCreator,createGroups=params=>columnGroupSvc?columnGroupSvc.createColumnGroups(params):params.columns;this.treeLeft=createGroups({columns:leftCols,idCreator,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=createGroups({columns:rightCols,idCreator,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=createGroups({columns:centerCols,idCreator,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(colModel){const allColumns=colModel.getCols(),pinnedLeft=[],center=[],pinnedRight=[];for(const col of allColumns){const pinned=col.getPinned();pinned?!0===pinned||"left"===pinned?pinnedLeft.push(col):pinnedRight.push(col):center.push(col)}this.ariaOrderColumns=pinnedLeft.concat(center).concat(pinnedRight)}getAriaColIndex(colOrGroup){let col;return col=isColumnGroup(colOrGroup)?colOrGroup.getLeafColumns()[0]:colOrGroup,this.ariaOrderColumns.indexOf(col)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach((columns=>{columns.forEach((column=>{if(isColumnGroup(column)){column.checkLeft()}}))}))}setLeftValuesOfCols(source){const{colModel}=this.beans;if(!colModel.getColDefCols())return;const allColumns=colModel.getCols().slice(0),doingRtl=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach((columns=>{if(doingRtl){let left=getWidthOfColsInList(columns);columns.forEach((column=>{left-=column.getActualWidth(),column.setLeft(left,source)}))}else{let left=0;columns.forEach((column=>{column.setLeft(left,source),left+=column.getActualWidth()}))}!function _removeAllFromUnorderedArray(array,toRemove){for(let i=0;i<toRemove.length;i++){const index=array.indexOf(toRemove[i]);index>=0&&(array[index]=array[array.length-1],array.pop())}}(allColumns,columns)})),allColumns.forEach((column=>{column.setLeft(null,source)}))}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(column){return this.allCols.indexOf(column)>=0}getLeftColsForRow(rowNode){const{leftCols,beans:{colModel}}=this;return colModel.colSpanActive?this.getColsForRow(rowNode,leftCols):leftCols}getRightColsForRow(rowNode){const{rightCols,beans:{colModel}}=this;return colModel.colSpanActive?this.getColsForRow(rowNode,rightCols):rightCols}getColsForRow(rowNode,displayedColumns,filterCallback,emptySpaceBeforeColumn){const result=[];let lastConsideredCol=null;for(let i=0;i<displayedColumns.length;i++){const col=displayedColumns[i],maxAllowedColSpan=displayedColumns.length-i,colSpan=Math.min(col.getColSpan(rowNode),maxAllowedColSpan),columnsToCheckFilter=[col];if(colSpan>1){const colsToRemove=colSpan-1;for(let j=1;j<=colsToRemove;j++)columnsToCheckFilter.push(displayedColumns[i+j]);i+=colsToRemove}let filterPasses;if(filterCallback?(filterPasses=!1,columnsToCheckFilter.forEach((colForFilter=>{filterCallback(colForFilter)&&(filterPasses=!0)}))):filterPasses=!0,filterPasses){if(0===result.length&&lastConsideredCol){!!emptySpaceBeforeColumn&&emptySpaceBeforeColumn(col)&&result.push(lastConsideredCol)}result.push(col)}lastConsideredCol=col}return result}getContainerWidth(pinned){switch(pinned){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(col){const allDisplayedColumns=this.allCols,oldIndex=allDisplayedColumns.indexOf(col);return oldIndex>0?allDisplayedColumns[oldIndex-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const func=child=>{this.colsAndGroupsMap[child.getUniqueId()]=child};depthFirstAllColumnTreeSearch(this.treeCenter,!1,func),depthFirstAllColumnTreeSearch(this.treeLeft,!1,func),depthFirstAllColumnTreeSearch(this.treeRight,!1,func)}isVisible(item){return this.colsAndGroupsMap[item.getUniqueId()]===item}getFirstColumn(){const isRtl=this.gos.get("enableRtl"),queryOrder=["leftCols","centerCols","rightCols"];isRtl&&queryOrder.reverse();for(let i=0;i<queryOrder.length;i++){const container=this[queryOrder[i]];if(container.length)return isRtl?_last(container):container[0]}return null}getColAfter(col){const allDisplayedColumns=this.allCols,oldIndex=allDisplayedColumns.indexOf(col);return oldIndex<allDisplayedColumns.length-1?allDisplayedColumns[oldIndex+1]:null}getColsLeftWidth(){return getWidthOfColsInList(this.leftCols)}getDisplayedColumnsRightWidth(){return getWidthOfColsInList(this.rightCols)}isColAtEdge(col,edge){const allColumns=this.allCols;if(!allColumns.length)return!1;const isFirst="first"===edge;let columnToCompare;if(isColumnGroup(col)){const leafColumns=col.getDisplayedLeafColumns();if(!leafColumns.length)return!1;columnToCompare=isFirst?leafColumns[0]:_last(leafColumns)}else columnToCompare=col;return(isFirst?allColumns[0]:_last(allColumns))===columnToCompare}},class extends BaseEventService{postConstruct(){const{globalListener,globalSyncListener}=this.beans;globalListener&&this.addGlobalListener(globalListener,!0),globalSyncListener&&this.addGlobalListener(globalSyncListener,!1)}},class extends BeanStub{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.instanceId=gridInstanceSequence++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new LocalEventService,this.globalEventHandlerFactory=restrictToSyncOnly=>(eventName,event)=>{if(!this.isAlive())return;const alwaysSync=ALWAYS_SYNC_GLOBAL_EVENTS.has(eventName);if(alwaysSync&&!restrictToSyncOnly||!alwaysSync&&restrictToSyncOnly)return;if(!function isPublicEventHandler(eventName){return!!_PUBLIC_EVENT_HANDLERS_MAP[eventName]}(eventName))return;const fireEvent=(name,e)=>{const eventHandlerName=_PUBLIC_EVENT_HANDLERS_MAP[name],eventHandler=this.gridOptions[eventHandlerName];"function"==typeof eventHandler&&this.beans.frameworkOverrides.wrapOutgoing((()=>eventHandler(e)))};if(this.gridReadyFired)fireEvent(eventName,event);else if("gridReady"===eventName){fireEvent(eventName,event),this.gridReadyFired=!0;for(const q of this.queueEvents)fireEvent(q.eventName,q.event);this.queueEvents=[]}else this.queueEvents.push({eventName,event})}}wireBeans(beans){this.gridOptions=beans.gridOptions,this.validation=beans.validation,this.api=beans.gridApi,this.gridId=beans.context.getId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options})=>{this.updateGridOptions({options,force:!0,source:"optionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(property){return this.gridOptions[property]??GRID_OPTION_DEFAULTS[property]}getCallback(property){return this.mergeGridCommonParams(this.gridOptions[property])}exists(property){return _exists(this.gridOptions[property])}mergeGridCommonParams(callback){if(callback){return callbackParams=>callback(this.addCommon(callbackParams))}return callback}updateGridOptions({options,force,source="api"}){const changeSet={id:changeSetId++,properties:[]},events=[],{gridOptions,validation}=this;for(const key of Object.keys(options)){const value=options[key];validation?.warnOnInitialPropertyUpdate(source,key);const shouldForce=force||"object"==typeof value&&"api"===source,previousValue=gridOptions[key];if(shouldForce||previousValue!==value){gridOptions[key]=value;const event={type:key,currentValue:value,previousValue,changeSet,source};events.push(event)}}this.validateGridOptions(this.gridOptions),changeSet.properties=events.map((event=>event.type)),events.forEach((event=>{_logIfDebug(this,`Updated property ${event.type} from`,event.previousValue," to ",event.currentValue),this.propEventSvc.dispatchEvent(event)}))}addPropertyEventListener(key,listener){this.propEventSvc.addEventListener(key,listener)}removePropertyEventListener(key,listener){this.propEventSvc.removeEventListener(key,listener)}getDomDataKey(){return this.domDataKey}addCommon(params){return params.api=this.api,params.context=this.gridOptionsContext,params}validateOptions(options,modValidations){for(const key of Object.keys(options)){const value=options[key];if(null==value||!1===value)continue;let moduleToCheck=modValidations[key];"function"==typeof moduleToCheck&&(moduleToCheck=moduleToCheck(options,this.gridOptions,this.beans)),moduleToCheck&&this.assertModuleRegistered(moduleToCheck,key)}}validateGridOptions(gridOptions){this.validateOptions(gridOptions,GRID_OPTIONS_MODULES),this.validation?.processGridOptions(gridOptions)}validateColDef(colDef,colId,skipInferenceCheck){!skipInferenceCheck&&this.beans.dataTypeSvc?.isColPendingInference(colId)||(this.validateOptions(colDef,COLUMN_DEFINITION_MOD_VALIDATIONS),this.validation?.validateColDef(colDef))}assertModuleRegistered(moduleName,reasonOrId){const registered=Array.isArray(moduleName)?moduleName.some((modName=>this.isModuleRegistered(modName))):this.isModuleRegistered(moduleName);return registered||_error(200,{...this.getModuleErrorParams(),moduleName,reasonOrId}),registered}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:_areModulesGridScoped(),rowModelType:this.get("rowModelType"),isUmd}}isModuleRegistered(moduleName){return _isModuleRegistered(moduleName,this.gridId,this.get("rowModelType"))}setInstanceDomData(element){element.__ag_grid_instance=this.instanceId}isElementInThisInstance(element){let pointer=element;for(;pointer;){const instanceId=pointer.__ag_grid_instance;if(_exists(instanceId)){return instanceId===this.instanceId}pointer=pointer.parentElement}return!1}},class extends BeanStub{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],(event=>this.refreshAll(_convertColumnEventSourceType(event.source)))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",(event=>this.setPivotMode(this.gos.get("pivotMode"),_convertColumnEventSourceType(event.source))))}createColsFromColDefs(source){const{beans}=this,{valueCache,colAutosize,rowGroupColsSvc,pivotColsSvc,valueColsSvc,visibleCols,eventSvc,groupHierarchyColSvc}=beans,dispatchEventsFunc=this.colDefs?_compareColumnStatesAndDispatchEvents(beans,source):void 0;valueCache?.expire();const oldCols=this.colDefCols?.list,oldTree=this.colDefCols?.tree,newTree=function _createColumnTree(beans,defs=null,primaryColumns,existingTree,source){const columnKeyCreator=new ColumnKeyCreator,{existingCols,existingGroups,existingColKeys}=extractExistingTreeData(existingTree);columnKeyCreator.addExistingKeys(existingColKeys);const unbalancedTree=_recursivelyCreateColumns(beans,defs,0,primaryColumns,existingCols,columnKeyCreator,existingGroups,source),{colGroupSvc}=beans,treeDepth=colGroupSvc?.findMaxDepth(unbalancedTree,0)??0,columnTree=colGroupSvc?colGroupSvc.balanceColumnTree(unbalancedTree,0,treeDepth,columnKeyCreator):unbalancedTree;return depthFirstOriginalTreeSearch(null,columnTree,((child,parent)=>{isProvidedColumnGroup(child)&&child.setupExpandable(),child.originalParent=parent})),{columnTree,treeDepth}}(beans,this.colDefs,!0,oldTree,source);_destroyColumnTree(beans,this.colDefCols?.tree,newTree.columnTree);const tree=newTree.columnTree,treeDepth=newTree.treeDepth,list=_getColumnsFromTree(tree),map={};list.forEach((col=>map[col.getId()]=col)),this.colDefCols={tree,treeDepth,list,map},this.createColumnsForService([groupHierarchyColSvc],this.colDefCols),rowGroupColsSvc?.extractCols(source,oldCols),pivotColsSvc?.extractCols(source,oldCols),valueColsSvc?.extractCols(source,oldCols),this.ready=!0,this.refreshCols(!0),visibleCols.refresh(source),eventSvc.dispatchEvent({type:"columnEverythingChanged",source}),dispatchEventsFunc&&(this.changeEventsDispatching=!0,dispatchEventsFunc(),this.changeEventsDispatching=!1),eventSvc.dispatchEvent({type:"newColumnsLoaded",source}),"gridInitializing"===source&&colAutosize?.applyAutosizeStrategy()}refreshCols(newColDefs){if(!this.colDefCols)return;const prevColTree=this.cols?.tree;this.saveColOrder();const{autoColSvc,selectionColSvc,rowNumbersSvc,quickFilter,pivotResultCols,showRowGroupCols,rowAutoHeight,visibleCols,colViewport,eventSvc}=this.beans,cols=this.selectCols(pivotResultCols,this.colDefCols);this.createColumnsForService([autoColSvc,selectionColSvc,rowNumbersSvc],cols);const shouldSortNewColDefs=function _shouldMaintainColumnOrder(gos,isPivotColumns){return isPivotColumns?!gos.get("enableStrictPivotColumnOrder"):gos.get("maintainColumnOrder")}(this.gos,this.showingPivotResult);newColDefs&&!shouldSortNewColDefs||this.restoreColOrder(cols),this.positionLockedCols(cols),showRowGroupCols?.refresh(),quickFilter?.refreshCols(),this.setColSpanActive(),rowAutoHeight?.setAutoHeightActive(cols),visibleCols.clear(),colViewport.clear();!_areEqual(prevColTree,this.cols.tree)&&eventSvc.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(services,cols){for(const service of services)service&&(service.createColumns(cols,(updateOrder=>{this.lastOrder=updateOrder(this.lastOrder),this.lastPivotOrder=updateOrder(this.lastPivotOrder)})),service.addColumns(cols))}selectCols(pivotResultColsSvc,colDefCols){const pivotResultCols=pivotResultColsSvc?.getPivotResultCols()??null;this.showingPivotResult=null!=pivotResultCols;const{map,list,tree,treeDepth}=pivotResultCols??colDefCols;if(this.cols={list:list.slice(),map:{...map},tree:tree.slice(),treeDepth},pivotResultCols){pivotResultCols.list.some((col=>void 0!==this.cols?.map[col.getColId()]))||(this.lastPivotOrder=null)}return this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc,selectionColSvc,gos}=this.beans,showAutoGroupAndValuesOnly=this.isPivotMode()&&!this.showingPivotResult,showSelectionColumn=selectionColSvc?.isSelectionColumnEnabled(),showRowNumbers=gos.get("rowNumbers"),valueColumns=valueColsSvc?.columns;return this.cols.list.filter((col=>{const isAutoGroupCol=isColumnGroupAutoCol(col);if(showAutoGroupAndValuesOnly){const isValueCol=valueColumns?.includes(col);return isAutoGroupCol||isValueCol||showSelectionColumn&&isColumnSelectionCol(col)||showRowNumbers&&isRowNumberCol(col)}return isAutoGroupCol||col.isVisible()}))}refreshAll(source){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(source))}setColsVisible(keys,visible=!1,source){_applyColumnState(this.beans,{state:keys.map((key=>({colId:"string"==typeof key?key:key.getColId(),hide:!visible})))},source)}restoreColOrder(cols){const lastOrder=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!lastOrder)return;const preservedOrder=lastOrder.filter((col=>null!=cols.map[col.getId()]));if(0===preservedOrder.length)return;if(preservedOrder.length===cols.list.length)return void(cols.list=preservedOrder);const hasSiblings=col=>{const ancestor=col.getOriginalParent();if(!ancestor)return!1;return ancestor.getChildren().length>1||hasSiblings(ancestor)};if(!preservedOrder.some((col=>hasSiblings(col)))){const preservedOrderSet=new Set(preservedOrder);for(const col of cols.list)preservedOrderSet.has(col)||preservedOrder.push(col);return void(cols.list=preservedOrder)}const colPositionMap=new Map;for(let i=0;i<preservedOrder.length;i++){const col=preservedOrder[i];colPositionMap.set(col,i)}const additionalCols=cols.list.filter((col=>!colPositionMap.has(col)));if(0===additionalCols.length)return void(cols.list=preservedOrder);const getPreviousSibling=(col,group)=>{const parent=group?group.getOriginalParent():col.getOriginalParent();if(!parent)return null;let highestIdx=null,highestSibling=null;for(const child of parent.getChildren())if(child!==group&&child!==col)if(child instanceof AgColumn){const colIdx=colPositionMap.get(child);if(null==colIdx)continue;(null==highestIdx||highestIdx<colIdx)&&(highestIdx=colIdx,highestSibling=child)}else child.forEachLeafColumn((leafCol=>{const colIdx=colPositionMap.get(leafCol);null!=colIdx&&(null==highestIdx||highestIdx<colIdx)&&(highestIdx=colIdx,highestSibling=leafCol)}));return null==highestSibling?getPreviousSibling(col,parent):highestSibling},noSiblingsAvailable=[],previousSiblingPosMap=new Map;for(const col of additionalCols){const prevSiblingIdx=getPreviousSibling(col,null);if(null==prevSiblingIdx){noSiblingsAvailable.push(col);continue}const prev=previousSiblingPosMap.get(prevSiblingIdx);void 0===prev?previousSiblingPosMap.set(prevSiblingIdx,col):Array.isArray(prev)?prev.push(col):previousSiblingPosMap.set(prevSiblingIdx,[prev,col])}const result=new Array(cols.list.length);let resultPointer=result.length-1;for(let i=noSiblingsAvailable.length-1;i>=0;i--)result[resultPointer--]=noSiblingsAvailable[i];for(let i=preservedOrder.length-1;i>=0;i--){const nextCol=preservedOrder[i],extraCols=previousSiblingPosMap.get(nextCol);if(extraCols)if(Array.isArray(extraCols))for(let x=extraCols.length-1;x>=0;x--){const col=extraCols[x];result[resultPointer--]=col}else result[resultPointer--]=extraCols;result[resultPointer--]=nextCol}cols.list=result}positionLockedCols(cols){cols.list=placeLockedColumns(cols.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some((col=>null!=col.getColDef().colSpan))}isPivotMode(){return this.pivotMode}setPivotMode(pivotMode,source){if(pivotMode===this.pivotMode)return;if(this.pivotMode=pivotMode,!this.ready)return;this.refreshCols(!1);const{visibleCols,eventSvc}=this.beans;visibleCols.refresh(source),eventSvc.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const pivotColumns=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!pivotColumns?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const source=_convertColumnEventSourceType(e.source);this.createColsFromColDefs(source)}setColumnDefs(columnDefs,source){this.colDefs=columnDefs,this.createColsFromColDefs(source)}destroy(){_destroyColumnTree(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(callback){const{pivotResultCols,autoColSvc,selectionColSvc,groupHierarchyColSvc}=this.beans;_forAll(this.colDefCols?.list,callback),_forAll(autoColSvc?.columns?.list,callback),_forAll(selectionColSvc?.columns?.list,callback),_forAll(groupHierarchyColSvc?.columns?.list,callback),_forAll(pivotResultCols?.getPivotResultCols()?.list,callback)}getColsForKeys(keys){return keys?keys.map((key=>this.getCol(key))).filter((col=>null!=col)):[]}getColDefCol(key){return this.colDefCols?.list?this.getColFromCollection(key,this.colDefCols):null}getCol(key){return null==key?null:this.getColFromCollection(key,this.cols)}getColById(key){return this.cols?.map[key]??null}getColFromCollection(key,cols){if(null==cols)return null;const{map,list}=cols;if("string"==typeof key&&map[key])return map[key];for(let i=0;i<list.length;i++)if(_columnsMatch(list[i],key))return list[i];const{autoColSvc,selectionColSvc,groupHierarchyColSvc}=this.beans;return autoColSvc?.getColumn(key)??selectionColSvc?.getColumn(key)??groupHierarchyColSvc?.getColumn(key)??null}},class extends BeanStub{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds,bottomRowBounds}=this;return topRowBounds&&bottomRowBounds?Math.max(bottomRowBounds.rowTop+bottomRowBounds.rowHeight-topRowBounds.rowTop,0):0}getCurrentPagePixelRange(){const{topRowBounds,bottomRowBounds}=this;return{pageFirstPixel:topRowBounds?.rowTop??0,pageLastPixel:bottomRowBounds?bottomRowBounds.rowTop+bottomRowBounds.rowHeight:0}}calculateBounds(topDisplayedRowIndex,bottomDisplayedRowIndex){const{rowModel}=this.beans,topRowBounds=rowModel.getRowBounds(topDisplayedRowIndex);topRowBounds&&(topRowBounds.rowIndex=topDisplayedRowIndex),this.topRowBounds=topRowBounds;const bottomRowBounds=rowModel.getRowBounds(bottomDisplayedRowIndex);bottomRowBounds&&(bottomRowBounds.rowIndex=bottomDisplayedRowIndex),this.bottomRowBounds=bottomRowBounds,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const value=this.topRowBounds?.rowTop??0;this.pixelOffset!==value&&(this.pixelOffset=value,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},class extends BeanStub{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(modelUpdatedEvent){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:modelUpdatedEvent?.animate??!1,newData:modelUpdatedEvent?.newData??!1,newPage:modelUpdatedEvent?.newPage??!1,newPageSize:modelUpdatedEvent?.newPageSize??!1,keepRenderedRows:modelUpdatedEvent?.keepRenderedRows??!1})}calculatePages(){const{pageBounds,pagination,rowModel}=this.beans;pagination?pagination.calculatePages():pageBounds.calculateBounds(0,rowModel.getRowCount()-1)}},class extends BeanStub{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const onCellSelectionChanged=()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onCellSelectionChanged()))},onColumnMovedPinnedVisible=()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.updateRangeBordersIfRangeCount()))},addCellSelectionListeners=()=>{this.eventSvc.addListener("cellSelectionChanged",onCellSelectionChanged),this.eventSvc.addListener("columnMoved",onColumnMovedPinnedVisible),this.eventSvc.addListener("columnPinned",onColumnMovedPinnedVisible),this.eventSvc.addListener("columnVisible",onColumnMovedPinnedVisible)},removeCellSelectionListeners=()=>{this.eventSvc.removeListener("cellSelectionChanged",onCellSelectionChanged),this.eventSvc.removeListener("columnMoved",onColumnMovedPinnedVisible),this.eventSvc.removeListener("columnPinned",onColumnMovedPinnedVisible),this.eventSvc.removeListener("columnVisible",onColumnMovedPinnedVisible)};this.addDestroyFunc((()=>removeCellSelectionListeners())),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],(()=>{_isCellSelectionEnabled(this.gos)?addCellSelectionListeners():removeCellSelectionListeners()}));_isCellSelectionEnabled(this.gos)&&addCellSelectionListeners()}}wireBeans(beans){this.pageBounds=beans.pageBounds,this.colModel=beans.colModel,this.pinnedRowModel=beans.pinnedRowModel,this.rowModel=beans.rowModel,this.focusSvc=beans.focusSvc,this.rowContainerHeight=beans.rowContainerHeight,this.ctrlsSvc=beans.ctrlsSvc,this.editSvc=beans.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,(p=>{this.gridBodyCtrl=p.gridBodyCtrl,this.initialise()}))}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],(()=>this.onDomLayoutChanged())),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],(()=>this.redraw())),this.addManagedPropertyListener("suppressCellFocus",(e=>this.onSuppressCellFocusChanged(e.currentValue))),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],(()=>this.redrawRows())),this.addManagedPropertyListener("cellSelection",(({currentValue,previousValue})=>{(!previousValue&&currentValue||previousValue&&!currentValue)&&this.redrawRows()}));const{stickyRowSvc,gos,showRowGroupCols}=this.beans;if(showRowGroupCols&&this.addManagedPropertyListener("showOpenedGroup",(()=>{const columns=showRowGroupCols.getShowRowGroupCols();columns.length&&this.refreshCells({columns,force:!0})})),stickyRowSvc)this.stickyRowFeature=stickyRowSvc.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const gridBodyCtrl=this.gridBodyCtrl;gridBodyCtrl.setStickyTopHeight(0),gridBodyCtrl.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=_isDomLayout(gos,"print"),this.embedFullWidthRows=this.printLayout||gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const countProp=this.getKeepDetailRowsCount(),count=null!=countProp?countProp:3;this.cachedRowCtrls=new RowCtrlCache(count)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const liveList=Object.values(this.rowCtrlsByRowIndex),zombieList=Object.values(this.zombieRowCtrls),cachedList=this.cachedRowCtrls?.getEntries()??[];zombieList.length>0||cachedList.length>0?this.allRowCtrls=[...liveList,...zombieList,...cachedList]:this.allRowCtrls=liveList}isCellBeingRendered(rowIndex,column){const rowCtrl=this.rowCtrlsByRowIndex[rowIndex];if(!column||!rowCtrl)return!!rowCtrl;if(rowCtrl.isFullWidth())return!0;const spannedCell=this.beans.spannedRowRenderer?.getCellByPosition({rowIndex,column,rowPinned:null});return!!spannedCell||!!rowCtrl.getCellCtrl(column)||!rowCtrl.isRowRendered()}updateCellFocus(event){this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onCellFocused(event))),this.getFullWidthRowCtrls().forEach((rowCtrl=>rowCtrl.onFullWidthRowFocused(event)))}onCellFocusChanged(event){if(event&&null!=event.rowIndex&&!event.rowPinned){const col=this.beans.colModel.getCol(event.column)??void 0;this.isCellBeingRendered(event.rowIndex,col)||this.redraw()}this.updateCellFocus(event)}onSuppressCellFocusChanged(suppressCellFocus){this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onSuppressCellFocusChanged(suppressCellFocus))),this.getFullWidthRowCtrls().forEach((rowCtrl=>rowCtrl.onSuppressCellFocusChanged(suppressCellFocus)))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:event=>this.onCellFocusChanged(event),cellFocusCleared:()=>this.updateCellFocus(),flashCells:event=>{const{cellFlashSvc}=this.beans;cellFlashSvc&&this.getAllCellCtrls().forEach((cellCtrl=>cellFlashSvc.onFlashCells(cellCtrl,event)))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onColumnHover()))},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onDisplayedColumnsChanged()))},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onLeftChanged()))}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach((func=>func())),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();this.colModel.getCols().forEach((col=>{const forEachCellWithThisCol=callback=>{this.getAllCellCtrls().forEach((cellCtrl=>{cellCtrl.column===col&&callback(cellCtrl)}))},leftChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onLeftChanged()))},widthChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onWidthChanged()))},firstRightPinnedChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onFirstRightPinnedChanged()))},lastLeftPinnedChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onLastLeftPinnedChanged()))},colDefChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onColDefChanged()))};col.__addEventListener("leftChanged",leftChangedListener),col.__addEventListener("widthChanged",widthChangedListener),col.__addEventListener("firstRightPinnedChanged",firstRightPinnedChangedListener),col.__addEventListener("lastLeftPinnedChanged",lastLeftPinnedChangedListener),col.__addEventListener("colDefChanged",colDefChangedListener),this.destroyFuncsForColumnListeners.push((()=>{col.__removeEventListener("leftChanged",leftChangedListener),col.__removeEventListener("widthChanged",widthChangedListener),col.__removeEventListener("firstRightPinnedChanged",firstRightPinnedChangedListener),col.__removeEventListener("lastLeftPinnedChanged",lastLeftPinnedChangedListener),col.__removeEventListener("colDefChanged",colDefChangedListener)}))}))}onDomLayoutChanged(){const printLayout=_isDomLayout(this.gos,"print"),embedFullWidthRows=printLayout||this.gos.get("embedFullWidthRows"),destroyRows=embedFullWidthRows!==this.embedFullWidthRows||this.printLayout!==printLayout;this.printLayout=printLayout,this.embedFullWidthRows=embedFullWidthRows,destroyRows&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const rowIndexesToRemove=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(rowIndexesToRemove)}onPageLoaded(event){const params={recycleRows:event.keepRenderedRows,animate:event.animate,newData:event.newData,newPage:event.newPage,onlyBody:!0};this.redrawAfterModelUpdate(params)}getAllCellsNotSpanningForColumn(column){const res=[];return this.getAllRowCtrls().forEach((rowCtrl=>{const eCell=rowCtrl.getCellCtrl(column,!0)?.eGui;eCell&&res.push(eCell)})),res}refreshFloatingRowComps(recycleRows=!0){this.refreshFloatingRows(this.topRowCtrls,"top",recycleRows),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",recycleRows)}refreshFloatingRows(rowCtrls,floating,recycleRows){const{pinnedRowModel,beans,printLayout}=this,rowCtrlMap=Object.fromEntries(rowCtrls.map((ctrl=>[ctrl.rowNode.id,ctrl])));pinnedRowModel?.forEachPinnedRow(floating,((node,i)=>{const rowCtrl=rowCtrls[i];rowCtrl&&void 0===pinnedRowModel.getPinnedRowById(rowCtrl.rowNode.id,floating)&&(rowCtrl.destroyFirstPass(),rowCtrl.destroySecondPass()),node.id in rowCtrlMap&&recycleRows?(rowCtrls[i]=rowCtrlMap[node.id],delete rowCtrlMap[node.id]):rowCtrls[i]=new RowCtrl(node,beans,!1,!1,printLayout)}));const rowNodeCount=("top"===floating?pinnedRowModel?.getPinnedTopRowCount():pinnedRowModel?.getPinnedBottomRowCount())??0;rowCtrls.length=rowNodeCount}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(rowNode,suppressEvent=!1){if(rowNode.sticky)this.stickyRowFeature?.refreshStickyNode(rowNode);else{if(this.cachedRowCtrls?.has(rowNode))return void this.cachedRowCtrls.removeRow(rowNode);{const destroyAndRecreateCtrl=dataStruct=>{const ctrl=dataStruct[rowNode.rowIndex];ctrl&&ctrl.rowNode===rowNode&&(ctrl.destroyFirstPass(),ctrl.destroySecondPass(),dataStruct[rowNode.rowIndex]=this.createRowCon(rowNode,!1,!1))};switch(rowNode.rowPinned){case"top":destroyAndRecreateCtrl(this.topRowCtrls);break;case"bottom":destroyAndRecreateCtrl(this.bottomRowCtrls);break;default:destroyAndRecreateCtrl(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}suppressEvent||this.dispatchDisplayedRowsChanged(!1)}redrawRows(rowNodes){const{editSvc}=this.beans;editSvc?.isEditing()&&(editSvc.isBatchEditing()?editSvc.cleanupEditors():editSvc.stopEditing(void 0,{source:"api"}));if(null!=rowNodes)return rowNodes?.forEach((node=>this.redrawRow(node,!0))),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}redrawAfterModelUpdate(params={}){this.getLockOnRefresh();const focusedCell=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(params);const recycleRows=!params.domLayoutChanged&&!!params.recycleRows,animate=params.animate&&_isAnimateRows(this.gos),rowsToRecycle=recycleRows?this.getRowsToRecycle():null;recycleRows||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature,gos}=this;if(stickyRowFeature){stickyRowFeature.checkStickyRows();const extraHeight=stickyRowFeature.extraTopHeight+stickyRowFeature.extraBottomHeight;extraHeight&&this.updateContainerHeights(extraHeight)}this.recycleRows(rowsToRecycle,animate),this.gridBodyCtrl.updateRowCount(),params.onlyBody||this.refreshFloatingRowComps(gos.get("enableRowPinning")?recycleRows:void 0),this.dispatchDisplayedRowsChanged(),null!=focusedCell&&this.restoreFocusedCell(focusedCell),this.releaseLockOnRefresh()}scrollToTopIfNewData(params){const scrollToTop=params.newData||params.newPage,suppressScrollToTop=this.gos.get("suppressScrollOnNewData");scrollToTop&&!suppressScrollToTop&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(additionalHeight=0){const{rowContainerHeight}=this;if(this.printLayout)return void rowContainerHeight.setModelHeight(null);let containerHeight=this.pageBounds.getCurrentPageHeight();0===containerHeight&&(containerHeight=1),rowContainerHeight.setModelHeight(containerHeight+additionalHeight)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(_errMsg(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(cellPosition){if(!cellPosition)return;const focusSvc=this.beans.focusSvc,cellToFocus=this.findPositionToFocus(cellPosition);cellToFocus?cellPosition.rowIndex===cellToFocus.rowIndex&&cellPosition.rowPinned==cellToFocus.rowPinned?focusSvc.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(_addGridCommonParams(this.gos,{...cellToFocus,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"})):focusSvc.setFocusedCell({...cellToFocus,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0}):focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:getFocusHeaderRowCount(this.beans)-1,column:cellPosition.column}})}findPositionToFocus(cellPosition){const{pagination,pageBounds}=this.beans;let rowPosition=cellPosition;for(null==rowPosition.rowPinned&&pagination&&pageBounds&&!pagination.isRowInPage(rowPosition.rowIndex)&&(rowPosition={rowPinned:null,rowIndex:pageBounds.getFirstRow()});rowPosition;){if(null==rowPosition.rowPinned&&pageBounds)if(rowPosition.rowIndex<pageBounds.getFirstRow()){if(rowPosition=_getRowAbove(this.beans,{rowPinned:null,rowIndex:0}),!rowPosition)return null}else rowPosition.rowIndex>pageBounds.getLastRow()&&(rowPosition={rowPinned:null,rowIndex:pageBounds.getLastRow()});const row=this.getRowByPosition(rowPosition);if(row?.isAlive())return{...row.getRowPosition(),column:cellPosition.column};rowPosition=_getRowAbove(this.beans,rowPosition)}return null}getAllCellCtrls(){const res=[],rowCtrls=this.getAllRowCtrls(),rowCtrlsLength=rowCtrls.length;for(let i=0;i<rowCtrlsLength;i++){const cellCtrls=rowCtrls[i].getAllCellCtrls(),cellCtrlsLength=cellCtrls.length;for(let j=0;j<cellCtrlsLength;j++)res.push(cellCtrls[j])}return res}getAllRowCtrls(){const{spannedRowRenderer}=this.beans,stickyTopRowCtrls=this.getStickyTopRowCtrls(),stickyBottomRowCtrls=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...stickyTopRowCtrls,...stickyBottomRowCtrls,...spannedRowRenderer?.getCtrls("top")??[],...spannedRowRenderer?.getCtrls("bottom")??[],...spannedRowRenderer?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(eventName,rowIndex,callback){const rowComp=this.rowCtrlsByRowIndex[rowIndex];rowComp&&rowComp.addEventListener(eventName,callback)}refreshCells({rowNodes,columns,force,suppressFlash}={}){const refreshCellParams={force,newData:!1,suppressFlash};for(const cellCtrl of this.getCellCtrls(rowNodes,columns))cellCtrl.refreshOrDestroyCell(refreshCellParams);this.refreshFullWidth(rowNodes)}refreshRows(params={}){this.getRowCtrls(params.rowNodes).forEach((rowCtrl=>rowCtrl.refreshRow(params))),this.refreshFullWidth(params.rowNodes)}refreshFullWidth(rowNodes){if(!rowNodes)return;let rowRedrawn=!1;for(const rowCtrl of this.getRowCtrls(rowNodes)){if(!rowCtrl.isFullWidth())continue;rowCtrl.refreshFullWidth()||(rowRedrawn=!0,this.redrawRow(rowCtrl.rowNode,!0))}rowRedrawn&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(rowNodes){const rowIdsMap=mapRowNodes(rowNodes),allRowCtrls=this.getAllRowCtrls();return rowNodes&&rowIdsMap?allRowCtrls.filter((rowCtrl=>isRowInMap(rowCtrl.rowNode,rowIdsMap))):allRowCtrls}getCellCtrls(rowNodes,columns){let colIdsMap;_exists(columns)&&(colIdsMap={},columns.forEach((colKey=>{const column=this.colModel.getCol(colKey);_exists(column)&&(colIdsMap[column.getId()]=!0)})));const res=[];return this.getRowCtrls(rowNodes).forEach((rowCtrl=>{rowCtrl.getAllCellCtrls().forEach((cellCtrl=>{const colId=cellCtrl.column.getId();colIdsMap&&!colIdsMap[colId]||res.push(cellCtrl)}))})),res}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(suppressAnimation=!1){const rowIndexesToRemove=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(rowIndexesToRemove,suppressAnimation),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const stubNodeIndexes=[];for(const index of Object.keys(this.rowCtrlsByRowIndex)){null==this.rowCtrlsByRowIndex[index].rowNode.id&&stubNodeIndexes.push(index)}this.removeRowCtrls(stubNodeIndexes);const ctrlsByIdMap={};for(const rowCtrl of Object.values(this.rowCtrlsByRowIndex)){ctrlsByIdMap[rowCtrl.rowNode.id]=rowCtrl}return this.rowCtrlsByRowIndex={},ctrlsByIdMap}removeRowCtrls(rowsToRemove,suppressAnimation=!1){rowsToRemove.forEach((indexToRemove=>{const rowCtrl=this.rowCtrlsByRowIndex[indexToRemove];rowCtrl&&(rowCtrl.destroyFirstPass(suppressAnimation),rowCtrl.destroySecondPass()),delete this.rowCtrlsByRowIndex[indexToRemove]}))}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(params={}){const{focusSvc,animationFrameSvc}=this.beans,{afterScroll}=params;let cellFocused;const stickyRowFeature=this.stickyRowFeature;stickyRowFeature&&(cellFocused=focusSvc?.getFocusCellToUseAfterRefresh()||void 0);const oldFirstRow=this.firstRenderedRow,oldLastRow=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let hasStickyRowChanges=!1;if(stickyRowFeature){hasStickyRowChanges=stickyRowFeature.checkStickyRows();const extraHeight=stickyRowFeature.extraTopHeight+stickyRowFeature.extraBottomHeight;extraHeight&&this.updateContainerHeights(extraHeight)}const rangeChanged=this.firstRenderedRow!==oldFirstRow||this.lastRenderedRow!==oldLastRow;if((!afterScroll||hasStickyRowChanges||rangeChanged)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,afterScroll),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(afterScroll&&!hasStickyRowChanges),null!=cellFocused)){const newFocusedCell=focusSvc?.getFocusCellToUseAfterRefresh();null!=cellFocused&&null==newFocusedCell&&(animationFrameSvc?.flushAllFrames(),this.restoreFocusedCell(cellFocused))}}removeRowCompsNotToDraw(indexesToDraw,suppressAnimation){const indexesToDrawMap={};indexesToDraw.forEach((index=>indexesToDrawMap[index]=!0));const indexesNotToDraw=Object.keys(this.rowCtrlsByRowIndex).filter((index=>!indexesToDrawMap[index]));this.removeRowCtrls(indexesNotToDraw,suppressAnimation)}calculateIndexesToDraw(rowsToRecycle){const indexesToDraw=[];for(let i=this.firstRenderedRow;i<=this.lastRenderedRow;i++)indexesToDraw.push(i);const pagination=this.beans.pagination,focusedRowIndex=this.beans.focusSvc?.getFocusedCell()?.rowIndex;null!=focusedRowIndex&&(focusedRowIndex<this.firstRenderedRow||focusedRowIndex>this.lastRenderedRow)&&(!pagination||pagination.isRowInPage(focusedRowIndex))&&focusedRowIndex<this.rowModel.getRowCount()&&indexesToDraw.push(focusedRowIndex);const checkRowToDraw=rowComp=>{const index=rowComp.rowNode.rowIndex;null!=index&&index!==focusedRowIndex&&(index<this.firstRenderedRow||index>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(rowComp)&&indexesToDraw.push(index)};for(const rowCtrl of Object.values(this.rowCtrlsByRowIndex))checkRowToDraw(rowCtrl);if(rowsToRecycle)for(const rowCtrl of Object.values(rowsToRecycle))checkRowToDraw(rowCtrl);indexesToDraw.sort(((a,b)=>a-b));const ret=[];for(let i=0;i<indexesToDraw.length;i++){const currRow=indexesToDraw[i],rowNode=this.rowModel.getRow(currRow);rowNode&&!rowNode.sticky&&ret.push(currRow)}return ret}recycleRows(rowsToRecycle,animate=!1,afterScroll=!1){const indexesToDraw=this.calculateIndexesToDraw(rowsToRecycle);(this.printLayout||afterScroll)&&(animate=!1),this.removeRowCompsNotToDraw(indexesToDraw,!animate);const rowCtrls=[];if(indexesToDraw.forEach((rowIndex=>{const rowCtrl=this.createOrUpdateRowCtrl(rowIndex,rowsToRecycle,animate,afterScroll);_exists(rowCtrl)&&rowCtrls.push(rowCtrl)})),rowsToRecycle){const{animationFrameSvc}=this.beans;animationFrameSvc?.active&&afterScroll&&!this.printLayout?animationFrameSvc.addDestroyTask((()=>{this.destroyRowCtrls(rowsToRecycle,animate),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(rowsToRecycle,animate)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(afterScroll=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll})}onDisplayedColumnsChanged(){const{visibleCols}=this.beans,pinningLeft=visibleCols.isPinningLeft(),pinningRight=visibleCols.isPinningRight();(this.pinningLeft!==pinningLeft||pinningRight!==this.pinningRight)&&(this.pinningLeft=pinningLeft,this.pinningRight=pinningRight,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const rowsToRemove=[];this.getFullWidthRowCtrls().forEach((fullWidthCtrl=>{const rowIndex=fullWidthCtrl.rowNode.rowIndex;rowsToRemove.push(rowIndex.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(rowsToRemove),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(rowNodes){const rowNodesMap=mapRowNodes(rowNodes);return this.getAllRowCtrls().filter((rowCtrl=>{if(!rowCtrl.isFullWidth())return!1;const rowNode=rowCtrl.rowNode;return!(null!=rowNodesMap&&!isRowInMap(rowNode,rowNodesMap))}))}createOrUpdateRowCtrl(rowIndex,rowsToRecycle,animate,afterScroll){let rowNode,rowCtrl=this.rowCtrlsByRowIndex[rowIndex];rowCtrl||(rowNode=this.rowModel.getRow(rowIndex),_exists(rowNode)&&_exists(rowsToRecycle)&&rowsToRecycle[rowNode.id]&&rowNode.alreadyRendered&&(rowCtrl=rowsToRecycle[rowNode.id],rowsToRecycle[rowNode.id]=null));if(!rowCtrl){if(rowNode||(rowNode=this.rowModel.getRow(rowIndex)),!_exists(rowNode))return;rowCtrl=this.createRowCon(rowNode,animate,afterScroll)}return rowNode&&(rowNode.alreadyRendered=!0),this.rowCtrlsByRowIndex[rowIndex]=rowCtrl,rowCtrl}destroyRowCtrls(rowCtrlsMap,animate){const executeInAWhileFuncs=[];if(rowCtrlsMap)for(const rowCtrl of Object.values(rowCtrlsMap))if(rowCtrl)if(this.cachedRowCtrls&&rowCtrl.isCacheable())this.cachedRowCtrls.addRow(rowCtrl);else if(rowCtrl.destroyFirstPass(!animate),animate){const instanceId=rowCtrl.instanceId;this.zombieRowCtrls[instanceId]=rowCtrl,executeInAWhileFuncs.push((()=>{rowCtrl.destroySecondPass(),delete this.zombieRowCtrls[instanceId]}))}else rowCtrl.destroySecondPass();animate&&(executeInAWhileFuncs.push((()=>{this.isAlive()&&(this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged())})),window.setTimeout((()=>executeInAWhileFuncs.forEach((func=>func()))),400))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*_getRowHeightAsNumber(this.beans)}workOutFirstAndLastRowsToRender(){const{rowContainerHeight,pageBounds,rowModel}=this;let newFirst,newLast;if(rowContainerHeight.updateOffset(),rowModel.isRowsToRender())if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),newFirst=pageBounds.getFirstRow(),newLast=pageBounds.getLastRow();else{const bufferPixels=this.getRowBufferInPixels(),scrollFeature=this.ctrlsSvc.getScrollFeature(),suppressRowVirtualisation=this.gos.get("suppressRowVirtualisation");let firstPixel,lastPixel,rowHeightsChanged=!1;do{const paginationOffset=pageBounds.getPixelOffset(),{pageFirstPixel,pageLastPixel}=pageBounds.getCurrentPagePixelRange(),divStretchOffset=rowContainerHeight.divStretchOffset,bodyVRange=scrollFeature.getVScrollPosition(),bodyTopPixel=bodyVRange.top,bodyBottomPixel=bodyVRange.bottom;suppressRowVirtualisation?(firstPixel=pageFirstPixel+divStretchOffset,lastPixel=pageLastPixel+divStretchOffset):(firstPixel=Math.max(bodyTopPixel+paginationOffset-bufferPixels,pageFirstPixel)+divStretchOffset,lastPixel=Math.min(bodyBottomPixel+paginationOffset+bufferPixels,pageLastPixel)+divStretchOffset),this.firstVisibleVPixel=Math.max(bodyTopPixel+paginationOffset,pageFirstPixel)+divStretchOffset,this.lastVisibleVPixel=Math.min(bodyBottomPixel+paginationOffset,pageLastPixel)+divStretchOffset,rowHeightsChanged=this.ensureAllRowsInRangeHaveHeightsCalculated(firstPixel,lastPixel)}while(rowHeightsChanged);let firstRowIndex=rowModel.getRowIndexAtPixel(firstPixel),lastRowIndex=rowModel.getRowIndexAtPixel(lastPixel);const pageFirstRow=pageBounds.getFirstRow(),pageLastRow=pageBounds.getLastRow();firstRowIndex<pageFirstRow&&(firstRowIndex=pageFirstRow),lastRowIndex>pageLastRow&&(lastRowIndex=pageLastRow),newFirst=firstRowIndex,newLast=lastRowIndex}else newFirst=0,newLast=-1;const rowLayoutNormal=_isDomLayout(this.gos,"normal"),suppressRowCountRestriction=this.gos.get("suppressMaxRenderedRowRestriction"),rowBufferMaxSize=Math.max(this.getRowBuffer(),500);rowLayoutNormal&&!suppressRowCountRestriction&&newLast-newFirst>rowBufferMaxSize&&(newLast=newFirst+rowBufferMaxSize);const firstDiffers=newFirst!==this.firstRenderedRow,lastDiffers=newLast!==this.lastRenderedRow;(firstDiffers||lastDiffers)&&(this.firstRenderedRow=newFirst,this.lastRenderedRow=newLast,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:newFirst,lastRow:newLast}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,_requestAnimationFrame(this.beans,(()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})})))}ensureAllRowsInRangeHaveHeightsCalculated(topPixel,bottomPixel){const pinnedRowHeightsChanged=this.pinnedRowModel?.ensureRowHeightsValid(),stickyHeightsChanged=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds,rowModel}=this,rowModelHeightsChanged=rowModel.ensureRowHeightsValid(topPixel,bottomPixel,pageBounds.getFirstRow(),pageBounds.getLastRow());return(rowModelHeightsChanged||stickyHeightsChanged)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),!!(stickyHeightsChanged||rowModelHeightsChanged||pinnedRowHeightsChanged)&&(this.updateContainerHeights(),!0)}doNotUnVirtualiseRow(rowCtrl){const rowNode=rowCtrl.rowNode,rowHasFocus=this.focusSvc.isRowFocused(rowNode.rowIndex,rowNode.rowPinned),rowIsEditing=this.editSvc?.isEditing(rowCtrl),rowIsDetail=rowNode.detail;if(!(rowHasFocus||rowIsEditing||rowIsDetail))return false;return!!this.isRowPresent(rowNode)}isRowPresent(rowNode){return!!this.rowModel.isRowPresent(rowNode)&&(this.beans.pagination?.isRowInPage(rowNode.rowIndex)??!0)}createRowCon(rowNode,animate,afterScroll){const rowCtrlFromCache=this.cachedRowCtrls?.getRow(rowNode)??null;if(rowCtrlFromCache)return rowCtrlFromCache;const useAnimationFrameForCreate=afterScroll&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new RowCtrl(rowNode,this.beans,animate,useAnimationFrameForCreate,this.printLayout)}getRenderedNodes(){const viewportRows=Object.values(this.rowCtrlsByRowIndex).map((rowCtrl=>rowCtrl.rowNode));return[...this.getStickyTopRowCtrls().map((rowCtrl=>rowCtrl.rowNode)),...viewportRows,...this.getStickyBottomRowCtrls().map((rowCtrl=>rowCtrl.rowNode))]}getRowByPosition(rowPosition){let rowCtrl;const{rowIndex}=rowPosition;switch(rowPosition.rowPinned){case"top":rowCtrl=this.topRowCtrls[rowIndex];break;case"bottom":rowCtrl=this.bottomRowCtrls[rowIndex];break;default:rowCtrl=this.rowCtrlsByRowIndex[rowIndex],rowCtrl||(rowCtrl=this.getStickyTopRowCtrls().find((ctrl=>ctrl.rowNode.rowIndex===rowIndex))||null,rowCtrl||(rowCtrl=this.getStickyBottomRowCtrls().find((ctrl=>ctrl.rowNode.rowIndex===rowIndex))||null))}return rowCtrl}isRangeInRenderedViewport(startIndex,endIndex){if(null==startIndex||null==endIndex)return!1;const blockAfterViewport=startIndex>this.lastRenderedRow;return!(endIndex<this.firstRenderedRow)&&!blockAfterViewport}},class extends BeanStub{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEditSvc=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(beans){this.expressionSvc=beans.expressionSvc,this.colModel=beans.colModel,this.valueCache=beans.valueCache,this.dataTypeSvc=beans.dataTypeSvc,this.editSvc=beans.editSvc,this.hasEditSvc=!!beans.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=_isServerSideRowModel(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const listener=event=>this.callColumnCellValueChangedHandler(event);this.eventSvc.addListener("cellValueChanged",listener,!0),this.addDestroyFunc((()=>this.eventSvc.removeListener("cellValueChanged",listener,!0))),this.addManagedPropertyListener("treeData",(propChange=>this.isTreeData=propChange.currentValue))}getValueForDisplay(column,node,includeValueFormatted=!1,exporting=!1,source="ui"){const{showRowGroupColValueSvc}=this.beans,isFullWidthGroup=!column&&node.group,isGroupCol=column?.colDef.showRowGroup,processTreeDataAsGroup=!this.isTreeData||node.footer;if(showRowGroupColValueSvc&&processTreeDataAsGroup&&(isFullWidthGroup||isGroupCol)){const groupValue=showRowGroupColValueSvc.getGroupValue(node,column);if(null==groupValue)return{value:null,valueFormatted:null};if(!includeValueFormatted)return{value:groupValue.value,valueFormatted:null};const valueFormatted=showRowGroupColValueSvc.formatAndPrefixGroupColValue(groupValue,column,exporting);return{value:groupValue.value,valueFormatted}}if(!column)return{value:node.key,valueFormatted:null};const isPivotLeaf=node.leafGroup&&this.colModel.isPivotMode(),isOpenedGroup=node.group&&node.expanded&&!node.footer&&!isPivotLeaf,groupShowsAggData=this.gos.get("groupSuppressBlankHeader")||!node.sibling,ignoreAggData=isOpenedGroup&&!groupShowsAggData,value=this.getValue(column,node,ignoreAggData,source);return{value,valueFormatted:includeValueFormatted&&!(exporting&&!1===column.colDef.useValueFormatterForExport)?this.formatValue(column,node,value):null}}getValue(column,rowNode,ignoreAggData=!1,source="ui"){if(this.initialised||this.init(),!rowNode)return;const colDef=column.getColDef(),field=colDef.field,colId=column.getColId(),data=rowNode.data;if(this.hasEditSvc&&"ui"===source){const editSvc=this.editSvc;if(editSvc.isEditing()){const newValue=editSvc.getCellDataValue({rowNode,column},!0);if(void 0!==newValue)return newValue}}let result;const rowGroupColId=colDef.showRowGroup;if("string"==typeof rowGroupColId){if((this.beans.rowGroupColsSvc?.getColumnIndex(rowGroupColId)??-1)>rowNode.level)return null}const allowUserValuesForCell="string"!=typeof rowGroupColId||!rowNode.group,groupDataExists=rowNode.groupData&&colId in rowNode.groupData,aggDataExists=!ignoreAggData&&rowNode.aggData&&void 0!==rowNode.aggData[colId],ignoreSsrmAggData=this.isSsrm&&ignoreAggData&&!!colDef.aggFunc,ssrmFooterGroupCol=this.isSsrm&&rowNode.footer&&rowNode.field&&(!0===colDef.showRowGroup||colDef.showRowGroup===rowNode.field);if(this.isTreeData&&aggDataExists)result=rowNode.aggData[colId];else if(this.isTreeData&&colDef.valueGetter)result=this.executeValueGetter(colDef.valueGetter,data,column,rowNode);else if(this.isTreeData&&field&&data)result=_getValueUsingField(data,field,column.isFieldContainsDots());else if(groupDataExists)result=rowNode.groupData[colId];else if(aggDataExists)result=rowNode.aggData[colId];else if(colDef.valueGetter&&!ignoreSsrmAggData){if(!allowUserValuesForCell)return result;result=this.executeValueGetter(colDef.valueGetter,data,column,rowNode)}else if(ssrmFooterGroupCol)result=_getValueUsingField(data,rowNode.field,column.isFieldContainsDots());else if(field&&data&&!ignoreSsrmAggData){if(!allowUserValuesForCell)return result;result=_getValueUsingField(data,field,column.isFieldContainsDots())}if(this.cellExpressions&&"string"==typeof result&&0===result.indexOf("=")){const cellValueGetter=result.substring(1);result=this.executeValueGetter(cellValueGetter,data,column,rowNode)}return result}parseValue(column,rowNode,newValue,oldValue){const colDef=column.getColDef(),valueParser=colDef.valueParser;if(_exists(valueParser)){const params=_addGridCommonParams(this.gos,{node:rowNode,data:rowNode?.data,oldValue,newValue,colDef,column});return"function"==typeof valueParser?valueParser(params):this.expressionSvc?.evaluate(valueParser,params)}return newValue}getDeleteValue(column,rowNode){return _exists(column.getColDef().valueParser)?this.parseValue(column,rowNode,"",this.getValueForDisplay(column,rowNode).value)??null:null}formatValue(column,node,value,suppliedFormatter,useFormatterFromColumn=!0){const{expressionSvc}=this.beans;let formatter,result=null;const colDef=column.getColDef();if(suppliedFormatter?formatter=suppliedFormatter:useFormatterFromColumn&&(formatter=colDef.valueFormatter),formatter){const data=node?node.data:null,params=_addGridCommonParams(this.gos,{value,node,data,colDef,column});result="function"==typeof formatter?formatter(params):expressionSvc?expressionSvc.evaluate(formatter,params):null}else if(colDef.refData)return colDef.refData[value]||"";return null==result&&Array.isArray(value)&&(result=value.join(", ")),result}setValue(rowNode,colKey,newValue,eventSource){const column=this.colModel.getColDefCol(colKey);if(!rowNode||!column)return!1;_missing(rowNode.data)&&(rowNode.data={});const{field,valueSetter}=column.getColDef();if(_missing(field)&&_missing(valueSetter))return _warn(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(column,newValue))return _warn(135),!1;const params=_addGridCommonParams(this.gos,{node:rowNode,data:rowNode.data,oldValue:this.getValue(column,rowNode,void 0,eventSource),newValue,colDef:column.getColDef(),column});let valueWasDifferent;if(params.newValue=newValue,valueWasDifferent=_exists(valueSetter)?"function"==typeof valueSetter?valueSetter(params):this.expressionSvc?.evaluate(valueSetter,params):this.setValueUsingField(rowNode.data,field,newValue,column.isFieldContainsDots()),void 0===valueWasDifferent&&(valueWasDifferent=!0),!valueWasDifferent)return!1;rowNode.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const savedValue=this.getValue(column,rowNode);return this.dispatchCellValueChangedEvent(rowNode,params,savedValue,eventSource),rowNode.pinnedSibling&&this.dispatchCellValueChangedEvent(rowNode.pinnedSibling,params,savedValue,eventSource),!0}dispatchCellValueChangedEvent(rowNode,params,value,source){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:rowNode.rowIndex,rowPinned:rowNode.rowPinned,column:params.column,colDef:params.colDef,data:rowNode.data,node:rowNode,oldValue:params.oldValue,newValue:value,value,source})}callColumnCellValueChangedHandler(event){const onCellValueChanged=event.colDef.onCellValueChanged;"function"==typeof onCellValueChanged&&this.beans.frameworkOverrides.wrapOutgoing((()=>{onCellValueChanged({node:event.node,data:event.data,oldValue:event.oldValue,newValue:event.newValue,colDef:event.colDef,column:event.column,api:event.api,context:event.context})}))}setValueUsingField(data,field,newValue,isFieldContainsDots){if(!field)return!1;let valuesAreSame=!1;if(isFieldContainsDots){const fieldPieces=field.split(".");let currentObject=data;for(;fieldPieces.length>0&&currentObject;){const fieldPiece=fieldPieces.shift();0===fieldPieces.length?(valuesAreSame=currentObject[fieldPiece]===newValue,valuesAreSame||(currentObject[fieldPiece]=newValue)):currentObject=currentObject[fieldPiece]}}else valuesAreSame=data[field]===newValue,valuesAreSame||(data[field]=newValue);return!valuesAreSame}executeValueGetterWithValueCache(valueGetter,data,column,rowNode){const colId=column.getColId(),valueFromCache=this.valueCache.getValue(rowNode,colId);if(void 0!==valueFromCache)return valueFromCache;const result=this.executeValueGetterWithoutValueCache(valueGetter,data,column,rowNode);return this.valueCache.setValue(rowNode,colId,result),result}executeValueGetterWithoutValueCache(valueGetter,data,column,rowNode){const params=_addGridCommonParams(this.gos,{data,node:rowNode,column,colDef:column.getColDef(),getValue:this.getValueCallback.bind(this,rowNode)});let result;return result="function"==typeof valueGetter?valueGetter(params):this.expressionSvc?.evaluate(valueGetter,params),result}getValueCallback(node,field){const otherColumn=this.colModel.getColDefCol(field);return otherColumn?this.getValue(otherColumn,node):null}getKeyForNode(col,rowNode){const value=this.getValue(col,rowNode),keyCreator=col.getColDef().keyCreator;let result=value;if(keyCreator){result=keyCreator(_addGridCommonParams(this.gos,{value,colDef:col.getColDef(),column:col,node:rowNode,data:rowNode.data}))}return"string"==typeof result||null==result||(result=String(result),"[object Object]"===result&&_warn(121)),result}},class extends BeanStub{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(beans){this.colModel=beans.colModel,this.visibleCols=beans.visibleCols,this.rowRenderer=beans.rowRenderer,this.navigation=beans.navigation,this.filterManager=beans.filterManager,this.overlays=beans.overlays}postConstruct(){const clearFocusedCellListener=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:clearFocusedCellListener,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:clearFocusedCellListener,columnRowGroupChanged:clearFocusedCellListener}),this.addDestroyFunc(_registerKeyboardFocusEvents(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,null!=this.focusFallbackTimeout&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,null!=this.focusFallbackTimeout&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const col=this.focusedCell.column,colFromColumnModel=this.colModel.getCol(col.getId());col!==colFromColumnModel&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos,focusedCell}=this;return gos.get("suppressFocusAfterRefresh")||gos.get("suppressCellFocus")||!focusedCell?null:this.doesRowOrCellHaveBrowserFocus()?focusedCell:null}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader?null:this.isDomDataPresentInHierarchy(_getActiveDomElement(this.beans),"headerCtrl")?this.focusedHeader:null}doesRowOrCellHaveBrowserFocus(){const activeElement=_getActiveDomElement(this.beans);return!!this.isDomDataPresentInHierarchy(activeElement,DOM_DATA_KEY_CELL_CTRL)||this.isDomDataPresentInHierarchy(activeElement,"renderedRow")}isDomDataPresentInHierarchy(eBrowserCell,key){let ePointer=eBrowserCell;for(;ePointer;){if(_getDomData(this.gos,ePointer,key))return!0;ePointer=ePointer.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(focusedCellPosition){const{rowIndex,rowPinned,column}=focusedCellPosition,params={rowIndex,rowPinned,column,isFullWidthCell:!1},rowCtrl=this.rowRenderer.getRowByPosition({rowIndex,rowPinned});return rowCtrl&&(params.isFullWidthCell=rowCtrl.isFullWidth()),params}clearFocusedCell(){if(null==this.focusedCell)return;const focusEventParams=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...focusEventParams})}setFocusedCell(params){this.setFocusRecovered();const{column,rowIndex,rowPinned,forceBrowserFocus=!1,preventScrollOnBrowserFocus=!1,sourceEvent}=params,gridColumn=this.colModel.getCol(column);if(!gridColumn)return void(this.focusedCell=null);this.focusedCell={rowIndex,rowPinned:_makeNull(rowPinned),column:gridColumn};const focusEventParams=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...focusEventParams,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus,preventScrollOnBrowserFocus,sourceEvent}),this.previousCellFocusParams=focusEventParams}isCellFocused(cellPosition){return null!=this.focusedCell&&_areCellsEqual(cellPosition,this.focusedCell)}isHeaderWrapperFocused(headerCtrl){if(null==this.focusedHeader)return!1;const{column,rowCtrl:{rowIndex:headerRowIndex,pinned}}=headerCtrl,{column:focusedColumn,headerRowIndex:focusedHeaderRowIndex}=this.focusedHeader;return column===focusedColumn&&headerRowIndex===focusedHeaderRowIndex&&pinned==focusedColumn.getPinned()}focusHeaderPosition(params){if(this.setFocusRecovered(),_isHeaderFocusSuppressed(this.beans))return!1;const{direction,fromTab,allowUserOverride,event,fromCell,rowWithoutSpanValue}=params;let{headerPosition}=params;if(fromCell&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(headerPosition);if(allowUserOverride){const currentPosition=this.focusedHeader,headerRowCount=getFocusHeaderRowCount(this.beans);if(fromTab){const userFunc=this.gos.getCallback("tabToNextHeader");userFunc&&(headerPosition=this.getHeaderPositionFromUserFunc({userFunc,direction,currentPosition,headerPosition,headerRowCount}))}else{const userFunc=this.gos.getCallback("navigateToNextHeader");if(userFunc&&event){headerPosition=userFunc({key:event.key,previousHeaderPosition:currentPosition,nextHeaderPosition:headerPosition,headerRowCount,event})}}}return!!headerPosition&&this.focusProvidedHeaderPosition({headerPosition,direction,event,fromCell,rowWithoutSpanValue})}focusHeaderPositionFromUserFunc(params){if(_isHeaderFocusSuppressed(this.beans))return!1;const{userFunc,headerPosition,direction,event}=params,currentPosition=this.focusedHeader,headerRowCount=getFocusHeaderRowCount(this.beans),newHeaderPosition=this.getHeaderPositionFromUserFunc({userFunc,direction,currentPosition,headerPosition,headerRowCount});return!!newHeaderPosition&&this.focusProvidedHeaderPosition({headerPosition:newHeaderPosition,direction,event})}getHeaderPositionFromUserFunc(params){const{userFunc,direction,currentPosition,headerPosition,headerRowCount}=params,userResult=userFunc({backwards:"Before"===direction,previousHeaderPosition:currentPosition,nextHeaderPosition:headerPosition,headerRowCount});return!0===userResult?currentPosition:!1===userResult?null:userResult}focusProvidedHeaderPosition(params){const{headerPosition,direction,fromCell,rowWithoutSpanValue,event}=params,{column,headerRowIndex}=headerPosition,{filterManager,ctrlsSvc,headerNavigation}=this.beans;if(-1===headerRowIndex)return filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(headerPosition):this.focusGridView({column,event});headerNavigation?.scrollToColumn(column,direction);const headerRowContainerCtrl=ctrlsSvc.getHeaderRowContainerCtrl(column.getPinned()),focusSuccess=headerRowContainerCtrl?.focusHeader(headerPosition.headerRowIndex,column,event)||!1;return headerNavigation&&focusSuccess&&(null!=rowWithoutSpanValue||fromCell)&&(headerNavigation.currentHeaderRowWithoutSpan=rowWithoutSpanValue??-1),focusSuccess}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const firstColumn=this.visibleCols.allCols[0];if(!firstColumn)return!1;const headerPosition=getHeaderIndexToFocus(this.beans,firstColumn,0);return this.focusHeaderPosition({headerPosition,rowWithoutSpanValue:0})}focusLastHeader(event){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const headerRowIndex=getFocusHeaderRowCount(this.beans)-1,column=_last(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex,column},rowWithoutSpanValue:-1,event})}focusPreviousFromFirstCell(event){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(event)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(rowIndex,rowPinnedType){return null!=this.focusedCell&&(this.focusedCell.rowIndex===rowIndex&&this.focusedCell.rowPinned===_makeNull(rowPinnedType))}focusOverlay(backwards){const overlayGui=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!overlayGui&&_focusInto(overlayGui,backwards)}focusGridView(params){const{backwards=!1,canFocusOverlay=!0,event}=params;if(this.overlays?.isExclusive())return canFocusOverlay&&this.focusOverlay(backwards);if(_isCellFocusSuppressed(this.beans))return backwards&&!_isHeaderFocusSuppressed(this.beans)?this.focusLastHeader():!(!canFocusOverlay||!this.focusOverlay(backwards))||!backwards&&_focusNextGridCoreContainer(this.beans,backwards);const nextRow=backwards?function _getLastRow(beans){let rowIndex,rowPinned=null;const{pinnedRowModel,pageBounds}=beans,pinnedBottomCount=pinnedRowModel?.getPinnedBottomRowCount(),pinnedTopCount=pinnedRowModel?.getPinnedTopRowCount();return pinnedBottomCount?(rowPinned="bottom",rowIndex=pinnedBottomCount-1):beans.rowModel.getRowCount()?(rowPinned=null,rowIndex=pageBounds.getLastRow()):pinnedTopCount&&(rowPinned="top",rowIndex=pinnedTopCount-1),void 0===rowIndex?null:{rowIndex,rowPinned}}(this.beans):function _getFirstRow(beans){let rowPinned,rowIndex=0;const{pinnedRowModel,rowModel,pageBounds}=beans;return pinnedRowModel?.getPinnedTopRowCount()?rowPinned="top":rowModel.getRowCount()?(rowPinned=null,rowIndex=pageBounds.getFirstRow()):pinnedRowModel?.getPinnedBottomRowCount()&&(rowPinned="bottom"),void 0===rowPinned?null:{rowIndex,rowPinned}}(this.beans);if(nextRow){const column=params.column??this.focusedHeader?.column,{rowIndex,rowPinned}=nextRow,rowNode=_getRowNode(this.beans,nextRow);if(!column||!rowNode||null==rowIndex)return!1;if(column.isSuppressNavigable(rowNode)){const isRtl=this.gos.get("enableRtl");let key;return key=event&&event.key!==KeyCode_TAB?event.key:isRtl?KeyCode_LEFT:KeyCode_RIGHT,this.beans.navigation?.navigateToNextCell(null,key,{rowIndex,column,rowPinned:rowPinned||null},!0),!0}if(this.navigation?.ensureCellVisible({rowIndex,column,rowPinned}),backwards){const rowCtrl=this.rowRenderer.getRowByPosition(nextRow);if(rowCtrl?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(nextRow,backwards))return!0}return this.setFocusedCell({rowIndex,column,rowPinned:_makeNull(rowPinned),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex,rowPinned,column}),!0}return!(!canFocusOverlay||!this.focusOverlay(backwards))||!(!backwards||!this.focusLastHeader())}focusAdvancedFilter(position){return this.advFilterFocusColumn=position?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(backwards,forceFirstColumn){const column=(forceFirstColumn?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return backwards?this.focusHeaderPosition({headerPosition:{column,headerRowIndex:getFocusHeaderRowCount(this.beans)-1}}):this.focusGridView({column})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},class extends BaseEnvironment{constructor(){super(...arguments),this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1}initVariables(){this.addManagedPropertyListener("rowHeight",(()=>this.refreshRowHeightVariable())),this.getSizeEl(ROW_HEIGHT),this.getSizeEl(HEADER_HEIGHT),this.getSizeEl(LIST_ITEM_HEIGHT),this.getSizeEl(ROW_BORDER_WIDTH),this.getSizeEl(PINNED_BORDER_WIDTH),this.refreshRowBorderWidthVariable()}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(PINNED_BORDER_WIDTH)}getRowBorderWidth(){return this.getCSSVariablePixelValue(ROW_BORDER_WIDTH)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(ROW_HEIGHT)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(HEADER_HEIGHT)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(CELL_HORIZONTAL_PADDING)}getCellPaddingLeft(){const cellHorizontalPadding=this.getDefaultCellHorizontalPadding(),indentationLevel=this.getCSSVariablePixelValue(INDENTATION_LEVEL);return cellHorizontalPadding-1+this.getCSSVariablePixelValue(ROW_GROUP_INDENT_SIZE)*indentationLevel}getCellPadding(){const cellPaddingRight=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+cellPaddingRight}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(LIST_ITEM_HEIGHT)}refreshRowHeightVariable(){const{eRootDiv}=this,oldRowHeight=eRootDiv.style.getPropertyValue("--ag-line-height").trim(),height=this.gos.get("rowHeight");if(null==height||isNaN(height)||!isFinite(height))return null!==oldRowHeight&&eRootDiv.style.setProperty("--ag-line-height",null),-1;const newRowHeight=`${height}px`;return oldRowHeight!=newRowHeight?(eRootDiv.style.setProperty("--ag-line-height",newRowHeight),height):""!=oldRowHeight?parseFloat(oldRowHeight):-1}getCSSVariablePixelValue(variable){const cached=this.lastKnownValues.get(variable);if(null!=cached)return cached;const measurement=this.measureSizeEl(variable);return"detached"===measurement||"no-styles"===measurement?(variable.cacheDefault&&this.lastKnownValues.set(variable,variable.defaultValue),variable.defaultValue):(this.lastKnownValues.set(variable,measurement),measurement)}measureSizeEl(variable){const sizeEl=this.getSizeEl(variable);if(null==sizeEl.offsetParent)return"detached";const newSize=sizeEl.offsetWidth;return newSize===NO_VALUE_SENTINEL?"no-styles":(this.sizesMeasured=!0,newSize)}getMeasurementContainer(){let container=this.eMeasurementContainer;return container||(container=this.eMeasurementContainer=_createElement({tag:"div",cls:"ag-measurement-container"}),this.eRootDiv.appendChild(container)),container}getSizeEl(variable){let sizeEl=this.sizeEls.get(variable);if(sizeEl)return sizeEl;const container=this.getMeasurementContainer();sizeEl=_createElement({tag:"div"});const{border,noWarn}=variable;border?(sizeEl.className="ag-measurement-element-border",sizeEl.style.setProperty("--ag-internal-measurement-border",`var(${variable.cssName}, solid ${NO_VALUE_SENTINEL}px)`)):sizeEl.style.width=`var(${variable.cssName}, ${NO_VALUE_SENTINEL}px)`,container.appendChild(sizeEl),this.sizeEls.set(variable,sizeEl);let lastMeasurement=this.measureSizeEl(variable);"no-styles"!==lastMeasurement||noWarn||_warn(9,{variable});const unsubscribe=_observeResize(this.beans,sizeEl,(()=>{const newMeasurement=this.measureSizeEl(variable);"detached"!==newMeasurement&&"no-styles"!==newMeasurement&&(this.lastKnownValues.set(variable,newMeasurement),newMeasurement!==lastMeasurement&&(lastMeasurement=newMeasurement,this.fireStylesChangedEvent(variable.changeKey)))}));return this.addDestroyFunc((()=>unsubscribe())),sizeEl}fireStylesChangedEvent(change){"rowBorderWidthChanged"===change&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[change]:!0})}refreshRowBorderWidthVariable(){const width=this.getCSSVariablePixelValue(ROW_BORDER_WIDTH);this.eRootDiv.style.setProperty("--ag-internal-row-border-width",`${width}px`)}postProcessThemeChange(newGridTheme,themeGridOption){newGridTheme&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&_error(themeGridOption?106:239)}getAdditionalCss(){const additionalCss=new Map;return additionalCss.set("core",['.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-virtual-list-item{height:var(--ag-list-item-height);position:absolute;width:100%}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}']),function _addAdditionalCss(cssMap,modules){modules.sort(((a,b)=>a.moduleName.localeCompare(b.moduleName))).forEach((module=>{const moduleCss=module.css;moduleCss&&cssMap.set(`module-${module.moduleName}`,moduleCss)}))}(additionalCss,Array.from(function _getAllRegisteredModules(){return new Set(allRegisteredModules)}())),additionalCss}getDefaultTheme(){return themeQuartz}themeError(theme){_error(240,{theme})}},class extends BeanStub{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(beans){this.ctrlsSvc=beans.ctrlsSvc,this.colAnimation=beans.colAnimation}postConstruct(){this.horizontalScrollShowing=!0===this.gos.get("alwaysShowHorizontalScroll"),this.verticalScrollShowing=!0===this.gos.get("alwaysShowVerticalScroll"),this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation}=this;colAnimation?.isActive()?colAnimation.executeLaterVMTurn((()=>{colAnimation.executeLaterVMTurn((()=>this.updateScrollVisibleImpl()))})):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const centerRowCtrl=this.ctrlsSvc.get("center");if(!centerRowCtrl||this.colAnimation?.isActive())return;const params={horizontalScrollShowing:centerRowCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(params),this.updateScrollGap()}updateScrollGap(){const centerRowCtrl=this.ctrlsSvc.get("center"),horizontalGap=centerRowCtrl.hasHorizontalScrollGap(),verticalGap=centerRowCtrl.hasVerticalScrollGap();(this.horizontalScrollGap!==horizontalGap||this.verticalScrollGap!==verticalGap)&&(this.horizontalScrollGap=horizontalGap,this.verticalScrollGap=verticalGap,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(params){(this.horizontalScrollShowing!==params.horizontalScrollShowing||this.verticalScrollShowing!==params.verticalScrollShowing)&&(this.horizontalScrollShowing=params.horizontalScrollShowing,this.verticalScrollShowing=params.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(null==this.scrollbarWidth){const gridOptionsScrollbarWidth=this.gos.get("scrollbarWidth"),scrollbarWidth="number"==typeof gridOptionsScrollbarWidth&&gridOptionsScrollbarWidth>=0?gridOptionsScrollbarWidth:function _getScrollbarWidth(){return null==browserScrollbarWidth&&initScrollbarWidthAndVisibility(),browserScrollbarWidth}();null!=scrollbarWidth&&(this.scrollbarWidth=scrollbarWidth,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},class extends BeanStub{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",(()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach((c=>c(this.params))),this.readyCallbacks.length=0)}),this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const values=Object.values(this.params);this.ready=23===values.length&&values.every((ctrl=>ctrl?.isAlive()??!1))}whenReady(caller,callback){this.ready?callback(this.params):this.readyCallbacks.push(callback),caller.addDestroyFunc((()=>{const index=this.readyCallbacks.indexOf(callback);index>=0&&this.readyCallbacks.splice(index,1)}))}register(ctrlType,ctrl){this.params[ctrlType]=ctrl,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),ctrl.addDestroyFunc((()=>{this.updateReady()}))}get(ctrlType){return this.params[ctrlType]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader,centerHeader,rightHeader}=this.params;return[leftHeader,rightHeader,centerHeader]}getHeaderRowContainerCtrl(pinned){const params=this.params;switch(pinned){case"left":return params.leftHeader;case"right":return params.rightHeader;default:return params.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},class extends BeanStub{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",(event=>this.setColumnDefs(event)))}start(){this.beans.ctrlsSvc.whenReady(this,(()=>{const columnDefs=this.gos.get("columnDefs");columnDefs?this.setColumnsAndData(columnDefs):this.waitingForColumns=!0,this.gridReady()}))}setColumnsAndData(columnDefs){const{colModel,rowModel}=this.beans;colModel.setColumnDefs(columnDefs??[],"gridInitializing"),rowModel.start()}gridReady(){const{eventSvc,gos}=this;eventSvc.dispatchEvent({type:"gridReady"}),_logIfDebug(gos,`initialised successfully, enterprise = ${gos.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(event){const columnDefs=this.gos.get("columnDefs");if(columnDefs)return this.waitingForColumns?(this.waitingForColumns=!1,void this.setColumnsAndData(columnDefs)):void this.beans.colModel.setColumnDefs(columnDefs,_convertColumnEventSourceType(event.source))}},class extends BeanStub{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(column,location,includeAggFunc=!1){if(!column)return null;const headerName=this.getHeaderName(column.getColDef(),column,null,null,location),{aggColNameSvc}=this.beans;return includeAggFunc&&aggColNameSvc?aggColNameSvc.getHeaderName(column,headerName):headerName}getDisplayNameForProvidedColumnGroup(columnGroup,providedColumnGroup,location){const colGroupDef=providedColumnGroup?.getColGroupDef();return colGroupDef?this.getHeaderName(colGroupDef,null,columnGroup,providedColumnGroup,location):null}getDisplayNameForColumnGroup(columnGroup,location){return this.getDisplayNameForProvidedColumnGroup(columnGroup,columnGroup.getProvidedColumnGroup(),location)}getHeaderName(colDef,column,columnGroup,providedColumnGroup,location){const headerValueGetter=colDef.headerValueGetter;if(headerValueGetter){const params=_addGridCommonParams(this.gos,{colDef,column,columnGroup,providedColumnGroup,location});return"function"==typeof headerValueGetter?headerValueGetter(params):"string"==typeof headerValueGetter?this.beans.expressionSvc?.evaluate(headerValueGetter,params)??null:""}return null!=colDef.headerName?colDef.headerName:colDef.field?function _camelCaseToHumanText(camelCase){return camelCase&&null!=camelCase?camelCase.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map((word=>word.substring(0,1).toUpperCase()+(word.length>1?word.substring(1,word.length):""))).join(" "):null}(colDef.field):""}},class extends BeanStub{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(beans){this.visibleCols=beans.visibleCols,this.colModel=beans.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(scrollWidth,scrollPosition,afterScroll=!1){const{visibleCols}=this,bodyWidthDirty=visibleCols.isBodyWidthDirty;if(!(scrollWidth===this.scrollWidth&&scrollPosition===this.scrollPosition&&!bodyWidthDirty)){if(this.scrollWidth=scrollWidth,this.scrollPosition=scrollPosition,visibleCols.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const bodyWidth=visibleCols.bodyWidth;this.viewportLeft=bodyWidth-scrollPosition-scrollWidth,this.viewportRight=bodyWidth-scrollPosition}else this.viewportLeft=scrollPosition,this.viewportRight=scrollWidth+scrollPosition;this.colModel.ready&&this.checkViewportColumns(afterScroll)}}getColumnHeadersToRender(type){switch(type){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(type,depth){let result;switch(type){case"left":result=this.rowsOfHeadersToRenderLeft[depth];break;case"right":result=this.rowsOfHeadersToRenderRight[depth];break;default:result=this.rowsOfHeadersToRenderCenter[depth]}return result??[]}extractViewportColumns(){const displayedColumnsCenter=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=displayedColumnsCenter,this.headerColsWithinViewport=displayedColumnsCenter):(this.colsWithinViewport=displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(col){return!(!col.isAutoHeaderHeight()&&!function isAnyParentAutoHeaderHeight(col){for(;col;){if(col.isAutoHeaderHeight())return!0;col=col.getParent()}return!1}(col))||this.isColumnInRowViewport(col)}isColumnInRowViewport(col){if(col.isAutoHeight())return!0;const columnLeft=col.getLeft()||0,columnRight=columnLeft+col.getActualWidth(),leftBounds=this.viewportLeft-200,rightBounds=this.viewportRight+200;return!(columnLeft<leftBounds&&columnRight<leftBounds)&&!(columnLeft>rightBounds&&columnRight>rightBounds)}getViewportColumns(){const{leftCols,rightCols}=this.visibleCols;return this.colsWithinViewport.concat(leftCols).concat(rightCols)}getColsWithinViewport(rowNode){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const inViewportCallback=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols}=this,displayedColumnsCenter=visibleCols.centerCols;return visibleCols.getColsForRow(rowNode,displayedColumnsCenter,inViewportCallback,(col=>{const left=col.getLeft();return _exists(left)&&left>this.viewportLeft}))}checkViewportColumns(afterScroll=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll})}calculateHeaderRows(){const{leftCols,rightCols}=this.visibleCols;this.columnsToRenderLeft=leftCols,this.columnsToRenderRight=rightCols,this.columnsToRenderCenter=this.colsWithinViewport;const workOutGroupsToRender=cols=>{const groupsToRenderSet=new Set,groupsToRender={};for(const col of cols){let group=col.getParent();const skipFillers=col.isSpanHeaderHeight();for(;group&&!groupsToRenderSet.has(group);){if(skipFillers&&group.isPadding()){group=group.getParent();continue}const level=group.getProvidedColumnGroup().getLevel();groupsToRender[level]??(groupsToRender[level]=[]),groupsToRender[level].push(group),groupsToRenderSet.add(group),group=group.getParent()}}return groupsToRender};this.rowsOfHeadersToRenderLeft=workOutGroupsToRender(leftCols),this.rowsOfHeadersToRenderRight=workOutGroupsToRender(rightCols),this.rowsOfHeadersToRenderCenter=workOutGroupsToRender(this.headerColsWithinViewport)}extractViewport(){this.extractViewportColumns();const newHash=this.getViewportColumns().map((c=>`${c.getId()}-${c.getPinned()||"normal"}`)).join("#"),changed=this.colsWithinViewportHash!==newHash;return changed&&(this.colsWithinViewportHash=newHash,this.calculateHeaderRows()),changed}},class extends BeanStub{constructor(){super(...arguments),this.beanName="iconSvc"}createIconNoSpan(iconName,params){return _createIconNoSpan(iconName,this.beans,params?.column)}}],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId,destroy:function destroy(beans){beans.gridDestroySvc.destroy()},isDestroyed:function isDestroyed(beans){return beans.gridDestroySvc.destroyCalled},getGridOption:function getGridOption(beans,key){return beans.gos.get(key)},setGridOption:function setGridOption(beans,key,value){updateGridOptions(beans,{[key]:value})},updateGridOptions,isModuleRegistered:function isModuleRegistered(beans,moduleName){const withoutSuffix=moduleName.replace(/Module$/,"");return beans.gos.isModuleRegistered(withoutSuffix)}},dependsOn:[DataTypeModule,ColumnMoveModule,ColumnResizeModule,SortModule,ColumnHeaderCompModule,ColumnGroupModule,ColumnGroupHeaderCompModule,OverlayModule,ChangeDetectionModule,AnimationFrameModule,KeyboardNavigationModule,PinnedColumnModule,AriaModule,TouchModule,CellRendererFunctionModule,ColumnFlexModule,ExpressionModule,SkeletonCellRendererModule,ColumnDelayRenderModule]},ALL_COLUMN_FILTERS=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"];function missingRowModelTypeError({moduleName,rowModelType}){return`To use the ${moduleName}Module you must set the gridOption "rowModelType='${rowModelType}'"`}var _gridApiCache=new WeakMap,_gridElementCache=new WeakMap;var nextGridId=1,GridCoreCreator=class{create(eGridDiv,providedOptions,createUi,acceptChanges,params,_destroyCallback){const gridOptions=GlobalGridOptions.applyGlobalGridOptions(providedOptions),gridId=gridOptions.gridId??String(nextGridId++),registeredModules=this.getRegisteredModules(params,gridId,gridOptions.rowModelType),beanClasses=this.createBeansList(gridOptions.rowModelType,registeredModules,gridId),providedBeanInstances=this.createProvidedBeans(eGridDiv,gridOptions,params);if(!beanClasses)return;const contextParams={providedBeanInstances,beanClasses,id:gridId,beanInitComparator:gridBeanInitComparator,beanDestroyComparator:gridBeanDestroyComparator,derivedBeans:[createGridApi],destroyCallback:()=>{_gridElementCache.delete(api),_gridApiCache.delete(eGridDiv),function _unRegisterGridModules(gridId){delete gridModulesMap[gridId]}(gridId),_destroyCallback?.()}},context=new AgContext(contextParams);this.registerModuleFeatures(context,registeredModules),createUi(context),context.getBean("syncSvc").start(),acceptChanges?.(context);const api=context.getBean("gridApi");return _gridApiCache.set(eGridDiv,api),_gridElementCache.set(api,eGridDiv),api}getRegisteredModules(params,gridId,rowModelType){return _registerModule(CommunityCoreModule,void 0,!0),params?.modules?.forEach((m=>_registerModule(m,gridId))),function _getRegisteredModules(gridId,rowModel){const gridModules=gridModulesMap[gridId]??{};return[...Object.values(globalModulesMap.all??{}),...Object.values(gridModules.all??{}),...Object.values(globalModulesMap[rowModel]??{}),...Object.values(gridModules[rowModel]??{})]}(gridId,getDefaultRowModelType(rowModelType))}registerModuleFeatures(context,registeredModules){const registry=context.getBean("registry"),apiFunctionSvc=context.getBean("apiFunctionSvc");registeredModules.forEach((module=>{registry.registerModule(module);const apiFunctions=module.apiFunctions;if(apiFunctions){Object.keys(apiFunctions).forEach((name=>{apiFunctionSvc?.addFunction(name,apiFunctions[name])}))}}))}createProvidedBeans(eGridDiv,gridOptions,params){let frameworkOverrides=params?params.frameworkOverrides:null;_missing(frameworkOverrides)&&(frameworkOverrides=new VanillaFrameworkOverrides);const seed={gridOptions,eGridDiv,eRootDiv:eGridDiv,globalListener:params?params.globalListener:null,globalSyncListener:params?params.globalSyncListener:null,frameworkOverrides};return params&&params.providedBeanInstances&&Object.assign(seed,params.providedBeanInstances),seed}createBeansList(userProvidedRowModelType,registeredModules,gridId){const rowModelModuleNames={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},rowModelType=getDefaultRowModelType(userProvidedRowModelType),rowModuleModelName=rowModelModuleNames[rowModelType];if(!rowModuleModelName)return void _logPreInitErr(201,{rowModelType},`Unknown rowModelType ${rowModelType}.`);if(!function _hasUserRegistered(){return userHasRegistered}())return void _logPreInitErr(272,void 0,"No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:\n                    \n    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';\n    \n    ModuleRegistry.registerModules([ AllCommunityModule ]);\n    ");if(!userProvidedRowModelType){const registeredRowModelModules=Object.entries(rowModelModuleNames).filter((([rowModelType2,module])=>_isModuleRegistered(module,gridId,rowModelType2)));if(1==registeredRowModelModules.length){const[userRowModelType,moduleName]=registeredRowModelModules[0];if(userRowModelType!==rowModelType){const params={moduleName,rowModelType:userRowModelType};return void _logPreInitErr(275,params,missingRowModelTypeError(params))}}}if(!_isModuleRegistered(rowModuleModelName,gridId,rowModelType))return void _logPreInitErr(200,{reasonOrId:`rowModelType = '${rowModelType}'`,moduleName:rowModuleModelName,gridScoped:_areModulesGridScoped(),gridId,rowModelType},`Missing module ${rowModuleModelName}Module for rowModelType ${rowModelType}.`);const beans=new Set;return registeredModules.forEach((module=>module.beans?.forEach((bean=>beans.add(bean))))),Array.from(beans)}};function getDefaultRowModelType(passedRowModelType){return passedRowModelType??"clientSide"}var BaseComponentWrapper=class{wrap(OriginalConstructor,mandatoryMethods,optionalMethods,componentType){const wrapper=this.createWrapper(OriginalConstructor,componentType);return mandatoryMethods?.forEach((methodName=>{this.createMethod(wrapper,methodName,!0)})),optionalMethods?.forEach((methodName=>{this.createMethod(wrapper,methodName,!1)})),wrapper}createMethod(wrapper,methodName,mandatory){wrapper.addMethod(methodName,this.createMethodProxy(wrapper,methodName,mandatory))}createMethodProxy(wrapper,methodName,mandatory){return function(){return wrapper.hasMethod(methodName)?wrapper.callMethod(methodName,arguments):(mandatory&&_warn(49,{methodName}),null)}}};var STOP_EDIT_SOURCE_TRANSFORM={paste:"api",rangeSvc:"api",fillHandle:"api",cellClear:"api",bulk:"api"};new Set(Object.keys(STOP_EDIT_SOURCE_TRANSFORM));var react_dom=__webpack_require__("./node_modules/next/dist/compiled/react-dom/index.js"),BeansContext=react.createContext({}),RenderModeContext=react.createContext("default"),showJsComp=(compDetails,context,eParent,ref)=>{if(!compDetails||compDetails.componentFromFramework||context.isDestroyed())return;const promise=compDetails.newAgStackInstance();let comp,compGui,destroyed=!1;return promise.then((c=>{destroyed?context.destroyBean(c):(comp=c,compGui=comp.getGui(),eParent.appendChild(compGui),setRef(ref,comp))})),()=>{destroyed=!0,comp&&(compGui?.parentElement?.removeChild(compGui),context.destroyBean(comp),ref&&setRef(ref,void 0))}},setRef=(ref,value)=>{if(ref)if(ref instanceof Function){ref(value)}else{ref.current=value}},classesList=(...list)=>list.filter((s=>null!=s&&""!==s)).join(" "),CssClasses=class _CssClasses{constructor(...initialClasses){this.classesMap={},initialClasses.forEach((className=>{this.classesMap[className]=!0}))}setClass(className,on){if(!!this.classesMap[className]==on)return this;const res=new _CssClasses;return res.classesMap={...this.classesMap},res.classesMap[className]=on,res}toString(){return Object.keys(this.classesMap).filter((key=>this.classesMap[key])).join(" ")}},isComponentStateless=Component2=>"function"==typeof Component2&&!(Component2.prototype&&Component2.prototype.isReactComponent)||"object"==typeof Component2&&Component2.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),reactVersion=react.version?.split(".")[0],isReactVersion17Minus="16"===reactVersion||"17"===reactVersion;var disableFlushSync=!1;var agFlushSync=(useFlushSync,fn)=>{isReactVersion17Minus||!useFlushSync||disableFlushSync?fn():react_dom.flushSync(fn)};function getNextValueIfDifferent(prev,next,maintainOrder){if(null==next||null==prev)return next;if(prev===next||0===next.length&&0===prev.length)return prev;if(maintainOrder||0===prev.length&&next.length>0||prev.length>0&&0===next.length)return next;const oldValues=[],newValues=[],prevMap=new Map,nextMap=new Map;for(let i=0;i<next.length;i++){const c=next[i];nextMap.set(c.instanceId,c)}for(let i=0;i<prev.length;i++){const c=prev[i];prevMap.set(c.instanceId,c),nextMap.has(c.instanceId)&&oldValues.push(c)}for(let i=0;i<next.length;i++){const c=next[i],instanceId=c.instanceId;prevMap.has(instanceId)||newValues.push(c)}return oldValues.length===prev.length&&0===newValues.length?prev:0===oldValues.length&&newValues.length===next.length?next:0===oldValues.length?newValues:0===newValues.length?oldValues:[...oldValues,...newValues]}var GroupCellRenderer=(0,react.forwardRef)(((props,ref)=>{const{registry,context}=(0,react.useContext)(BeansContext),eGui=(0,react.useRef)(null),eValueRef=(0,react.useRef)(null),eCheckboxRef=(0,react.useRef)(null),eExpandedRef=(0,react.useRef)(null),eContractedRef=(0,react.useRef)(null),ctrlRef=(0,react.useRef)(),[innerCompDetails,setInnerCompDetails]=(0,react.useState)(),[childCount,setChildCount]=(0,react.useState)(),[value,setValue]=(0,react.useState)(),[cssClasses,setCssClasses]=(0,react.useState)((()=>new CssClasses)),[expandedCssClasses,setExpandedCssClasses]=(0,react.useState)((()=>new CssClasses("ag-hidden"))),[contractedCssClasses,setContractedCssClasses]=(0,react.useState)((()=>new CssClasses("ag-hidden"))),[checkboxCssClasses,setCheckboxCssClasses]=(0,react.useState)((()=>new CssClasses("ag-invisible")));(0,react.useImperativeHandle)(ref,(()=>({refresh:()=>!1}))),(0,react.useLayoutEffect)((()=>showJsComp(innerCompDetails,context,eValueRef.current)),[innerCompDetails]);const setRef2=(0,react.useCallback)((eRef=>{if(eGui.current=eRef,!eRef||context.isDestroyed())return void(ctrlRef.current=context.destroyBean(ctrlRef.current));const compProxy={setInnerRenderer:(details,valueToDisplay)=>{setInnerCompDetails(details),setValue(valueToDisplay)},setChildCount:count=>setChildCount(count),toggleCss:(name,on)=>setCssClasses((prev=>prev.setClass(name,on))),setContractedDisplayed:displayed=>setContractedCssClasses((prev=>prev.setClass("ag-hidden",!displayed))),setExpandedDisplayed:displayed=>setExpandedCssClasses((prev=>prev.setClass("ag-hidden",!displayed))),setCheckboxVisible:visible=>setCheckboxCssClasses((prev=>prev.setClass("ag-invisible",!visible))),setCheckboxSpacing:add=>setCheckboxCssClasses((prev=>prev.setClass("ag-group-checkbox-spacing",add)))},groupCellRendererCtrl=registry.createDynamicBean("groupCellRendererCtrl",!0);groupCellRendererCtrl&&(ctrlRef.current=context.createBean(groupCellRendererCtrl),ctrlRef.current.init(compProxy,eRef,eCheckboxRef.current,eExpandedRef.current,eContractedRef.current,GroupCellRenderer,props))}),[]),className=(0,react.useMemo)((()=>`ag-cell-wrapper ${cssClasses.toString()}`),[cssClasses]),expandedClassName=(0,react.useMemo)((()=>`ag-group-expanded ${expandedCssClasses.toString()}`),[expandedCssClasses]),contractedClassName=(0,react.useMemo)((()=>`ag-group-contracted ${contractedCssClasses.toString()}`),[contractedCssClasses]),checkboxClassName=(0,react.useMemo)((()=>`ag-group-checkbox ${checkboxCssClasses.toString()}`),[checkboxCssClasses]),useFwRenderer=innerCompDetails?.componentFromFramework,FwRenderer=useFwRenderer?innerCompDetails.componentClass:void 0,useValue=null==innerCompDetails&&null!=value,escapedValue=_toString(value);return react.createElement("span",{className,ref:setRef2,...props.colDef?{}:{role:ctrlRef.current?.getCellAriaRole()}},react.createElement("span",{className:expandedClassName,ref:eExpandedRef}),react.createElement("span",{className:contractedClassName,ref:eContractedRef}),react.createElement("span",{className:checkboxClassName,ref:eCheckboxRef}),react.createElement("span",{className:"ag-group-value",ref:eValueRef},useValue?escapedValue:useFwRenderer?react.createElement(FwRenderer,{...innerCompDetails.params}):null),react.createElement("span",{className:"ag-group-child-count"},childCount))})),groupCellRenderer_default=GroupCellRenderer,CustomContext=(0,react.createContext)({setMethods:()=>{}}),customWrapperComp_default=(0,react.memo)((params=>{const{initialProps,addUpdateCallback,CustomComponentClass,setMethods}=params,[{key,...props},setProps]=(0,react.useState)(initialProps);return(0,react.useEffect)((()=>{addUpdateCallback((newProps=>setProps(newProps)))}),[]),react.createElement(CustomContext.Provider,{value:{setMethods}},react.createElement(CustomComponentClass,{key,...props}))})),counter=0;function generateNewKey(){return"agPortalKey_"+ ++counter}var ReactComponent=class{constructor(reactComponent,portalManager,componentType,suppressFallbackMethods){this.portal=null,this.oldPortal=null,this.reactComponent=reactComponent,this.portalManager=portalManager,this.componentType=componentType,this.suppressFallbackMethods=!!suppressFallbackMethods,this.statelessComponent=this.isStateless(this.reactComponent),this.key=generateNewKey(),this.portalKey=generateNewKey(),this.instanceCreated=this.isStatelessComponent()?AgPromise.resolve(!1):new AgPromise((resolve=>{this.resolveInstanceCreated=resolve}))}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();const portal=this.portal;portal&&this.portalManager.destroyPortal(portal)}createParentElement(params){const componentWrappingElement=this.portalManager.getComponentWrappingElement(),eParentElement=document.createElement(componentWrappingElement||"div");return eParentElement.classList.add("ag-react-container"),params.reactContainer=eParentElement,eParentElement}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(Component2){return"function"==typeof Component2&&!(Component2.prototype&&Component2.prototype.isReactComponent)||"object"==typeof Component2&&Component2.$$typeof===this.getMemoType()}hasMethod(name){const frameworkComponentInstance=this.getFrameworkComponentInstance();return!!frameworkComponentInstance&&null!=frameworkComponentInstance[name]||this.fallbackMethodAvailable(name)}callMethod(name,args){const frameworkComponentInstance=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(name,args&&args[0]?args[0]:{});if(!frameworkComponentInstance)return void setTimeout((()=>this.callMethod(name,args)));const method=frameworkComponentInstance[name];return method?method.apply(frameworkComponentInstance,args):this.fallbackMethodAvailable(name)?this.fallbackMethod(name,args&&args[0]?args[0]:{}):void 0}addMethod(name,callback){this[name]=callback}init(params){return this.eParentElement=this.createParentElement(params),this.createOrUpdatePortal(params),new AgPromise((resolve=>this.createReactComponent(resolve)))}createOrUpdatePortal(params){this.isStatelessComponent()||(this.ref=element=>{this.componentInstance=element,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},params.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...params,key:this.key}),this.portal=(0,react_dom.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(reactComponent,props){return(0,react.createElement)(reactComponent,props)}createReactComponent(resolve){this.portalManager.mountReactPortal(this.portal,this,resolve)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}refreshComponent(args){this.oldPortal=this.portal,this.createOrUpdatePortal(args),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(name,params){const method=this[`${name}Component`];if(!this.suppressFallbackMethods&&method)return method.bind(this)(params)}fallbackMethodAvailable(name){if(this.suppressFallbackMethods)return!1;return!!this[`${name}Component`]}};function addOptionalMethods(optionalMethodNames,providedMethods,component){optionalMethodNames.forEach((methodName=>{const providedMethod=providedMethods[methodName];providedMethod&&(component[methodName]=providedMethod)}))}var CustomComponentWrapper=class extends ReactComponent{constructor(){super(...arguments),this.awaitUpdateCallback=new AgPromise((resolve=>{this.resolveUpdateCallback=resolve})),this.wrapperComponent=customWrapperComp_default}init(params){return this.sourceParams=params,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}getFrameworkComponentInstance(){return this}createElement(reactComponent,props){return super.createElement(this.wrapperComponent,{initialProps:props,CustomComponentClass:reactComponent,setMethods:methods=>this.setMethods(methods),addUpdateCallback:callback=>{this.updateCallback=()=>(callback(this.getProps()),new AgPromise((resolve=>{setTimeout((()=>{resolve()}))}))),this.resolveUpdateCallback()}})}setMethods(methods){this.providedMethods=methods,addOptionalMethods(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new AgPromise((resolve=>this.awaitUpdateCallback.then((()=>{this.updateCallback().then((()=>resolve()))}))))}},CellRendererComponentWrapper=class extends CustomComponentWrapper{refresh(params){return this.sourceParams=params,this.refreshProps(),!0}},DateComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.date=null,this.onDateChange=date=>this.updateDate(date)}getDate(){return this.date}setDate(date){this.date=date,this.refreshProps()}refresh(params){this.sourceParams=params,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(date){this.setDate(date),this.sourceParams.onDateChanged()}getProps(){const props=super.getProps();return props.date=this.date,props.onDateChange=this.onDateChange,delete props.onDateChanged,props}},DragAndDropImageComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(iconName,shake){this.icon=iconName,this.shake=shake,this.refreshProps()}setLabel(label){this.label=label,this.refreshProps()}getProps(){const props=super.getProps(),{label,icon,shake}=this;return props.label=label,props.icon=icon,props.shake=shake,props}},FilterComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.model=null,this.onModelChange=model=>this.updateModel(model),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new AgPromise((resolve=>{this.resolveSetMethodsCallback=resolve}))}isFilterActive(){return null!=this.model}doesFilterPass(params){return this.providedMethods.doesFilterPass(params)}getModel(){return this.model}setModel(model){return this.expectingNewMethods=!0,this.model=model,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(newParams){return this.sourceParams=newParams,this.refreshProps(),!0}afterGuiAttached(params){const providedMethods=this.providedMethods;providedMethods?providedMethods.afterGuiAttached?.(params):this.awaitSetMethodsCallback.then((()=>this.providedMethods?.afterGuiAttached?.(params)))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(methods){!1===this.expectingNewMethods&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==methods?.doesFilterPass&&setTimeout((()=>{this.sourceParams.filterChangedCallback()})),this.expectingNewMethods=!1,super.setMethods(methods),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(model){this.resolveFilterPassCallback?.();const awaitFilterPassCallback=new AgPromise((resolve=>{this.resolveFilterPassCallback=resolve}));this.setModel(model).then((()=>{awaitFilterPassCallback.then((()=>{this.sourceParams.filterChangedCallback()}))}))}getProps(){const props=super.getProps();return props.model=this.model,props.onModelChange=this.onModelChange,props.onUiChange=this.onUiChange,delete props.filterChangedCallback,props}},FilterDisplayComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.awaitSetMethodsCallback=new AgPromise((resolve=>{this.resolveSetMethodsCallback=resolve}))}refresh(newParams){return this.sourceParams=newParams,this.refreshProps(),!0}afterGuiAttached(params){const providedMethods=this.providedMethods;providedMethods?providedMethods.afterGuiAttached?.(params):this.awaitSetMethodsCallback.then((()=>this.providedMethods?.afterGuiAttached?.(params)))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(methods){super.setMethods(methods),this.resolveSetMethodsCallback()}};function updateFloatingFilterParent(params,model){params.parentFilterInstance((instance=>{(instance.setModel(model)||AgPromise.resolve()).then((()=>{params.filterParams.filterChangedCallback()}))}))}var FloatingFilterComponentProxy=class{constructor(floatingFilterParams,refreshProps){this.floatingFilterParams=floatingFilterParams,this.refreshProps=refreshProps,this.model=null,this.onModelChange=model=>this.updateModel(model)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(parentModel){this.model=parentModel,this.refreshProps()}refresh(params){this.floatingFilterParams=params,this.refreshProps()}setMethods(methods){addOptionalMethods(this.getOptionalMethods(),methods,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(model){this.model=model,this.refreshProps(),updateFloatingFilterParent(this.floatingFilterParams,model)}},FloatingFilterComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.model=null,this.onModelChange=model=>this.updateModel(model)}onParentModelChanged(parentModel){this.model=parentModel,this.refreshProps()}refresh(newParams){this.sourceParams=newParams,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(model){this.model=model,this.refreshProps(),updateFloatingFilterParent(this.sourceParams,model)}getProps(){const props=super.getProps();return props.model=this.model,props.onModelChange=this.onModelChange,props}},FloatingFilterDisplayComponentWrapper=class extends CustomComponentWrapper{refresh(newParams){this.sourceParams=newParams,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},InnerHeaderComponentWrapper=class extends CustomComponentWrapper{refresh(params){return this.sourceParams=params,this.refreshProps(),!0}},LoadingOverlayComponentWrapper=class extends CustomComponentWrapper{refresh(params){this.sourceParams=params,this.refreshProps()}},MenuItemComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=active=>this.updateActive(active)}setActive(active){this.awaitSetActive(active)}setExpanded(expanded){this.expanded=expanded,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(active){return this.active=active,this.refreshProps()}updateActive(active){const result=this.awaitSetActive(active);active&&result.then((()=>this.sourceParams.onItemActivated()))}getProps(){const props=super.getProps();return props.active=this.active,props.expanded=this.expanded,props.onActiveChange=this.onActiveChange,delete props.onItemActivated,props}},NoRowsOverlayComponentWrapper=class extends CustomComponentWrapper{refresh(params){this.sourceParams=params,this.refreshProps()}},StatusPanelComponentWrapper=class extends CustomComponentWrapper{refresh(params){return this.sourceParams=params,this.refreshProps(),!0}},ToolPanelComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.onStateChange=state=>this.updateState(state)}refresh(params){return this.sourceParams=params,this.refreshProps(),!0}getState(){return this.state}updateState(state){this.state=state,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const props=super.getProps();return props.state=this.state,props.onStateChange=this.onStateChange,props}};function warnReactiveCustomComponents(){_warn(231)}var PortalManager=class{constructor(refresher,wrappingElement,maxComponentCreationTimeMs){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=wrappingElement||"div",this.refresher=refresher,this.maxComponentCreationTimeMs=maxComponentCreationTimeMs||1e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(portal){this.portals=this.portals.filter((curPortal=>curPortal!==portal)),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(portal,reactComponent,resolve){this.portals=[...this.portals,portal],this.waitForInstance(reactComponent,resolve),this.batchUpdate()}updateReactPortal(oldPortal,newPortal){this.portals[this.portals.indexOf(oldPortal)]=newPortal,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout((()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)})),this.hasPendingPortalUpdate=!0)}waitForInstance(reactComponent,resolve,startTime=Date.now()){if(this.destroyed)resolve(null);else if(reactComponent.rendered())resolve(reactComponent);else{if(Date.now()-startTime>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return agFlushSync(!0,(()=>this.refresher())),void(reactComponent.rendered()&&resolve(reactComponent));window.setTimeout((()=>{this.waitForInstance(reactComponent,resolve,startTime)}))}}},headerCellComp_default=(0,react.memo)((({ctrl})=>{const isAlive=ctrl.isAlive(),{context}=(0,react.useContext)(BeansContext),[userCompDetails,setUserCompDetails]=(0,react.useState)(),[userStyles,setUserStyles]=(0,react.useState)(),compBean=(0,react.useRef)(),eGui=(0,react.useRef)(null),eResize=(0,react.useRef)(null),eHeaderCompWrapper=(0,react.useRef)(null),userCompRef=(0,react.useRef)(),cssManager=(0,react.useRef)();isAlive&&!cssManager.current&&(cssManager.current=new CssClassManager((()=>eGui.current)));const setRef2=(0,react.useCallback)((eRef=>{if(eGui.current=eRef,!eRef||!ctrl.isAlive()||context.isDestroyed())return void(compBean.current=context.destroyBean(compBean.current));compBean.current=context.createBean(new EmptyBean);const refreshSelectAllGui=()=>{const selectAllGui=ctrl.getSelectAllGui();selectAllGui&&(eResize.current?.insertAdjacentElement("afterend",selectAllGui),compBean.current.addDestroyFunc((()=>selectAllGui.remove())))},compProxy={setWidth:width=>{eGui.current&&(eGui.current.style.width=width)},toggleCss:(name,on)=>cssManager.current.toggleCss(name,on),setUserStyles:styles=>setUserStyles(styles),setAriaSort:sort=>{eGui.current&&(sort?_setAriaSort(eGui.current,sort):_removeAriaSort(eGui.current))},setUserCompDetails:compDetails=>setUserCompDetails(compDetails),getUserCompInstance:()=>userCompRef.current||void 0,refreshSelectAllGui,removeSelectAllGui:()=>ctrl.getSelectAllGui()?.remove()};ctrl.setComp(compProxy,eRef,eResize.current,eHeaderCompWrapper.current,compBean.current),refreshSelectAllGui()}),[]);(0,react.useLayoutEffect)((()=>showJsComp(userCompDetails,context,eHeaderCompWrapper.current,userCompRef)),[userCompDetails]),(0,react.useEffect)((()=>{ctrl.setDragSource(eGui.current)}),[userCompDetails]);const userCompStateless=(0,react.useMemo)((()=>!!(userCompDetails?.componentFromFramework&&isComponentStateless(userCompDetails.componentClass))),[userCompDetails]),reactUserComp=userCompDetails?.componentFromFramework,UserCompClass=userCompDetails?.componentClass;return react.createElement("div",{ref:setRef2,style:userStyles,className:"ag-header-cell",role:"columnheader"},react.createElement("div",{ref:eResize,className:"ag-header-cell-resize",role:"presentation"}),react.createElement("div",{ref:eHeaderCompWrapper,className:"ag-header-cell-comp-wrapper",role:"presentation"},reactUserComp?userCompStateless?react.createElement(UserCompClass,{...userCompDetails.params}):react.createElement(UserCompClass,{...userCompDetails.params,ref:userCompRef}):null))})),FloatingFilterDisplayComponentProxy=class{constructor(floatingFilterParams,refreshProps){this.floatingFilterParams=floatingFilterParams,this.refreshProps=refreshProps}getProps(){return this.floatingFilterParams}refresh(params){this.floatingFilterParams=params,this.refreshProps()}setMethods(methods){addOptionalMethods(this.getOptionalMethods(),methods,this)}getOptionalMethods(){return["afterGuiAttached"]}},headerFilterCellComp_default=(0,react.memo)((({ctrl})=>{const{context,gos}=(0,react.useContext)(BeansContext),[userStyles,setUserStyles]=(0,react.useState)(),[cssClasses,setCssClasses]=(0,react.useState)((()=>new CssClasses("ag-header-cell","ag-floating-filter"))),[cssBodyClasses,setBodyCssClasses]=(0,react.useState)((()=>new CssClasses)),[cssButtonWrapperClasses,setButtonWrapperCssClasses]=(0,react.useState)((()=>new CssClasses("ag-floating-filter-button","ag-hidden"))),[buttonWrapperAriaHidden,setButtonWrapperAriaHidden]=(0,react.useState)("false"),[userCompDetails,setUserCompDetails]=(0,react.useState)(),[,setRenderKey]=(0,react.useState)(1),compBean=(0,react.useRef)(),eGui=(0,react.useRef)(null),eFloatingFilterBody=(0,react.useRef)(null),eButtonWrapper=(0,react.useRef)(null),eButtonShowMainFilter=(0,react.useRef)(null),userCompResolve=(0,react.useRef)(),userCompPromise=(0,react.useRef)(),userCompRef=value=>{null!=value&&userCompResolve.current&&userCompResolve.current(value)},setRef2=(0,react.useCallback)((eRef=>{if(eGui.current=eRef,!eRef||!ctrl.isAlive()||context.isDestroyed())return void(compBean.current=context.destroyBean(compBean.current));compBean.current=context.createBean(new EmptyBean),userCompPromise.current=new AgPromise((resolve=>{userCompResolve.current=resolve}));const compProxy={toggleCss:(name,on)=>setCssClasses((prev=>prev.setClass(name,on))),setUserStyles:styles=>setUserStyles(styles),addOrRemoveBodyCssClass:(name,on)=>setBodyCssClasses((prev=>prev.setClass(name,on))),setButtonWrapperDisplayed:displayed=>{setButtonWrapperCssClasses((prev=>prev.setClass("ag-hidden",!displayed))),setButtonWrapperAriaHidden(displayed?"false":"true")},setWidth:width=>{eGui.current&&(eGui.current.style.width=width)},setCompDetails:compDetails=>setUserCompDetails(compDetails),getFloatingFilterComp:()=>userCompPromise.current?userCompPromise.current:null,setMenuIcon:eIcon=>eButtonShowMainFilter.current?.appendChild(eIcon)};ctrl.setComp(compProxy,eRef,eButtonShowMainFilter.current,eFloatingFilterBody.current,compBean.current)}),[]);(0,react.useLayoutEffect)((()=>showJsComp(userCompDetails,context,eFloatingFilterBody.current,userCompRef)),[userCompDetails]);const className=(0,react.useMemo)((()=>cssClasses.toString()),[cssClasses]),bodyClassName=(0,react.useMemo)((()=>cssBodyClasses.toString()),[cssBodyClasses]),buttonWrapperClassName=(0,react.useMemo)((()=>cssButtonWrapperClasses.toString()),[cssButtonWrapperClasses]),userCompStateless=(0,react.useMemo)((()=>!!(userCompDetails&&userCompDetails.componentFromFramework&&isComponentStateless(userCompDetails.componentClass))),[userCompDetails]),reactiveCustomComponents=(0,react.useMemo)((()=>gos.get("reactiveCustomComponents")),[]),enableFilterHandlers=(0,react.useMemo)((()=>gos.get("enableFilterHandlers")),[]),[floatingFilterCompProxy,setFloatingFilterCompProxy]=(0,react.useState)();(0,react.useEffect)((()=>{if(userCompDetails?.componentFromFramework)if(reactiveCustomComponents){const compProxy=new(enableFilterHandlers?FloatingFilterDisplayComponentProxy:FloatingFilterComponentProxy)(userCompDetails.params,(()=>setRenderKey((prev=>prev+1))));userCompRef(compProxy),setFloatingFilterCompProxy(compProxy)}else warnReactiveCustomComponents()}),[userCompDetails]);const floatingFilterProps=floatingFilterCompProxy?.getProps(),reactUserComp=userCompDetails?.componentFromFramework,UserCompClass=userCompDetails?.componentClass;return react.createElement("div",{ref:setRef2,style:userStyles,className,role:"gridcell"},react.createElement("div",{ref:eFloatingFilterBody,className:bodyClassName,role:"presentation"},reactUserComp?reactiveCustomComponents?floatingFilterProps&&react.createElement(CustomContext.Provider,{value:{setMethods:methods=>floatingFilterCompProxy.setMethods(methods)}},react.createElement(UserCompClass,{...floatingFilterProps})):react.createElement(UserCompClass,{...userCompDetails.params,ref:userCompStateless?()=>{}:userCompRef}):null),react.createElement("div",{ref:eButtonWrapper,"aria-hidden":buttonWrapperAriaHidden,className:buttonWrapperClassName,role:"presentation"},react.createElement("button",{ref:eButtonShowMainFilter,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))})),headerGroupCellComp_default=(0,react.memo)((({ctrl})=>{const{context}=(0,react.useContext)(BeansContext),[userStyles,setUserStyles]=(0,react.useState)(),[cssClasses,setCssClasses]=(0,react.useState)((()=>new CssClasses)),[cssResizableClasses,setResizableCssClasses]=(0,react.useState)((()=>new CssClasses)),[resizableAriaHidden,setResizableAriaHidden]=(0,react.useState)("false"),[ariaExpanded,setAriaExpanded]=(0,react.useState)(),[userCompDetails,setUserCompDetails]=(0,react.useState)(),compBean=(0,react.useRef)(),eGui=(0,react.useRef)(null),eResize=(0,react.useRef)(null),eHeaderCompWrapper=(0,react.useRef)(null),userCompRef=(0,react.useRef)(),setRef2=(0,react.useCallback)((eRef=>{if(eGui.current=eRef,!eRef||!ctrl.isAlive()||context.isDestroyed())return void(compBean.current=context.destroyBean(compBean.current));compBean.current=context.createBean(new EmptyBean);const compProxy={setWidth:width=>{eGui.current&&(eGui.current.style.width=width)},toggleCss:(name,on)=>setCssClasses((prev=>prev.setClass(name,on))),setUserStyles:styles=>setUserStyles(styles),setHeaderWrapperHidden:hidden=>{const headerCompWrapper=eHeaderCompWrapper.current;headerCompWrapper&&(hidden?headerCompWrapper.style.setProperty("display","none"):headerCompWrapper.style.removeProperty("display"))},setHeaderWrapperMaxHeight:value=>{const headerCompWrapper=eHeaderCompWrapper.current;headerCompWrapper&&(null!=value?headerCompWrapper.style.setProperty("max-height",`${value}px`):headerCompWrapper.style.removeProperty("max-height"),headerCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",null!=value))},setUserCompDetails:compDetails=>setUserCompDetails(compDetails),setResizableDisplayed:displayed=>{setResizableCssClasses((prev=>prev.setClass("ag-hidden",!displayed))),setResizableAriaHidden(displayed?"false":"true")},setAriaExpanded:expanded=>setAriaExpanded(expanded),getUserCompInstance:()=>userCompRef.current||void 0};ctrl.setComp(compProxy,eRef,eResize.current,eHeaderCompWrapper.current,compBean.current)}),[]);(0,react.useLayoutEffect)((()=>showJsComp(userCompDetails,context,eHeaderCompWrapper.current)),[userCompDetails]),(0,react.useEffect)((()=>{eGui.current&&ctrl.setDragSource(eGui.current)}),[userCompDetails]);const userCompStateless=(0,react.useMemo)((()=>!!(userCompDetails?.componentFromFramework&&isComponentStateless(userCompDetails.componentClass))),[userCompDetails]),className=(0,react.useMemo)((()=>"ag-header-group-cell "+cssClasses.toString()),[cssClasses]),resizableClassName=(0,react.useMemo)((()=>"ag-header-cell-resize "+cssResizableClasses.toString()),[cssResizableClasses]),reactUserComp=userCompDetails?.componentFromFramework,UserCompClass=userCompDetails?.componentClass;return react.createElement("div",{ref:setRef2,style:userStyles,className,role:"columnheader","aria-expanded":ariaExpanded},react.createElement("div",{ref:eHeaderCompWrapper,className:"ag-header-cell-comp-wrapper",role:"presentation"},reactUserComp?userCompStateless?react.createElement(UserCompClass,{...userCompDetails.params}):react.createElement(UserCompClass,{...userCompDetails.params,ref:userCompRef}):null),react.createElement("div",{ref:eResize,"aria-hidden":resizableAriaHidden,className:resizableClassName}))})),headerRowComp_default=(0,react.memo)((({ctrl})=>{const{gos,context}=(0,react.useContext)(BeansContext),{topOffset,rowHeight}=(0,react.useMemo)((()=>ctrl.getTopAndHeight()),[]),tabIndex=(0,react.useMemo)((()=>gos.get("tabIndex")),[]),[ariaRowIndex,setAriaRowIndex]=(0,react.useState)((()=>ctrl.getAriaRowIndex())),className=ctrl.headerRowClass,[height,setHeight]=(0,react.useState)((()=>rowHeight+"px")),[top,setTop]=(0,react.useState)((()=>topOffset+"px")),cellCtrlsRef=(0,react.useRef)(null),[cellCtrls,setCellCtrls]=(0,react.useState)((()=>ctrl.getUpdatedHeaderCtrls())),compBean=(0,react.useRef)(),eGui=(0,react.useRef)(null),setRef2=(0,react.useCallback)((eRef=>{if(eGui.current=eRef,!eRef||!ctrl.isAlive()||context.isDestroyed())return void(compBean.current=context.destroyBean(compBean.current));compBean.current=context.createBean(new EmptyBean);const compProxy={setHeight:height2=>setHeight(height2),setTop:top2=>setTop(top2),setHeaderCtrls:(ctrls,forceOrder,afterScroll)=>{const prevCellCtrls=cellCtrlsRef.current,nextCells=getNextValueIfDifferent(prevCellCtrls,ctrls,forceOrder);nextCells!==prevCellCtrls&&(cellCtrlsRef.current=nextCells,agFlushSync(afterScroll,(()=>setCellCtrls(nextCells))))},setWidth:width=>{eGui.current&&(eGui.current.style.width=width)},setRowIndex:rowIndex=>{setAriaRowIndex(rowIndex)}};ctrl.setComp(compProxy,compBean.current,!1)}),[]),style=(0,react.useMemo)((()=>({height,top})),[height,top]),createCellJsx=(0,react.useCallback)((cellCtrl=>{switch(ctrl.type){case"group":return react.createElement(headerGroupCellComp_default,{ctrl:cellCtrl,key:cellCtrl.instanceId});case"filter":return react.createElement(headerFilterCellComp_default,{ctrl:cellCtrl,key:cellCtrl.instanceId});default:return react.createElement(headerCellComp_default,{ctrl:cellCtrl,key:cellCtrl.instanceId})}}),[]);return react.createElement("div",{ref:setRef2,className,role:"row",style,tabIndex,"aria-rowindex":ariaRowIndex},cellCtrls.map(createCellJsx))})),headerRowContainerComp_default=(0,react.memo)((({pinned})=>{const[displayed,setDisplayed]=(0,react.useState)(!0),[headerRowCtrls,setHeaderRowCtrls]=(0,react.useState)([]),{context}=(0,react.useContext)(BeansContext),eGui=(0,react.useRef)(null),eCenterContainer=(0,react.useRef)(null),headerRowCtrlRef=(0,react.useRef)(),pinnedLeft="left"===pinned,pinnedRight="right"===pinned,centre=!pinnedLeft&&!pinnedRight,setRef2=(0,react.useCallback)((eRef=>{if(eGui.current=eRef,!eRef||context.isDestroyed())return void(headerRowCtrlRef.current=context.destroyBean(headerRowCtrlRef.current));headerRowCtrlRef.current=context.createBean(new HeaderRowContainerCtrl(pinned));const compProxy={setDisplayed,setCtrls:ctrls=>setHeaderRowCtrls(ctrls),setCenterWidth:width=>{eCenterContainer.current&&(eCenterContainer.current.style.width=width)},setViewportScrollLeft:left=>{eGui.current&&(eGui.current.scrollLeft=left)},setPinnedContainerWidth:width=>{eGui.current&&(eGui.current.style.width=width,eGui.current.style.minWidth=width,eGui.current.style.maxWidth=width)}};headerRowCtrlRef.current.setComp(compProxy,eGui.current)}),[]),className=displayed?"":"ag-hidden",insertRowsJsx=()=>headerRowCtrls.map((ctrl=>react.createElement(headerRowComp_default,{ctrl,key:ctrl.instanceId})));return pinnedLeft?react.createElement("div",{ref:setRef2,className:"ag-pinned-left-header "+className,"aria-hidden":!displayed,role:"rowgroup"},insertRowsJsx()):pinnedRight?react.createElement("div",{ref:setRef2,className:"ag-pinned-right-header "+className,"aria-hidden":!displayed,role:"rowgroup"},insertRowsJsx()):centre?react.createElement("div",{ref:setRef2,className:"ag-header-viewport "+className,role:"rowgroup",tabIndex:-1},react.createElement("div",{ref:eCenterContainer,className:"ag-header-container",role:"presentation"},insertRowsJsx())):null})),gridHeaderComp_default=(0,react.memo)((()=>{const[cssClasses,setCssClasses]=(0,react.useState)((()=>new CssClasses)),[height,setHeight]=(0,react.useState)(),{context}=(0,react.useContext)(BeansContext),eGui=(0,react.useRef)(null),gridCtrlRef=(0,react.useRef)(),setRef2=(0,react.useCallback)((eRef=>{if(eGui.current=eRef,!eRef||context.isDestroyed())return void(gridCtrlRef.current=context.destroyBean(gridCtrlRef.current));gridCtrlRef.current=context.createBean(new GridHeaderCtrl);const compProxy={toggleCss:(name,on)=>setCssClasses((prev=>prev.setClass(name,on))),setHeightAndMinHeight:height2=>setHeight(height2)};gridCtrlRef.current.setComp(compProxy,eRef,eRef)}),[]),className=(0,react.useMemo)((()=>"ag-header "+cssClasses.toString()),[cssClasses]),style=(0,react.useMemo)((()=>({height,minHeight:height})),[height]);return react.createElement("div",{ref:setRef2,className,style,role:"presentation"},react.createElement(headerRowContainerComp_default,{pinned:"left"}),react.createElement(headerRowContainerComp_default,{pinned:null}),react.createElement(headerRowContainerComp_default,{pinned:"right"}))})),reactComment_default=(comment,eForCommentRef)=>{(0,react.useEffect)((()=>{const eForComment=eForCommentRef.current;if(eForComment){const eParent=eForComment.parentElement;if(eParent){const eComment=document.createComment(comment);return eParent.insertBefore(eComment,eForComment),()=>{eParent.removeChild(eComment)}}}}),[comment])},CellEditorComponentProxy=class{constructor(cellEditorParams,refreshProps){this.cellEditorParams=cellEditorParams,this.refreshProps=refreshProps,this.instanceCreated=new AgPromise((resolve=>{this.resolveInstanceCreated=resolve})),this.onValueChange=value=>this.updateValue(value),this.value=cellEditorParams.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(params){this.cellEditorParams=params,this.refreshProps()}setMethods(methods){addOptionalMethods(this.getOptionalMethods(),methods,this)}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}setRef(componentInstance){this.componentInstance=componentInstance,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(value){this.value=value,this.refreshProps()}},popupEditorComp_default=(0,react.memo)((props=>{const[popupEditorWrapper,setPopupEditorWrapper]=(0,react.useState)(),beans=(0,react.useContext)(BeansContext),{context,popupSvc,gos,editSvc}=beans,{editDetails,cellCtrl,eParentCell}=props;return(effect=>{const effectFn=(0,react.useRef)(effect),destroyFn=(0,react.useRef)(),effectCalled=(0,react.useRef)(!1),rendered=(0,react.useRef)(!1),[,setVal]=(0,react.useState)(0);effectCalled.current&&(rendered.current=!0),(0,react.useEffect)((()=>(effectCalled.current||(destroyFn.current=effectFn.current(),effectCalled.current=!0),setVal((val=>val+1)),()=>{rendered.current&&destroyFn.current?.()})),[])})((()=>{const{compDetails}=editDetails,useModelPopup=gos.get("stopEditingWhenCellsLoseFocus");let hideEditorPopup,wrapper;if(!context.isDestroyed()){wrapper=context.createBean(editSvc.createPopupEditorWrapper(compDetails.params));const ePopupGui=wrapper.getGui();if(props.jsChildComp){const eChildGui=props.jsChildComp.getGui();eChildGui&&ePopupGui.appendChild(eChildGui)}const{column,rowNode}=cellCtrl,positionParams={column,rowNode,type:"popupCellEditor",eventSource:eParentCell,ePopup:ePopupGui,position:editDetails.popupPosition,keepWithinBounds:!0},positionCallback=popupSvc?.positionPopupByComponent.bind(popupSvc,positionParams),addPopupRes=popupSvc?.addPopup({modal:useModelPopup,eChild:ePopupGui,closeOnEsc:!0,closedCallback:()=>{cellCtrl.onPopupEditorClosed()},anchorToElement:eParentCell,positionCallback,ariaOwns:eParentCell});hideEditorPopup=addPopupRes?addPopupRes.hideFunc:void 0,setPopupEditorWrapper(wrapper),props.jsChildComp?.afterGuiAttached?.()}return()=>{hideEditorPopup?.(),context.destroyBean(wrapper)}})),(0,react.useLayoutEffect)((()=>()=>{cellCtrl.isCellFocused()&&popupEditorWrapper?.getGui().contains(_getActiveDomElement(beans))&&eParentCell.focus({preventScroll:!0})}),[popupEditorWrapper]),popupEditorWrapper&&props.wrappedContent?(0,react_dom.createPortal)(props.wrappedContent,popupEditorWrapper.getGui()):null})),jsxEditor=(editDetails,CellEditorClass,setRef2)=>editDetails.compProxy?((editDetails,CellEditorClass,setRef2)=>{const{compProxy}=editDetails;setRef2(compProxy);const props=compProxy.getProps(),isStateless=isComponentStateless(CellEditorClass);return react.createElement(CustomContext.Provider,{value:{setMethods:methods=>compProxy.setMethods(methods)}},isStateless?react.createElement(CellEditorClass,{...props}):react.createElement(CellEditorClass,{...props,ref:ref=>compProxy.setRef(ref)}))})(editDetails,CellEditorClass,setRef2):react.createElement(CellEditorClass,{...editDetails.compDetails.params,ref:setRef2}),showJsRenderer_default=(showDetails,showTools,eCellValue,cellValueVersion,jsCellRendererRef,eGui)=>{const{context}=(0,react.useContext)(BeansContext),destroyCellRenderer=(0,react.useCallback)((()=>{const comp=jsCellRendererRef.current;if(!comp)return;const compGui=comp.getGui();compGui&&compGui.parentElement&&compGui.parentElement.removeChild(compGui),context.destroyBean(comp),jsCellRendererRef.current=void 0}),[]);(0,react.useEffect)((()=>{const showValue=null!=showDetails,jsCompDetails=showDetails?.compDetails&&!showDetails.compDetails.componentFromFramework;if(!(showValue&&jsCompDetails&&!(showTools&&null==eCellValue)))return void destroyCellRenderer();const compDetails=showDetails.compDetails;if(jsCellRendererRef.current){const comp=jsCellRendererRef.current,refreshResult=!!(null!=comp.refresh&&0==showDetails.force)&&comp.refresh(compDetails.params);if(!0===refreshResult||void 0===refreshResult)return;destroyCellRenderer()}compDetails.newAgStackInstance().then((comp=>{if(!comp)return;const compGui=comp.getGui();if(!compGui)return;(showTools?eCellValue:eGui.current).appendChild(compGui),jsCellRendererRef.current=comp}))}),[showDetails,showTools,cellValueVersion]),(0,react.useEffect)((()=>destroyCellRenderer),[])},index_esm_SkeletonCellRenderer=({cellCtrl,parent})=>{const jsCellRendererRef=(0,react.useRef)(),renderDetails=(0,react.useMemo)((()=>{const{loadingComp}=cellCtrl.getDeferLoadingCellRenderer();return loadingComp?{value:void 0,compDetails:loadingComp,force:!1}:void 0}),[cellCtrl]);if(showJsRenderer_default(renderDetails,!1,void 0,1,jsCellRendererRef,parent),renderDetails?.compDetails?.componentFromFramework){const CellRendererClass=renderDetails.compDetails.componentClass;return react.createElement(CellRendererClass,{...renderDetails.compDetails.params})}return react.createElement(react.Fragment,null)},cellComp_default=(0,react.memo)((({cellCtrl,printLayout,editingCell})=>{const beans=(0,react.useContext)(BeansContext),{context}=beans,{column:{colIdSanitised},instanceId}=cellCtrl,compBean=(0,react.useRef)(),[renderDetails,setRenderDetails]=(0,react.useState)((()=>cellCtrl.isCellRenderer()?void 0:{compDetails:void 0,value:cellCtrl.getValueToDisplay(),force:!1})),[editDetails,setEditDetails]=(0,react.useState)(),[renderKey,setRenderKey]=(0,react.useState)(1),[userStyles,setUserStyles]=(0,react.useState)(),[includeSelection,setIncludeSelection]=(0,react.useState)(!1),[includeRowDrag,setIncludeRowDrag]=(0,react.useState)(!1),[includeDndSource,setIncludeDndSource]=(0,react.useState)(!1),[jsEditorComp,setJsEditorComp]=(0,react.useState)(),forceWrapper=(0,react.useMemo)((()=>cellCtrl.isForceWrapper()),[cellCtrl]),cellAriaRole=(0,react.useMemo)((()=>cellCtrl.getCellAriaRole()),[cellCtrl]),eGui=(0,react.useRef)(null),eWrapper=(0,react.useRef)(null),cellRendererRef=(0,react.useRef)(null),jsCellRendererRef=(0,react.useRef)(),cellEditorRef=(0,react.useRef)(),eCellWrapper=(0,react.useRef)(),cellWrapperDestroyFuncs=(0,react.useRef)([]),rowDragCompRef=(0,react.useRef)(),eCellValue=(0,react.useRef)(),[cellValueVersion,setCellValueVersion]=(0,react.useState)(0),setCellValueRef=(0,react.useCallback)((ref=>{eCellValue.current=ref,setCellValueVersion((v=>v+1))}),[]),showTools=null!=renderDetails&&(includeSelection||includeDndSource||includeRowDrag)&&(null==editDetails||!!editDetails.popup),showCellWrapper=forceWrapper||showTools,setCellEditorRef=(0,react.useCallback)((cellEditor=>{if(cellEditorRef.current=cellEditor,cellEditor){const editingCancelledByUserComp=cellEditor.isCancelBeforeStart&&cellEditor.isCancelBeforeStart();setTimeout((()=>{editingCancelledByUserComp?(cellCtrl.stopEditing(!0),cellCtrl.focusCell(!0)):(cellCtrl.cellEditorAttached(),cellCtrl.enableEditorTooltipFeature(cellEditor))}))}}),[cellCtrl]),cssManager=(0,react.useRef)();cssManager.current||(cssManager.current=new CssClassManager((()=>eGui.current))),showJsRenderer_default(renderDetails,showCellWrapper,eCellValue.current,cellValueVersion,jsCellRendererRef,eGui);const lastRenderDetails=(0,react.useRef)();(0,react.useLayoutEffect)((()=>{const oldDetails=lastRenderDetails.current,newDetails=renderDetails;if(lastRenderDetails.current=renderDetails,null==oldDetails||null==oldDetails.compDetails||null==newDetails||null==newDetails.compDetails)return;rowDragCompRef.current?.refreshVisibility();const oldCompDetails=oldDetails.compDetails,newCompDetails=newDetails.compDetails;if(oldCompDetails.componentClass!=newCompDetails.componentClass)return;if(null==cellRendererRef.current?.refresh)return;1!=cellRendererRef.current.refresh(newCompDetails.params)&&setRenderKey((prev=>prev+1))}),[renderDetails]),(0,react.useLayoutEffect)((()=>{if(!(editDetails&&!editDetails.compDetails.componentFromFramework)||context.isDestroyed())return;const compDetails=editDetails.compDetails,isPopup=!0===editDetails.popup,cellEditorPromise=compDetails.newAgStackInstance();return cellEditorPromise.then((cellEditor=>{if(!cellEditor)return;const compGui=cellEditor.getGui();if(setCellEditorRef(cellEditor),!isPopup){const parentEl=(forceWrapper?eCellWrapper:eGui).current;parentEl?.appendChild(compGui),cellEditor.afterGuiAttached&&cellEditor.afterGuiAttached()}setJsEditorComp(cellEditor)})),()=>{cellEditorPromise.then((cellEditor=>{const compGui=cellEditor.getGui();cellCtrl.disableEditorTooltipFeature(),context.destroyBean(cellEditor),setCellEditorRef(void 0),setJsEditorComp(void 0),compGui?.parentElement?.removeChild(compGui)}))}}),[editDetails]);const setCellWrapperRef=(0,react.useCallback)((eRef=>{if(eCellWrapper.current=eRef,!eRef||context.isDestroyed()||!cellCtrl.isAlive()){const callbacks=cellWrapperDestroyFuncs.current;cellWrapperDestroyFuncs.current=[];for(const cb of callbacks)cb();return}let rowDragComp;const addComp=comp=>{comp&&(eRef.insertAdjacentElement("afterbegin",comp.getGui()),cellWrapperDestroyFuncs.current.push((()=>{_removeFromParent(comp.getGui()),context.destroyBean(comp),rowDragCompRef.current===rowDragComp&&(rowDragCompRef.current=void 0)})))};includeSelection&&addComp(cellCtrl.createSelectionCheckbox()),includeDndSource&&addComp(cellCtrl.createDndSource()),includeRowDrag&&(rowDragComp=cellCtrl.createRowDragComp(),rowDragCompRef.current=rowDragComp,rowDragComp&&(addComp(rowDragComp),rowDragComp.refreshVisibility()))}),[cellCtrl,context,includeDndSource,includeRowDrag,includeSelection]),init=(0,react.useCallback)((()=>{const spanReady=!cellCtrl.isCellSpanning()||eWrapper.current,eRef=eGui.current;if(!eRef||!spanReady||!cellCtrl||!cellCtrl.isAlive()||context.isDestroyed())return void(compBean.current=context.destroyBean(compBean.current));compBean.current=context.createBean(new EmptyBean);const compProxy={toggleCss:(name,on)=>cssManager.current.toggleCss(name,on),setUserStyles:styles=>setUserStyles(styles),getFocusableElement:()=>eGui.current,setIncludeSelection:include=>setIncludeSelection(include),setIncludeRowDrag:include=>setIncludeRowDrag(include),setIncludeDndSource:include=>setIncludeDndSource(include),getCellEditor:()=>cellEditorRef.current||null,getCellRenderer:()=>cellRendererRef.current??jsCellRendererRef.current,getParentOfValue:()=>eCellValue.current??eCellWrapper.current??eGui.current,setRenderDetails:(compDetails,value,force)=>{const setDetails=()=>{setRenderDetails((prev=>prev?.compDetails!==compDetails||prev?.value!==value||prev?.force!==force?{value,compDetails,force}:prev))};if(compDetails?.params?.deferRender&&!cellCtrl.rowNode.group){const{loadingComp,onReady}=cellCtrl.getDeferLoadingCellRenderer();if(loadingComp)return setRenderDetails({value:void 0,compDetails:loadingComp,force:!1}),void onReady.then((()=>{return fn=setDetails,void(isReactVersion17Minus?fn():react.startTransition(fn));var fn}))}setDetails()},setEditDetails:(compDetails,popup,popupPosition,reactiveCustomComponents)=>{if(compDetails){let compProxy2;compDetails.componentFromFramework&&(reactiveCustomComponents?compProxy2=new CellEditorComponentProxy(compDetails.params,(()=>setRenderKey((prev=>prev+1)))):warnReactiveCustomComponents()),setEditDetails({compDetails,popup,popupPosition,compProxy:compProxy2}),popup||setRenderDetails(void 0)}else{cellCtrl.hasBrowserFocus()&&compProxy.getFocusableElement().focus({preventScroll:!0}),setEditDetails((editDetails2=>{editDetails2?.compProxy&&(cellEditorRef.current=void 0)}))}},refreshEditStyles:(editing,isPopup)=>{if(!eGui.current)return;const{current}=cssManager;current.toggleCss("ag-cell-value",!showCellWrapper),current.toggleCss("ag-cell-inline-editing",!!editing&&!isPopup),current.toggleCss("ag-cell-popup-editing",!!editing&&!!isPopup),current.toggleCss("ag-cell-not-inline-editing",!editing||!!isPopup)}},cellWrapperOrUndefined=eCellWrapper.current||void 0;cellCtrl.setComp(compProxy,eRef,eWrapper.current??void 0,cellWrapperOrUndefined,printLayout,editingCell,compBean.current)}),[]),setGuiRef=(0,react.useCallback)((ref=>{eGui.current=ref,init()}),[]),setWrapperRef=(0,react.useCallback)((ref=>{eWrapper.current=ref,init()}),[]),reactCellRendererStateless=(0,react.useMemo)((()=>!!(renderDetails?.compDetails?.componentFromFramework&&isComponentStateless(renderDetails.compDetails.componentClass))),[renderDetails]);(0,react.useLayoutEffect)((()=>{if(!eGui.current)return;const{current}=cssManager;current.toggleCss("ag-cell-value",!showCellWrapper),current.toggleCss("ag-cell-inline-editing",!!editDetails&&!editDetails.popup),current.toggleCss("ag-cell-popup-editing",!!editDetails&&!!editDetails.popup),current.toggleCss("ag-cell-not-inline-editing",!editDetails||!!editDetails.popup)}));const valueOrCellComp=()=>{const{compDetails,value}=renderDetails;if(!compDetails)return value?.toString?.()??value;if(compDetails.componentFromFramework){const CellRendererClass=compDetails.componentClass;return react.createElement(react.Suspense,{fallback:react.createElement(index_esm_SkeletonCellRenderer,{cellCtrl,parent:eGui})},reactCellRendererStateless?react.createElement(CellRendererClass,{...compDetails.params,key:renderKey}):react.createElement(CellRendererClass,{...compDetails.params,key:renderKey,ref:cellRendererRef}))}},showCellOrEditor=()=>{const showCellValue=()=>null==renderDetails?null:showCellWrapper?react.createElement("span",{role:"presentation",id:`cell-${instanceId}`,className:"ag-cell-value",ref:setCellValueRef},valueOrCellComp()):valueOrCellComp(),showEditValue=details=>((editDetails,setCellEditorRef,eGui,cellCtrl,jsEditorComp)=>{const compDetails=editDetails.compDetails,CellEditorClass=compDetails.componentClass,reactInlineEditor=compDetails.componentFromFramework&&!editDetails.popup,reactPopupEditor=compDetails.componentFromFramework&&editDetails.popup,jsPopupEditor=!compDetails.componentFromFramework&&editDetails.popup;return reactInlineEditor?jsxEditor(editDetails,CellEditorClass,setCellEditorRef):reactPopupEditor?react.createElement(popupEditorComp_default,{editDetails,cellCtrl,eParentCell:eGui,wrappedContent:jsxEditor(editDetails,CellEditorClass,setCellEditorRef)}):jsPopupEditor&&jsEditorComp?react.createElement(popupEditorComp_default,{editDetails,cellCtrl,eParentCell:eGui,jsChildComp:jsEditorComp}):null})(details,setCellEditorRef,eGui.current,cellCtrl,jsEditorComp);return null!=editDetails?editDetails.popup?react.createElement(react.Fragment,null,showCellValue(),showEditValue(editDetails)):showEditValue(editDetails):showCellValue()},renderCell=()=>react.createElement("div",{ref:setGuiRef,style:userStyles,role:cellAriaRole,"col-id":colIdSanitised},showCellWrapper?react.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:setCellWrapperRef},showCellOrEditor()):showCellOrEditor());return cellCtrl.isCellSpanning()?react.createElement("div",{ref:setWrapperRef,className:"ag-spanned-cell-wrapper",role:"presentation"},renderCell()):renderCell()})),rowComp_default=(0,react.memo)((({rowCtrl,containerType})=>{const{context,gos,editSvc}=(0,react.useContext)(BeansContext),enableUses="default"===(0,react.useContext)(RenderModeContext),compBean=(0,react.useRef)(),domOrderRef=(0,react.useRef)(rowCtrl.getDomOrder()),isFullWidth=rowCtrl.isFullWidth(),isDisplayed=rowCtrl.rowNode.displayed,[rowIndex,setRowIndex]=(0,react.useState)((()=>isDisplayed?rowCtrl.rowNode.getRowIndexString():null)),[rowId,setRowId]=(0,react.useState)((()=>rowCtrl.rowId)),[rowBusinessKey,setRowBusinessKey]=(0,react.useState)((()=>rowCtrl.businessKey)),[userStyles,setUserStyles]=(0,react.useState)((()=>rowCtrl.rowStyles)),cellCtrlsRef=(0,react.useRef)(null),[cellCtrlsFlushSync,setCellCtrlsFlushSync]=(0,react.useState)((()=>null)),[fullWidthCompDetails,setFullWidthCompDetails]=(0,react.useState)(),[top,setTop]=(0,react.useState)((()=>isDisplayed?rowCtrl.getInitialRowTop(containerType):void 0)),[transform,setTransform]=(0,react.useState)((()=>isDisplayed?rowCtrl.getInitialTransform(containerType):void 0)),eGui=(0,react.useRef)(null),fullWidthCompRef=(0,react.useRef)(),fullWidthParamsRef=(0,react.useRef)(),autoHeightSetup=(0,react.useRef)(!1),[autoHeightSetupAttempt,setAutoHeightSetupAttempt]=(0,react.useState)(0);(0,react.useEffect)((()=>{if(autoHeightSetup.current||!fullWidthCompDetails||autoHeightSetupAttempt>10)return;const eChild=eGui.current?.firstChild;eChild?(rowCtrl.setupDetailRowAutoHeight(eChild),autoHeightSetup.current=!0):setAutoHeightSetupAttempt((prev=>prev+1))}),[fullWidthCompDetails,autoHeightSetupAttempt]);const cssManager=(0,react.useRef)();cssManager.current||(cssManager.current=new CssClassManager((()=>eGui.current)));const cellsChanged=(0,react.useRef)((()=>{})),cellCtrlsUses=function agUseSyncExternalStore(subscribe,getSnapshot,defaultSnapshot){return react.useSyncExternalStore?react.useSyncExternalStore(subscribe,getSnapshot):defaultSnapshot}((0,react.useCallback)((onStoreChange=>(cellsChanged.current=onStoreChange,()=>{cellsChanged.current=()=>{}})),[]),(()=>cellCtrlsRef.current),[]),cellCtrlsMerged=enableUses?cellCtrlsUses:cellCtrlsFlushSync,setRef2=(0,react.useCallback)((eRef=>{if(eGui.current=eRef,compBean.current=eRef?context.createBean(new EmptyBean):context.destroyBean(compBean.current),!eRef)return void rowCtrl.unsetComp(containerType);if(!rowCtrl.isAlive()||context.isDestroyed())return;const compProxy={setTop,setTransform,toggleCss:(name,on)=>cssManager.current.toggleCss(name,on),setDomOrder:domOrder=>domOrderRef.current=domOrder,setRowIndex,setRowId,setRowBusinessKey,setUserStyles,setCellCtrls:(next,useFlushSync)=>{const prevCellCtrls=cellCtrlsRef.current,nextCells=getNextValueIfDifferent(prevCellCtrls,next,domOrderRef.current);nextCells!==prevCellCtrls&&(cellCtrlsRef.current=nextCells,enableUses?cellsChanged.current():agFlushSync(useFlushSync,(()=>setCellCtrlsFlushSync(nextCells))))},showFullWidth:compDetails=>{fullWidthParamsRef.current=compDetails.params,setFullWidthCompDetails(compDetails)},getFullWidthCellRenderer:()=>fullWidthCompRef.current,getFullWidthCellRendererParams:()=>fullWidthParamsRef.current,refreshFullWidth:getUpdatedParams=>{const fullWidthParams=getUpdatedParams();return fullWidthParamsRef.current=fullWidthParams,canRefreshFullWidthRef.current?(setFullWidthCompDetails((prevFullWidthCompDetails=>({...prevFullWidthCompDetails,params:fullWidthParams}))),!0):!(!fullWidthCompRef.current||!fullWidthCompRef.current.refresh)&&fullWidthCompRef.current.refresh(fullWidthParams)}};rowCtrl.setComp(compProxy,eRef,containerType,compBean.current)}),[]);(0,react.useLayoutEffect)((()=>showJsComp(fullWidthCompDetails,context,eGui.current,fullWidthCompRef)),[fullWidthCompDetails]);const rowStyles=(0,react.useMemo)((()=>{const res={top,transform};return Object.assign(res,userStyles),res}),[top,transform,userStyles]),showFullWidthFramework=isFullWidth&&fullWidthCompDetails?.componentFromFramework,showCells=!isFullWidth&&null!=cellCtrlsMerged,reactFullWidthCellRendererStateless=(0,react.useMemo)((()=>!!(fullWidthCompDetails?.componentFromFramework&&isComponentStateless(fullWidthCompDetails.componentClass))),[fullWidthCompDetails]),canRefreshFullWidthRef=(0,react.useRef)(!1);(0,react.useEffect)((()=>{canRefreshFullWidthRef.current=reactFullWidthCellRendererStateless&&!!fullWidthCompDetails&&!!gos.get("reactiveCustomComponents")}),[reactFullWidthCellRendererStateless,fullWidthCompDetails]);return react.createElement("div",{ref:setRef2,role:"row",style:rowStyles,"row-index":rowIndex,"row-id":rowId,"row-business-key":rowBusinessKey},showCells?cellCtrlsMerged?.map((cellCtrl=>react.createElement(cellComp_default,{cellCtrl,editingCell:editSvc?.isEditing(cellCtrl,{withOpenEditor:!0})??!1,printLayout:rowCtrl.printLayout,key:cellCtrl.instanceId}))):showFullWidthFramework?(()=>{const FullWidthComp=fullWidthCompDetails.componentClass;return reactFullWidthCellRendererStateless?react.createElement(FullWidthComp,{...fullWidthCompDetails.params}):react.createElement(FullWidthComp,{...fullWidthCompDetails.params,ref:fullWidthCompRef})})():null)})),rowContainerComp_default=(0,react.memo)((({name})=>{const{context,gos}=(0,react.useContext)(BeansContext),containerOptions=(0,react.useMemo)((()=>_getRowContainerOptions(name)),[name]),eViewport=(0,react.useRef)(null),eContainer=(0,react.useRef)(null),eSpanContainer=(0,react.useRef)(null),rowCtrlsRef=(0,react.useRef)([]),prevRowCtrlsRef=(0,react.useRef)([]),[rowCtrlsOrdered,setRowCtrlsOrdered]=(0,react.useState)((()=>[])),isSpanning=!!gos.get("enableCellSpan")&&!!containerOptions.getSpannedRowCtrls,spannedRowCtrlsRef=(0,react.useRef)([]),prevSpannedRowCtrlsRef=(0,react.useRef)([]),[spannedRowCtrlsOrdered,setSpannedRowCtrlsOrdered]=(0,react.useState)((()=>[])),domOrderRef=(0,react.useRef)(!1),rowContainerCtrlRef=(0,react.useRef)(),viewportClasses=(0,react.useMemo)((()=>classesList("ag-viewport",_getRowViewportClass(name))),[name]),containerClasses=(0,react.useMemo)((()=>classesList(_getRowContainerClass(name))),[name]),spanClasses=(0,react.useMemo)((()=>classesList("ag-spanning-container",_getRowSpanContainerClass(name))),[name]),shouldRenderViewport="center"===containerOptions.type||isSpanning;reactComment_default(" AG Row Container "+name+" ",shouldRenderViewport?eViewport:eContainer);const areElementsReady=(0,react.useCallback)((()=>{const viewportReady=!shouldRenderViewport||null!=eViewport.current,containerReady=null!=eContainer.current,spanContainerReady=!isSpanning||null!=eSpanContainer.current;return viewportReady&&containerReady&&spanContainerReady}),[]),areElementsRemoved=(0,react.useCallback)((()=>null==eViewport.current&&null==eContainer.current&&null==eSpanContainer.current),[]),setRef2=(0,react.useCallback)((()=>{if(areElementsRemoved()&&(rowContainerCtrlRef.current=context.destroyBean(rowContainerCtrlRef.current)),!context.isDestroyed()&&areElementsReady()){const updateRowCtrlsOrdered=useFlushSync=>{const next=getNextValueIfDifferent(prevRowCtrlsRef.current,rowCtrlsRef.current,domOrderRef.current);next!==prevRowCtrlsRef.current&&(prevRowCtrlsRef.current=next,agFlushSync(useFlushSync,(()=>setRowCtrlsOrdered(next))))},updateSpannedRowCtrlsOrdered=useFlushSync=>{const next=getNextValueIfDifferent(prevSpannedRowCtrlsRef.current,spannedRowCtrlsRef.current,domOrderRef.current);next!==prevSpannedRowCtrlsRef.current&&(prevSpannedRowCtrlsRef.current=next,agFlushSync(useFlushSync,(()=>setSpannedRowCtrlsOrdered(next))))},compProxy={setHorizontalScroll:offset=>{eViewport.current&&(eViewport.current.scrollLeft=offset)},setViewportHeight:height=>{eViewport.current&&(eViewport.current.style.height=height)},setRowCtrls:({rowCtrls,useFlushSync})=>{const useFlush=!!useFlushSync&&rowCtrlsRef.current.length>0&&rowCtrls.length>0;rowCtrlsRef.current=rowCtrls,updateRowCtrlsOrdered(useFlush)},setSpannedRowCtrls:(rowCtrls,useFlushSync)=>{const useFlush=!!useFlushSync&&spannedRowCtrlsRef.current.length>0&&rowCtrls.length>0;spannedRowCtrlsRef.current=rowCtrls,updateSpannedRowCtrlsOrdered(useFlush)},setDomOrder:domOrder=>{domOrderRef.current!=domOrder&&(domOrderRef.current=domOrder,updateRowCtrlsOrdered(!1))},setContainerWidth:width=>{eContainer.current&&(eContainer.current.style.width=width)},setOffsetTop:offset=>{eContainer.current&&(eContainer.current.style.transform=`translateY(${offset})`)}};rowContainerCtrlRef.current=context.createBean(new RowContainerCtrl(name)),rowContainerCtrlRef.current.setComp(compProxy,eContainer.current,eSpanContainer.current??void 0,eViewport.current)}}),[areElementsReady,areElementsRemoved]),setContainerRef=(0,react.useCallback)((e=>{eContainer.current=e,setRef2()}),[setRef2]),setSpanContainerRef=(0,react.useCallback)((e=>{eSpanContainer.current=e,setRef2()}),[setRef2]),setViewportRef=(0,react.useCallback)((e=>{eViewport.current=e,setRef2()}),[setRef2]),buildContainer=()=>react.createElement("div",{className:containerClasses,ref:setContainerRef,role:shouldRenderViewport?"presentation":"rowgroup"},rowCtrlsOrdered.map((rowCtrl=>react.createElement(rowComp_default,{rowCtrl,containerType:containerOptions.type,key:rowCtrl.instanceId}))));if(!shouldRenderViewport)return buildContainer();return react.createElement("div",{className:viewportClasses,ref:setViewportRef,role:"rowgroup"},buildContainer(),isSpanning?react.createElement("div",{className:spanClasses,ref:setSpanContainerRef,role:"presentation"},spannedRowCtrlsOrdered.map((rowCtrl=>react.createElement(rowComp_default,{rowCtrl,containerType:containerOptions.type,key:rowCtrl.instanceId})))):null)})),gridBodyComp_default=(0,react.memo)((()=>{const beans=(0,react.useContext)(BeansContext),{context,overlays}=beans,[rowAnimationClass,setRowAnimationClass]=(0,react.useState)(""),[topHeight,setTopHeight]=(0,react.useState)(0),[bottomHeight,setBottomHeight]=(0,react.useState)(0),[stickyTopHeight,setStickyTopHeight]=(0,react.useState)("0px"),[stickyTopTop,setStickyTopTop]=(0,react.useState)("0px"),[stickyTopWidth,setStickyTopWidth]=(0,react.useState)("100%"),[stickyBottomHeight,setStickyBottomHeight]=(0,react.useState)("0px"),[stickyBottomBottom,setStickyBottomBottom]=(0,react.useState)("0px"),[stickyBottomWidth,setStickyBottomWidth]=(0,react.useState)("100%"),[topInvisible,setTopInvisible]=(0,react.useState)(!0),[bottomInvisible,setBottomInvisible]=(0,react.useState)(!0),[forceVerticalScrollClass,setForceVerticalScrollClass]=(0,react.useState)(null),[topAndBottomOverflowY,setTopAndBottomOverflowY]=(0,react.useState)(""),[cellSelectableCss,setCellSelectableCss]=(0,react.useState)(null),[layoutClass,setLayoutClass]=(0,react.useState)("ag-layout-normal"),cssManager=(0,react.useRef)();cssManager.current||(cssManager.current=new CssClassManager((()=>eRoot.current)));const eRoot=(0,react.useRef)(null),eTop=(0,react.useRef)(null),eStickyTop=(0,react.useRef)(null),eStickyBottom=(0,react.useRef)(null),eBody=(0,react.useRef)(null),eBodyViewport=(0,react.useRef)(null),eBottom=(0,react.useRef)(null),beansToDestroy=(0,react.useRef)([]),destroyFuncs=(0,react.useRef)([]);reactComment_default(" AG Grid Body ",eRoot),reactComment_default(" AG Pinned Top ",eTop),reactComment_default(" AG Sticky Top ",eStickyTop),reactComment_default(" AG Middle ",eBodyViewport),reactComment_default(" AG Pinned Bottom ",eBottom);const setRef2=(0,react.useCallback)((eRef=>{if(eRoot.current=eRef,!eRef||context.isDestroyed())return beansToDestroy.current=context.destroyBeans(beansToDestroy.current),destroyFuncs.current.forEach((f=>f())),void(destroyFuncs.current=[]);const attachToDom=(eParent,eChild)=>{eParent.appendChild(eChild),destroyFuncs.current.push((()=>eParent.removeChild(eChild)))},addComp=(eParent,compClass,comment)=>{attachToDom(eParent,document.createComment(comment)),attachToDom(eParent,(compClass=>{const comp=context.createBean(new compClass);return beansToDestroy.current.push(comp),comp})(compClass).getGui())};addComp(eRef,FakeHScrollComp," AG Fake Horizontal Scroll ");const overlayComp=overlays?.getOverlayWrapperCompClass();overlayComp&&addComp(eRef,overlayComp," AG Overlay Wrapper "),eBody.current&&addComp(eBody.current,FakeVScrollComp," AG Fake Vertical Scroll ");const compProxy={setRowAnimationCssOnBodyViewport:setRowAnimationClass,setColumnCount:count=>{eRoot.current&&_setAriaColCount(eRoot.current,count)},setRowCount:count=>{eRoot.current&&_setAriaRowCount(eRoot.current,count)},setTopHeight,setBottomHeight,setStickyTopHeight,setStickyTopTop,setStickyTopWidth,setTopInvisible,setBottomInvisible,setColumnMovingCss:(cssClass,flag)=>cssManager.current.toggleCss(cssClass,flag),updateLayoutClasses:setLayoutClass,setAlwaysVerticalScrollClass:setForceVerticalScrollClass,setPinnedTopBottomOverflowY:setTopAndBottomOverflowY,setCellSelectableCss:(cssClass,flag)=>setCellSelectableCss(flag?cssClass:null),setBodyViewportWidth:width=>{eBodyViewport.current&&(eBodyViewport.current.style.width=width)},registerBodyViewportResizeListener:listener=>{if(eBodyViewport.current){const unsubscribeFromResize=_observeResize(beans,eBodyViewport.current,listener);destroyFuncs.current.push((()=>unsubscribeFromResize()))}},setStickyBottomHeight,setStickyBottomBottom,setStickyBottomWidth,setGridRootRole:role=>eRef.setAttribute("role",role)},ctrl=context.createBean(new GridBodyCtrl);beansToDestroy.current.push(ctrl),ctrl.setComp(compProxy,eRef,eBodyViewport.current,eTop.current,eBottom.current,eStickyTop.current,eStickyBottom.current)}),[]),rootClasses=(0,react.useMemo)((()=>classesList("ag-root","ag-unselectable",layoutClass)),[layoutClass]),bodyViewportClasses=(0,react.useMemo)((()=>classesList("ag-body-viewport",rowAnimationClass,layoutClass,forceVerticalScrollClass,cellSelectableCss)),[rowAnimationClass,layoutClass,forceVerticalScrollClass,cellSelectableCss]),bodyClasses=(0,react.useMemo)((()=>classesList("ag-body",layoutClass)),[layoutClass]),topClasses=(0,react.useMemo)((()=>classesList("ag-floating-top",topInvisible?"ag-invisible":null,cellSelectableCss)),[cellSelectableCss,topInvisible]),stickyTopClasses=(0,react.useMemo)((()=>classesList("ag-sticky-top",cellSelectableCss)),[cellSelectableCss]),stickyBottomClasses=(0,react.useMemo)((()=>classesList("ag-sticky-bottom","0px"===stickyBottomHeight?"ag-invisible":null,cellSelectableCss)),[cellSelectableCss,stickyBottomHeight]),bottomClasses=(0,react.useMemo)((()=>classesList("ag-floating-bottom",bottomInvisible?"ag-invisible":null,cellSelectableCss)),[cellSelectableCss,bottomInvisible]),topStyle=(0,react.useMemo)((()=>({height:topHeight,minHeight:topHeight,overflowY:topAndBottomOverflowY})),[topHeight,topAndBottomOverflowY]),stickyTopStyle=(0,react.useMemo)((()=>({height:stickyTopHeight,top:stickyTopTop,width:stickyTopWidth})),[stickyTopHeight,stickyTopTop,stickyTopWidth]),stickyBottomStyle=(0,react.useMemo)((()=>({height:stickyBottomHeight,bottom:stickyBottomBottom,width:stickyBottomWidth})),[stickyBottomHeight,stickyBottomBottom,stickyBottomWidth]),bottomStyle=(0,react.useMemo)((()=>({height:bottomHeight,minHeight:bottomHeight,overflowY:topAndBottomOverflowY})),[bottomHeight,topAndBottomOverflowY]),createRowContainer=container=>react.createElement(rowContainerComp_default,{name:container,key:`${container}-container`}),createSection=({section,children,className,style})=>react.createElement("div",{ref:section,className,role:"presentation",style},children.map(createRowContainer));return react.createElement("div",{ref:setRef2,className:rootClasses},react.createElement(gridHeaderComp_default,null),createSection({section:eTop,className:topClasses,style:topStyle,children:["topLeft","topCenter","topRight","topFullWidth"]}),react.createElement("div",{className:bodyClasses,ref:eBody,role:"presentation"},createSection({section:eBodyViewport,className:bodyViewportClasses,children:["left","center","right","fullWidth"]})),createSection({section:eStickyTop,className:stickyTopClasses,style:stickyTopStyle,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),createSection({section:eStickyBottom,className:stickyBottomClasses,style:stickyBottomStyle,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),createSection({section:eBottom,className:bottomClasses,style:bottomStyle,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))})),index_esm_TabGuardComp=(0,react.forwardRef)(((props,forwardRef4)=>{const{children,eFocusableElement,onTabKeyDown,gridCtrl,forceFocusOutWhenTabGuardsAreEmpty,isEmpty}=props,{context}=(0,react.useContext)(BeansContext),topTabGuardRef=(0,react.useRef)(null),bottomTabGuardRef=(0,react.useRef)(null),tabGuardCtrlRef=(0,react.useRef)(),setTabIndex=value=>{const processedValue=null==value?void 0:parseInt(value,10).toString();[topTabGuardRef,bottomTabGuardRef].forEach((tabGuard=>{void 0===processedValue?tabGuard.current?.removeAttribute("tabindex"):tabGuard.current?.setAttribute("tabindex",processedValue)}))};(0,react.useImperativeHandle)(forwardRef4,(()=>({forceFocusOutOfContainer(up){tabGuardCtrlRef.current?.forceFocusOutOfContainer(up)}})));const setupCtrl=(0,react.useCallback)((()=>{const topTabGuard=topTabGuardRef.current,bottomTabGuard=bottomTabGuardRef.current;if(!topTabGuard&&!bottomTabGuard||context.isDestroyed())tabGuardCtrlRef.current=context.destroyBean(tabGuardCtrlRef.current);else if(topTabGuard&&bottomTabGuard){const compProxy={setTabIndex};tabGuardCtrlRef.current=context.createBean(new TabGuardCtrl({comp:compProxy,eTopGuard:topTabGuard,eBottomGuard:bottomTabGuard,eFocusableElement,onTabKeyDown,forceFocusOutWhenTabGuardsAreEmpty,focusInnerElement:fromBottom=>gridCtrl.focusInnerElement(fromBottom),isEmpty}))}}),[]),setTopRef=(0,react.useCallback)((e=>{topTabGuardRef.current=e,setupCtrl()}),[setupCtrl]),setBottomRef=(0,react.useCallback)((e=>{bottomTabGuardRef.current=e,setupCtrl()}),[setupCtrl]),createTabGuard=side=>{const className="top"===side?TabGuardClassNames_TAB_GUARD_TOP:TabGuardClassNames_TAB_GUARD_BOTTOM;return react.createElement("div",{className:`${TabGuardClassNames_TAB_GUARD} ${className}`,role:"presentation",ref:"top"===side?setTopRef:setBottomRef})};return react.createElement(react.Fragment,null,createTabGuard("top"),children,createTabGuard("bottom"))})),tabGuardComp_default=(0,react.memo)(index_esm_TabGuardComp),gridComp_default=(0,react.memo)((({context})=>{const[rtlClass,setRtlClass]=(0,react.useState)(""),[layoutClass,setLayoutClass]=(0,react.useState)(""),[cursor,setCursor]=(0,react.useState)(null),[userSelect,setUserSelect]=(0,react.useState)(null),[initialised,setInitialised]=(0,react.useState)(!1),[tabGuardReady,setTabGuardReady]=(0,react.useState)(),gridCtrlRef=(0,react.useRef)(),eRootWrapperRef=(0,react.useRef)(null),tabGuardRef=(0,react.useRef)(),[eGridBodyParent,setGridBodyParent]=(0,react.useState)(null),focusInnerElementRef=(0,react.useRef)((()=>{})),paginationCompRef=(0,react.useRef)(),focusableContainersRef=(0,react.useRef)([]),onTabKeyDown=(0,react.useCallback)((()=>{}),[]);reactComment_default(" AG Grid ",eRootWrapperRef);const setRef2=(0,react.useCallback)((eRef=>{if(eRootWrapperRef.current=eRef,gridCtrlRef.current=eRef?context.createBean(new GridCtrl):context.destroyBean(gridCtrlRef.current),!eRef||context.isDestroyed())return;const gridCtrl=gridCtrlRef.current;focusInnerElementRef.current=gridCtrl.focusInnerElement.bind(gridCtrl);const compProxy={destroyGridUi:()=>{},setRtlClass,forceFocusOutOfContainer:up=>{up||!paginationCompRef.current?.isDisplayed()?tabGuardRef.current?.forceFocusOutOfContainer(up):paginationCompRef.current.forceFocusOutOfContainer(up)},updateLayoutClasses:setLayoutClass,getFocusableContainers:()=>{const comps=[],gridBodyCompEl=eRootWrapperRef.current?.querySelector(".ag-root");return gridBodyCompEl&&comps.push({getGui:()=>gridBodyCompEl}),focusableContainersRef.current.forEach((comp=>{comp.isDisplayed()&&comps.push(comp)})),comps},setCursor,setUserSelect};gridCtrl.setComp(compProxy,eRef,eRef),setInitialised(!0)}),[]);(0,react.useEffect)((()=>{const gridCtrl=gridCtrlRef.current,eRootWrapper=eRootWrapperRef.current;if(!tabGuardReady||!gridCtrl||!eGridBodyParent||!eRootWrapper||context.isDestroyed())return;const beansToDestroy=[],{watermarkSelector,paginationSelector,sideBarSelector,statusBarSelector,gridHeaderDropZonesSelector}=gridCtrl.getOptionalSelectors(),additionalEls=[];if(gridHeaderDropZonesSelector){const headerDropZonesComp=context.createBean(new gridHeaderDropZonesSelector.component),eGui=headerDropZonesComp.getGui();eRootWrapper.insertAdjacentElement("afterbegin",eGui),additionalEls.push(eGui),beansToDestroy.push(headerDropZonesComp)}if(sideBarSelector){const sideBarComp=context.createBean(new sideBarSelector.component),eGui=sideBarComp.getGui(),bottomTabGuard=eGridBodyParent.querySelector(".ag-tab-guard-bottom");bottomTabGuard&&(bottomTabGuard.insertAdjacentElement("beforebegin",eGui),additionalEls.push(eGui)),beansToDestroy.push(sideBarComp),focusableContainersRef.current.push(sideBarComp)}const addComponentToDom=component=>{const comp=context.createBean(new component),eGui=comp.getGui();return eRootWrapper.insertAdjacentElement("beforeend",eGui),additionalEls.push(eGui),beansToDestroy.push(comp),comp};if(statusBarSelector&&addComponentToDom(statusBarSelector.component),paginationSelector){const paginationComp=addComponentToDom(paginationSelector.component);paginationCompRef.current=paginationComp,focusableContainersRef.current.push(paginationComp)}return watermarkSelector&&addComponentToDom(watermarkSelector.component),()=>{context.destroyBeans(beansToDestroy),additionalEls.forEach((el=>{el.parentElement?.removeChild(el)}))}}),[tabGuardReady,eGridBodyParent,context]);const rootWrapperClasses=(0,react.useMemo)((()=>classesList("ag-root-wrapper",rtlClass,layoutClass)),[rtlClass,layoutClass]),rootWrapperBodyClasses=(0,react.useMemo)((()=>classesList("ag-root-wrapper-body","ag-focus-managed",layoutClass)),[layoutClass]),topStyle=(0,react.useMemo)((()=>({userSelect:null!=userSelect?userSelect:"",WebkitUserSelect:null!=userSelect?userSelect:"",cursor:null!=cursor?cursor:""})),[userSelect,cursor]),setTabGuardCompRef=(0,react.useCallback)((ref=>{tabGuardRef.current=ref,setTabGuardReady(null!==ref)}),[]),isFocusable=(0,react.useCallback)((()=>!gridCtrlRef.current?.isFocusable()),[]);return react.createElement("div",{ref:setRef2,className:rootWrapperClasses,style:topStyle,role:"presentation"},react.createElement("div",{className:rootWrapperBodyClasses,ref:setGridBodyParent,role:"presentation"},initialised&&eGridBodyParent&&!context.isDestroyed()&&react.createElement(BeansContext.Provider,{value:context.getBeans()},react.createElement(tabGuardComp_default,{ref:setTabGuardCompRef,eFocusableElement:eGridBodyParent,onTabKeyDown,gridCtrl:gridCtrlRef.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:isFocusable},react.createElement(gridBodyComp_default,null)))))})),RenderStatusService=class extends BeanStub{postConstruct(){if(this.beans.colAutosize){const queueResizeOperationsForTick=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:queueResizeOperationsForTick,expandOrCollapseAll:queueResizeOperationsForTick,cellValueChanged:queueResizeOperationsForTick,rowNodeDataChanged:queueResizeOperationsForTick,rowDataUpdated:queueResizeOperationsForTick})}}queueResizeOperationsForTick(){const colAutosize=this.beans.colAutosize;colAutosize.shouldQueueResizeOperations=!0,setTimeout((()=>{colAutosize.processResizeOperations()}),0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every((container=>container.getAllCtrls().every((ctrl=>ctrl.areCellsRendered()))))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every((row=>row.isRowRendered()&&row.getAllCellCtrls().every((cellCtrl=>!!cellCtrl.eGui))))}},deprecatedProps={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},reactPropsNotGridOptions={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...deprecatedProps},excludeReactCompProps=new Set(Object.keys(reactPropsNotGridOptions)),deprecatedReactCompProps=new Set(Object.keys(deprecatedProps)),AgGridReactUi=props=>{const apiRef=(0,react.useRef)(),eGui=(0,react.useRef)(null),portalManager=(0,react.useRef)(null),destroyFuncs=(0,react.useRef)([]),whenReadyFuncs=(0,react.useRef)([]),prevProps=(0,react.useRef)(props),frameworkOverridesRef=(0,react.useRef)(),gridIdRef=(0,react.useRef)(),ready=(0,react.useRef)(!1),[context,setContext]=(0,react.useState)(void 0),[,setPortalRefresher]=(0,react.useState)(0),setRef2=(0,react.useCallback)((eRef=>{if(eGui.current=eRef,!eRef)return destroyFuncs.current.forEach((f=>f())),void(destroyFuncs.current.length=0);const modules=props.modules||[];portalManager.current||(portalManager.current=new PortalManager((()=>setPortalRefresher((prev=>prev+1))),props.componentWrappingElement,props.maxComponentCreationTimeMs),destroyFuncs.current.push((()=>{portalManager.current?.destroy(),portalManager.current=null})));const mergedGridOps=function _combineAttributesAndGridOptions(gridOptions,component,gridOptionsKeys){"object"!=typeof gridOptions&&(gridOptions={});const mergedOptions={...gridOptions};return gridOptionsKeys.forEach((key=>{const value=component[key];void 0!==value&&(mergedOptions[key]=value)})),mergedOptions}(props.gridOptions,props,Object.keys(props).filter((key=>!excludeReactCompProps.has(key)))),frameworkOverrides=new ReactFrameworkOverrides((()=>{if(ready.current){const getFn=()=>frameworkOverridesRef.current?.shouldQueueUpdates()?void 0:whenReadyFuncs.current.shift();let fn=getFn();for(;fn;)fn(),fn=getFn()}}));frameworkOverridesRef.current=frameworkOverrides;const renderStatus=new RenderStatusService,gridParams={providedBeanInstances:{frameworkCompWrapper:new ReactFrameworkComponentWrapper(portalManager.current,mergedGridOps),renderStatus},modules,frameworkOverrides,setThemeOnGridDiv:!0},gridCoreCreator=new GridCoreCreator;mergedGridOps.gridId??(mergedGridOps.gridId=gridIdRef.current),apiRef.current=gridCoreCreator.create(eRef,mergedGridOps,(ctx=>{setContext(ctx),ctx.createBean(renderStatus),destroyFuncs.current.push((()=>{ctx.destroy()})),ctx.getBean("ctrlsSvc").whenReady({addDestroyFunc:func=>{destroyFuncs.current.push(func)}},(()=>{if(ctx.isDestroyed())return;const api=apiRef.current;api&&props.passGridApi?.(api)}))}),(context2=>{context2.getBean("ctrlsSvc").whenReady({addDestroyFunc:func=>{destroyFuncs.current.push(func)}},(()=>{whenReadyFuncs.current.forEach((f=>f())),whenReadyFuncs.current.length=0,ready.current=!0}))}),gridParams),destroyFuncs.current.push((()=>{apiRef.current=void 0})),apiRef.current&&(gridIdRef.current=apiRef.current.getGridId())}),[]),style=(0,react.useMemo)((()=>({height:"100%",...props.containerStyle||{}})),[props.containerStyle]),processWhenReady=(0,react.useCallback)((func=>{ready.current&&!frameworkOverridesRef.current?.shouldQueueUpdates()?func():whenReadyFuncs.current.push(func)}),[]);(0,react.useEffect)((()=>{const changes=function extractGridPropertyChanges(prevProps,nextProps){const changes={};return Object.keys(nextProps).forEach((propKey=>{if(excludeReactCompProps.has(propKey))return void(deprecatedReactCompProps.has(propKey)&&_warn(274,{prop:propKey}));const propValue=nextProps[propKey];prevProps[propKey]!==propValue&&(changes[propKey]=propValue)})),changes}(prevProps.current,props);prevProps.current=props,processWhenReady((()=>{apiRef.current&&function _processOnChange(changes,api){if(!changes)return;const gridChanges={};let hasChanges=!1;if(Object.keys(changes).forEach((key=>{gridChanges[key]=changes[key],hasChanges=!0})),!hasChanges)return;const internalUpdateEvent={type:"gridOptionsChanged",options:gridChanges};api.dispatchEvent(internalUpdateEvent);const event={type:"componentStateChanged",...gridChanges};api.dispatchEvent(event)}(changes,apiRef.current)}))}),[props]);const renderMode=react.useSyncExternalStore&&"legacy"!==_getGridOption(props,"renderingMode")?"default":"legacy";return react.createElement("div",{style,className:props.className,ref:setRef2},react.createElement(RenderModeContext.Provider,{value:renderMode},context&&!context.isDestroyed()?react.createElement(gridComp_default,{key:context.instanceId,context}):null,portalManager.current?.getPortals()??null))};var ReactFrameworkComponentWrapper=class extends BaseComponentWrapper{constructor(parent,gridOptions){super(),this.parent=parent,this.gridOptions=gridOptions}createWrapper(UserReactComponent,componentType){const gridOptions=this.gridOptions;if(_getGridOption(gridOptions,"reactiveCustomComponents")){const ComponentClass=(propertyName=>{switch(propertyName){case"filter":return _getGridOption(gridOptions,"enableFilterHandlers")?FilterDisplayComponentWrapper:FilterComponentWrapper;case"floatingFilterComponent":return _getGridOption(gridOptions,"enableFilterHandlers")?FloatingFilterDisplayComponentWrapper:FloatingFilterComponentWrapper;case"dateComponent":return DateComponentWrapper;case"dragAndDropImageComponent":return DragAndDropImageComponentWrapper;case"loadingOverlayComponent":return LoadingOverlayComponentWrapper;case"noRowsOverlayComponent":return NoRowsOverlayComponentWrapper;case"statusPanel":return StatusPanelComponentWrapper;case"toolPanel":return ToolPanelComponentWrapper;case"menuItem":return MenuItemComponentWrapper;case"cellRenderer":return CellRendererComponentWrapper;case"innerHeaderComponent":return InnerHeaderComponentWrapper}})(componentType.name);if(ComponentClass)return new ComponentClass(UserReactComponent,this.parent,componentType)}else switch(componentType.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":warnReactiveCustomComponents()}const suppressFallbackMethods=!componentType.cellRenderer&&"toolPanel"!==componentType.name;return new ReactComponent(UserReactComponent,this.parent,componentType,suppressFallbackMethods)}},DetailCellRenderer=(0,react.forwardRef)(((props,ref)=>{const beans=(0,react.useContext)(BeansContext),{registry,context,gos,rowModel}=beans,[cssClasses,setCssClasses]=(0,react.useState)((()=>new CssClasses)),[gridCssClasses,setGridCssClasses]=(0,react.useState)((()=>new CssClasses)),[detailGridOptions,setDetailGridOptions]=(0,react.useState)(),[detailRowData,setDetailRowData]=(0,react.useState)(),ctrlRef=(0,react.useRef)(),eGuiRef=(0,react.useRef)(null),resizeObserverDestroyFunc=(0,react.useRef)(),parentModules=(0,react.useMemo)((()=>function _getGridRegisteredModules(gridId,rowModel){const gridModules=gridModulesMap[gridId]??{};return[...Object.values(gridModules.all??{}),...Object.values(gridModules[rowModel]??{})]}(props.api.getGridId(),detailGridOptions?.rowModelType??"clientSide")),[props]),topClassName=(0,react.useMemo)((()=>cssClasses.toString()+" ag-details-row"),[cssClasses]),gridClassName=(0,react.useMemo)((()=>gridCssClasses.toString()+" ag-details-grid"),[gridCssClasses]);ref&&(0,react.useImperativeHandle)(ref,(()=>({refresh:()=>ctrlRef.current?.refresh()??!1}))),props.template&&_warn(230);const setRef2=(0,react.useCallback)((eRef=>{if(eGuiRef.current=eRef,!eRef||context.isDestroyed())return ctrlRef.current=context.destroyBean(ctrlRef.current),void resizeObserverDestroyFunc.current?.();const compProxy={toggleCss:(name,on)=>setCssClasses((prev=>prev.setClass(name,on))),toggleDetailGridCss:(name,on)=>setGridCssClasses((prev=>prev.setClass(name,on))),setDetailGrid:gridOptions=>setDetailGridOptions(gridOptions),setRowData:rowData=>setDetailRowData(rowData),getGui:()=>eGuiRef.current},ctrl=registry.createDynamicBean("detailCellRendererCtrl",!0);if(ctrl&&(context.createBean(ctrl),ctrl.init(compProxy,props),ctrlRef.current=ctrl,gos.get("detailRowAutoHeight"))){const checkRowSizeFunc=()=>{if(null==eGuiRef.current)return;const clientHeight=eGuiRef.current.clientHeight;if(null!=clientHeight&&clientHeight>0){setTimeout((()=>{props.node.setRowHeight(clientHeight),(_isClientSideRowModel(gos)||_isServerSideRowModel(gos))&&rowModel.onRowHeightChanged()}),0)}};resizeObserverDestroyFunc.current=_observeResize(beans,eRef,checkRowSizeFunc),checkRowSizeFunc()}}),[]),registerGridApi=(0,react.useCallback)((api=>{ctrlRef.current?.registerDetailWithMaster(api)}),[]);return react.createElement("div",{className:topClassName,ref:setRef2},detailGridOptions&&react.createElement(AgGridReactUi,{className:gridClassName,...detailGridOptions,modules:parentModules,rowData:detailRowData,passGridApi:registerGridApi}))})),ReactFrameworkOverrides=class extends VanillaFrameworkOverrides{constructor(processQueuedUpdates){super("react"),this.processQueuedUpdates=processQueuedUpdates,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:groupCellRenderer_default,agGroupRowRenderer:groupCellRenderer_default,agDetailCellRenderer:DetailCellRenderer},this.wrapIncoming=(callback,source)=>"ensureVisible"===source?function runWithoutFlushSync(func){return disableFlushSync||setTimeout((()=>disableFlushSync=!1),0),disableFlushSync=!0,func()}(callback):callback()}frameworkComponent(name){return this.frameworkComponents[name]}isFrameworkComponent(comp){if(!comp)return!1;const prototype=comp.prototype;return!(prototype&&"getGui"in prototype)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return function isReact19(){return"19"===reactVersion}()}},AgGridReact=class extends react.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=api=>{this.api=api,this.apiListeners.forEach((listener=>listener(api)))}}registerApiListener(listener){this.apiListeners.push(listener)}componentWillUnmount(){this.apiListeners.length=0}render(){return react.createElement(AgGridReactUi,{...this.props,passGridApi:this.setGridApi})}}},"./node_modules/is-node-process/lib/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{l:()=>isNodeProcess});var process=__webpack_require__("./node_modules/process/browser.js");function isNodeProcess(){if("undefined"!=typeof navigator&&"ReactNative"===navigator.product)return!0;if(void 0!==process){const type=process.type;return"renderer"!==type&&"worker"!==type&&!(!process.versions||!process.versions.node)}return!1}},"./node_modules/msw/lib/browser/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>setupWorker});var devUtils=__webpack_require__("./node_modules/msw/lib/core/utils/internal/devUtils.mjs"),RequestHandler=__webpack_require__("./node_modules/msw/lib/core/handlers/RequestHandler.mjs"),until=async promise=>{try{const data=await promise().catch((error=>{throw error}));return{error:null,data}}catch(error){return{error,data:null}}};const executeHandlers=async({request,requestId,handlers,resolutionContext})=>{let matchingHandler=null,result=null;for(const handler of handlers)if(result=await handler.run({request,requestId,resolutionContext}),null!==result&&(matchingHandler=handler),result?.response)break;return matchingHandler?{handler:matchingHandler,parsedResult:result?.parsedResult,response:result?.response}:null};var toPublicUrl=__webpack_require__("./node_modules/msw/lib/core/utils/request/toPublicUrl.mjs");var cookieStore=__webpack_require__("./node_modules/msw/lib/core/utils/cookieStore.mjs"),decorators=__webpack_require__("./node_modules/msw/lib/core/utils/HttpResponse/decorators.mjs");async function handleRequest(request,requestId,handlers,options,emitter,handleRequestOptions){if(emitter.emit("request:start",{request,requestId}),"bypass"===request.headers.get("x-msw-intention"))return emitter.emit("request:end",{request,requestId}),void handleRequestOptions?.onPassthroughResponse?.(request);const lookupResult=await until((()=>executeHandlers({request,requestId,handlers,resolutionContext:handleRequestOptions?.resolutionContext})));if(lookupResult.error)throw emitter.emit("unhandledException",{error:lookupResult.error,request,requestId}),lookupResult.error;if(!lookupResult.data)return await async function onUnhandledRequest(request,strategy="warn"){const url=new URL(request.url),publicUrl=(0,toPublicUrl.F)(url)+url.search,requestBody="HEAD"===request.method||"GET"===request.method?null:await request.clone().text(),unhandledRequestMessage=`intercepted a request without a matching request handler:\n\n  • ${request.method} ${publicUrl}\n\n${requestBody?`  • Request body: ${requestBody}\n\n`:""}If you still wish to intercept this unhandled request, please create a request handler for it.\nRead more: https://mswjs.io/docs/getting-started/mocks`;function applyStrategy(strategy2){switch(strategy2){case"error":throw devUtils.e.error("Error: %s",unhandledRequestMessage),new devUtils.A(devUtils.e.formatMessage('Cannot bypass a request when using the "error" strategy for the "onUnhandledRequest" option.'));case"warn":devUtils.e.warn("Warning: %s",unhandledRequestMessage);break;case"bypass":break;default:throw new devUtils.A(devUtils.e.formatMessage('Failed to react to an unhandled request: unknown strategy "%s". Please provide one of the supported strategies ("bypass", "warn", "error") or a custom callback function as the value of the "onUnhandledRequest" option.',strategy2))}}"function"!=typeof strategy?"file:"!==url.protocol&&applyStrategy(strategy):strategy(request,{warning:applyStrategy.bind(null,"warn"),error:applyStrategy.bind(null,"error")})}(request,options.onUnhandledRequest),emitter.emit("request:unhandled",{request,requestId}),emitter.emit("request:end",{request,requestId}),void handleRequestOptions?.onPassthroughResponse?.(request);const{response}=lookupResult.data;if(!response)return emitter.emit("request:end",{request,requestId}),void handleRequestOptions?.onPassthroughResponse?.(request);if(302===response.status&&"passthrough"===response.headers.get("x-msw-intention"))return emitter.emit("request:end",{request,requestId}),void handleRequestOptions?.onPassthroughResponse?.(request);!function storeResponseCookies(request,response){const responseCookies=Reflect.get(response,decorators.x3);responseCookies&&cookieStore.k.setCookie(responseCookies,request.url)}(request,response),emitter.emit("request:match",{request,requestId});const requiredLookupResult=lookupResult.data,transformedResponse=handleRequestOptions?.transformResponse?.(response)||response;return handleRequestOptions?.onMockedResponse?.(transformedResponse,requiredLookupResult),emitter.emit("request:end",{request,requestId}),transformedResponse}var lib=__webpack_require__("./node_modules/outvariant/lib/index.mjs"),strict_event_emitter_lib=__webpack_require__("./node_modules/strict-event-emitter/lib/index.mjs");class Disposable{subscriptions=[];dispose(){let subscription;for(;subscription=this.subscriptions.shift();)subscription()}}class InMemoryHandlersController{constructor(initialHandlers){this.initialHandlers=initialHandlers,this.handlers=[...initialHandlers]}handlers;prepend(runtimeHandles){this.handlers.unshift(...runtimeHandles)}reset(nextHandlers){this.handlers=nextHandlers.length>0?[...nextHandlers]:[...this.initialHandlers]}currentHandlers(){return this.handlers}}class SetupApi extends Disposable{handlersController;emitter;publicEmitter;events;constructor(...initialHandlers){super(),(0,lib.kG)(this.validateHandlers(initialHandlers),devUtils.e.formatMessage("Failed to apply given request handlers: invalid input. Did you forget to spread the request handlers Array?")),this.handlersController=new InMemoryHandlersController(initialHandlers),this.emitter=new strict_event_emitter_lib.Q,this.publicEmitter=new strict_event_emitter_lib.Q,function pipeEvents(source,destination){const rawEmit=source.emit;if(rawEmit._isPiped)return;const sourceEmit=function sourceEmit2(event,...data){return destination.emit(event,...data),rawEmit.call(this,event,...data)};sourceEmit._isPiped=!0,source.emit=sourceEmit}(this.emitter,this.publicEmitter),this.events=this.createLifeCycleEvents(),this.subscriptions.push((()=>{this.emitter.removeAllListeners(),this.publicEmitter.removeAllListeners()}))}validateHandlers(handlers){return handlers.every((handler=>!Array.isArray(handler)))}use(...runtimeHandlers){(0,lib.kG)(this.validateHandlers(runtimeHandlers),devUtils.e.formatMessage('Failed to call "use()" with the given request handlers: invalid input. Did you forget to spread the array of request handlers?')),this.handlersController.prepend(runtimeHandlers)}restoreHandlers(){this.handlersController.currentHandlers().forEach((handler=>{handler.isUsed=!1}))}resetHandlers(...nextHandlers){this.handlersController.reset(nextHandlers)}listHandlers(){return function toReadonlyArray(source){const clone=[...source];return Object.freeze(clone),clone}(this.handlersController.currentHandlers())}createLifeCycleEvents(){return{on:(...args)=>this.publicEmitter.on(...args),removeListener:(...args)=>this.publicEmitter.removeListener(...args),removeAllListeners:(...args)=>this.publicEmitter.removeAllListeners(...args)}}}function isObject(value){return null!=value&&"object"==typeof value&&!Array.isArray(value)}function mergeRight(left,right){return Object.entries(right).reduce(((result,[key,rightValue])=>{const leftValue=result[key];return Array.isArray(leftValue)&&Array.isArray(rightValue)?(result[key]=leftValue.concat(rightValue),result):isObject(leftValue)&&isObject(rightValue)?(result[key]=mergeRight(leftValue,rightValue),result):(result[key]=rightValue,result)}),Object.assign({},left))}var process=__webpack_require__("./node_modules/process/browser.js"),console=__webpack_require__("./node_modules/console-browserify/index.js"),POSITIONALS_EXP=/(%?)(%([sdijo]))/g;function format(message,...positionals){if(0===positionals.length)return message;let positionalIndex=0,formattedMessage=message.replace(POSITIONALS_EXP,((match,isEscaped,_,flag)=>{const value=function serializePositional(positional,flag){switch(flag){case"s":return positional;case"d":case"i":return Number(positional);case"j":return JSON.stringify(positional);case"o":{if("string"==typeof positional)return positional;const json=JSON.stringify(positional);return"{}"===json||"[]"===json||/^\[object .+?\]$/.test(json)?positional:json}}}(positionals[positionalIndex],flag);return isEscaped?match:(positionalIndex++,value)}));return positionalIndex<positionals.length&&(formattedMessage+=` ${positionals.slice(positionalIndex).join(" ")}`),formattedMessage=formattedMessage.replace(/%{2,2}/g,"%"),formattedMessage}var InvariantError=class extends Error{constructor(message,...positionals){super(message),this.message=message,this.name="Invariant Violation",this.message=format(message,...positionals),function cleanErrorStack(error2){if(!error2.stack)return;const nextStack=error2.stack.split("\n");nextStack.splice(1,2),error2.stack=nextStack.join("\n")}(this)}},invariant=(predicate,message,...positionals)=>{if(!predicate)throw new InvariantError(message,...positionals)};function isNodeProcess(){if("undefined"!=typeof navigator&&"ReactNative"===navigator.product)return!0;if(void 0!==process){const type=process.type;return"renderer"!==type&&"worker"!==type&&!(!process.versions||!process.versions.node)}return!1}invariant.as=(ErrorConstructor,predicate,message,...positionals)=>{if(!predicate){const formatMessage=0===positionals.length?message:format(message,positionals);let error2;try{error2=Reflect.construct(ErrorConstructor,[formatMessage])}catch(err){error2=ErrorConstructor(formatMessage)}throw error2}};var browser_until=async promise=>{try{return{error:null,data:await promise().catch((error2=>{throw error2}))}}catch(error2){return{error:error2,data:null}}};function getWorkerByRegistration(registration,absoluteWorkerUrl,findWorker){return[registration.active,registration.installing,registration.waiting].filter((state=>null!=state)).find((worker2=>findWorker(worker2.scriptURL,absoluteWorkerUrl)))||null}var getWorkerInstance=async(url,options={},findWorker)=>{const absoluteWorkerUrl=function getAbsoluteWorkerUrl(workerUrl){return new URL(workerUrl,location.href).href}(url),mockRegistrations=await navigator.serviceWorker.getRegistrations().then((registrations=>registrations.filter((registration=>getWorkerByRegistration(registration,absoluteWorkerUrl,findWorker)))));!navigator.serviceWorker.controller&&mockRegistrations.length>0&&location.reload();const[existingRegistration]=mockRegistrations;if(existingRegistration)return existingRegistration.update().then((()=>[getWorkerByRegistration(existingRegistration,absoluteWorkerUrl,findWorker),existingRegistration]));const registrationResult=await browser_until((async()=>{const registration=await navigator.serviceWorker.register(url,options);return[getWorkerByRegistration(registration,absoluteWorkerUrl,findWorker),registration]}));if(registrationResult.error){if(registrationResult.error.message.includes("(404)")){const scopeUrl=new URL(options?.scope||"/",location.href);throw new Error(devUtils.e.formatMessage(`Failed to register a Service Worker for scope ('${scopeUrl.href}') with script ('${absoluteWorkerUrl}'): Service Worker script does not exist at the given path.\n\nDid you forget to run "npx msw init <PUBLIC_DIR>"?\n\nLearn more about creating the Service Worker script: https://mswjs.io/docs/cli/init`))}throw new Error(devUtils.e.formatMessage("Failed to register the Service Worker:\n\n%s",registrationResult.error.message))}return registrationResult.data};function printStartMessage(args={}){if(args.quiet)return;const message=args.message||"Mocking enabled.";console.groupCollapsed(`%c${devUtils.e.formatMessage(message)}`,"color:orangered;font-weight:bold;"),console.log("%cDocumentation: %chttps://mswjs.io/docs","font-weight:bold","font-weight:normal"),console.log("Found an issue? https://github.com/mswjs/msw/issues"),args.workerUrl&&console.log("Worker script URL:",args.workerUrl),args.workerScope&&console.log("Worker scope:",args.workerScope),console.groupEnd()}var WorkerChannel=class{constructor(port){this.port=port}postMessage(event,...rest){const[data,transfer]=rest;this.port.postMessage({type:event,data},{transfer})}};function pruneGetRequestBody(request){if(!["HEAD","GET"].includes(request.method))return request.body}var createRequestListener=(context,options)=>async(event,message)=>{const messageChannel=new WorkerChannel(event.ports[0]),requestId=message.payload.id,request=function parseWorkerRequest(incomingRequest){return new Request(incomingRequest.url,{...incomingRequest,body:pruneGetRequestBody(incomingRequest)})}(message.payload),requestCloneForLogs=request.clone(),requestClone=request.clone();RequestHandler.Z.cache.set(request,requestClone),context.requests.set(requestId,requestClone);try{await handleRequest(request,requestId,context.getRequestHandlers(),options,context.emitter,{onPassthroughResponse(){messageChannel.postMessage("PASSTHROUGH")},async onMockedResponse(response,{handler,parsedResult}){const responseClone=response.clone(),responseCloneForLogs=response.clone(),responseInit=function toResponseInit(response){return{status:response.status,statusText:response.statusText,headers:Object.fromEntries(response.headers.entries())}}(response);if(context.supports.readableStreamTransfer){const responseStreamOrNull=response.body;messageChannel.postMessage("MOCK_RESPONSE",{...responseInit,body:responseStreamOrNull},responseStreamOrNull?[responseStreamOrNull]:void 0)}else{const responseBufferOrNull=null===response.body?null:await responseClone.arrayBuffer();messageChannel.postMessage("MOCK_RESPONSE",{...responseInit,body:responseBufferOrNull})}options.quiet||context.emitter.once("response:mocked",(()=>{handler.log({request:requestCloneForLogs,response:responseCloneForLogs,parsedResult})}))}})}catch(error2){error2 instanceof Error&&(devUtils.e.error('Uncaught exception in the request handler for "%s %s":\n\n%s\n\nThis exception has been gracefully handled as a 500 response, however, it\'s strongly recommended to resolve this error, as it indicates a mistake in your code. If you wish to mock an error response, please see this guide: https://mswjs.io/docs/recipes/mocking-error-responses',request.method,request.url,error2.stack??error2),messageChannel.postMessage("MOCK_RESPONSE",{status:500,statusText:"Request Handler Error",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:error2.name,message:error2.message,stack:error2.stack})}))}};var encoder=new TextEncoder;var IS_PATCHED_MODULE=Symbol("isPatchedModule");var RESPONSE_STATUS_CODES_WITHOUT_BODY=new Set([101,103,204,205,304]);function isResponseWithoutBody(status){return RESPONSE_STATUS_CODES_WITHOUT_BODY.has(status)}function createServerErrorResponse(body){return new Response(JSON.stringify(body instanceof Error?{name:body.name,message:body.message,stack:body.stack}:body),{status:500,statusText:"Unhandled Exception",headers:{"Content-Type":"application/json"}})}function isResponseError(response){return function isPropertyAccessible(obj,key){try{return obj[key],!0}catch(e){return!1}}(response,"type")&&"error"===response.type}var __defProp=Object.defineProperty,colors_exports={};function yellow(text){return`[33m${text}[0m`}function blue(text){return`[34m${text}[0m`}function gray(text){return`[90m${text}[0m`}function red(text){return`[31m${text}[0m`}function green(text){return`[32m${text}[0m`}((target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})})(colors_exports,{blue:()=>blue,gray:()=>gray,green:()=>green,red:()=>red,yellow:()=>yellow});var IS_NODE=isNodeProcess(),Logger=class{constructor(name){this.name=name,this.prefix=`[${this.name}]`;const LOGGER_NAME=getVariable("DEBUG"),LOGGER_LEVEL=getVariable("LOG_LEVEL");"1"===LOGGER_NAME||"true"===LOGGER_NAME||void 0!==LOGGER_NAME&&this.name.startsWith(LOGGER_NAME)?(this.debug=isDefinedAndNotEquals(LOGGER_LEVEL,"debug")?noop:this.debug,this.info=isDefinedAndNotEquals(LOGGER_LEVEL,"info")?noop:this.info,this.success=isDefinedAndNotEquals(LOGGER_LEVEL,"success")?noop:this.success,this.warning=isDefinedAndNotEquals(LOGGER_LEVEL,"warning")?noop:this.warning,this.error=isDefinedAndNotEquals(LOGGER_LEVEL,"error")?noop:this.error):(this.info=noop,this.success=noop,this.warning=noop,this.error=noop,this.only=noop)}prefix;extend(domain){return new Logger(`${this.name}:${domain}`)}debug(message,...positionals){this.logEntry({level:"debug",message:gray(message),positionals,prefix:this.prefix,colors:{prefix:"gray"}})}info(message,...positionals){this.logEntry({level:"info",message,positionals,prefix:this.prefix,colors:{prefix:"blue"}});const performance2=new PerformanceEntry;return(message2,...positionals2)=>{performance2.measure(),this.logEntry({level:"info",message:`${message2} ${gray(`${performance2.deltaTime}ms`)}`,positionals:positionals2,prefix:this.prefix,colors:{prefix:"blue"}})}}success(message,...positionals){this.logEntry({level:"info",message,positionals,prefix:`✔ ${this.prefix}`,colors:{timestamp:"green",prefix:"green"}})}warning(message,...positionals){this.logEntry({level:"warning",message,positionals,prefix:`⚠ ${this.prefix}`,colors:{timestamp:"yellow",prefix:"yellow"}})}error(message,...positionals){this.logEntry({level:"error",message,positionals,prefix:`✖ ${this.prefix}`,colors:{timestamp:"red",prefix:"red"}})}only(callback){callback()}createEntry(level,message){return{timestamp:new Date,level,message}}logEntry(args){const{level,message,prefix,colors:customColors,positionals=[]}=args,entry=this.createEntry(level,message),colorize={timestamp:colors_exports[customColors?.timestamp||"gray"],prefix:colors_exports[customColors?.prefix||"gray"]};this.getWriter(level)([colorize.timestamp(this.formatTimestamp(entry.timestamp))].concat(null!=prefix?colorize.prefix(prefix):[]).concat(serializeInput(message)).join(" "),...positionals.map(serializeInput))}formatTimestamp(timestamp){return`${timestamp.toLocaleTimeString("en-GB")}:${timestamp.getMilliseconds()}`}getWriter(level){switch(level){case"debug":case"success":case"info":return log;case"warning":return warn;case"error":return error}}},PerformanceEntry=class{startTime;endTime;deltaTime;constructor(){this.startTime=performance.now()}measure(){this.endTime=performance.now();const deltaTime=this.endTime-this.startTime;this.deltaTime=deltaTime.toFixed(2)}},noop=()=>{};function log(message,...positionals){IS_NODE?process.stdout.write(format(message,...positionals)+"\n"):console.log(message,...positionals)}function warn(message,...positionals){IS_NODE?process.stderr.write(format(message,...positionals)+"\n"):console.warn(message,...positionals)}function error(message,...positionals){IS_NODE?process.stderr.write(format(message,...positionals)+"\n"):console.error(message,...positionals)}function getVariable(variableName){return IS_NODE?process.env[variableName]:globalThis[variableName]?.toString()}function isDefinedAndNotEquals(value,expected){return void 0!==value&&value!==expected}function serializeInput(message){return void 0===message?"undefined":null===message?"null":"string"==typeof message?message:"object"==typeof message?JSON.stringify(message):message.toString()}var MemoryLeakError=class extends Error{constructor(emitter,type,count){super(`Possible EventEmitter memory leak detected. ${count} ${type.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`),this.emitter=emitter,this.type=type,this.count=count,this.name="MaxListenersExceededWarning"}},_Emitter=class{static listenerCount(emitter,eventName){return emitter.listenerCount(eventName)}constructor(){this.events=new Map,this.maxListeners=_Emitter.defaultMaxListeners,this.hasWarnedAboutPotentialMemoryLeak=!1}_emitInternalEvent(internalEventName,eventName,listener){this.emit(internalEventName,eventName,listener)}_getListeners(eventName){return Array.prototype.concat.apply([],this.events.get(eventName))||[]}_removeListener(listeners,listener){const index=listeners.indexOf(listener);return index>-1&&listeners.splice(index,1),[]}_wrapOnceListener(eventName,listener){const onceListener=(...data)=>(this.removeListener(eventName,onceListener),listener.apply(this,data));return Object.defineProperty(onceListener,"name",{value:listener.name}),onceListener}setMaxListeners(maxListeners){return this.maxListeners=maxListeners,this}getMaxListeners(){return this.maxListeners}eventNames(){return Array.from(this.events.keys())}emit(eventName,...data){const listeners=this._getListeners(eventName);return listeners.forEach((listener=>{listener.apply(this,data)})),listeners.length>0}addListener(eventName,listener){this._emitInternalEvent("newListener",eventName,listener);const nextListeners=this._getListeners(eventName).concat(listener);if(this.events.set(eventName,nextListeners),this.maxListeners>0&&this.listenerCount(eventName)>this.maxListeners&&!this.hasWarnedAboutPotentialMemoryLeak){this.hasWarnedAboutPotentialMemoryLeak=!0;const memoryLeakWarning=new MemoryLeakError(this,eventName,this.listenerCount(eventName));console.warn(memoryLeakWarning)}return this}on(eventName,listener){return this.addListener(eventName,listener)}once(eventName,listener){return this.addListener(eventName,this._wrapOnceListener(eventName,listener))}prependListener(eventName,listener){const listeners=this._getListeners(eventName);if(listeners.length>0){const nextListeners=[listener].concat(listeners);this.events.set(eventName,nextListeners)}else this.events.set(eventName,listeners.concat(listener));return this}prependOnceListener(eventName,listener){return this.prependListener(eventName,this._wrapOnceListener(eventName,listener))}removeListener(eventName,listener){const listeners=this._getListeners(eventName);return listeners.length>0&&(this._removeListener(listeners,listener),this.events.set(eventName,listeners),this._emitInternalEvent("removeListener",eventName,listener)),this}off(eventName,listener){return this.removeListener(eventName,listener)}removeAllListeners(eventName){return eventName?this.events.delete(eventName):this.events.clear(),this}listeners(eventName){return Array.from(this._getListeners(eventName))}listenerCount(eventName){return this._getListeners(eventName).length}rawListeners(eventName){return this.listeners(eventName)}},Emitter=_Emitter;Emitter.defaultMaxListeners=10;function getGlobalSymbol(symbol){return globalThis[symbol]||void 0}var Interceptor=class{constructor(symbol){this.symbol=symbol,this.readyState="INACTIVE",this.emitter=new Emitter,this.subscriptions=[],this.logger=new Logger(symbol.description),this.emitter.setMaxListeners(0),this.logger.info("constructing the interceptor...")}checkEnvironment(){return!0}apply(){const logger=this.logger.extend("apply");if(logger.info("applying the interceptor..."),"APPLIED"===this.readyState)return void logger.info("intercepted already applied!");if(!this.checkEnvironment())return void logger.info("the interceptor cannot be applied in this environment!");this.readyState="APPLYING";const runningInstance=this.getInstance();if(runningInstance)return logger.info("found a running instance, reusing..."),this.on=(event,listener)=>(logger.info('proxying the "%s" listener',event),runningInstance.emitter.addListener(event,listener),this.subscriptions.push((()=>{runningInstance.emitter.removeListener(event,listener),logger.info('removed proxied "%s" listener!',event)})),this),void(this.readyState="APPLIED");logger.info("no running instance found, setting up a new instance..."),this.setup(),this.setInstance(),this.readyState="APPLIED"}setup(){}on(event,listener){const logger=this.logger.extend("on");return"DISPOSING"===this.readyState||"DISPOSED"===this.readyState?(logger.info("cannot listen to events, already disposed!"),this):(logger.info('adding "%s" event listener:',event,listener),this.emitter.on(event,listener),this)}once(event,listener){return this.emitter.once(event,listener),this}off(event,listener){return this.emitter.off(event,listener),this}removeAllListeners(event){return this.emitter.removeAllListeners(event),this}dispose(){const logger=this.logger.extend("dispose");if("DISPOSED"!==this.readyState)if(logger.info("disposing the interceptor..."),this.readyState="DISPOSING",this.getInstance()){if(this.clearInstance(),logger.info("global symbol deleted:",getGlobalSymbol(this.symbol)),this.subscriptions.length>0){logger.info("disposing of %d subscriptions...",this.subscriptions.length);for(const dispose of this.subscriptions)dispose();this.subscriptions=[],logger.info("disposed of all subscriptions!",this.subscriptions.length)}this.emitter.removeAllListeners(),logger.info("destroyed the listener!"),this.readyState="DISPOSED"}else logger.info("no interceptors running, skipping dispose...");else logger.info("cannot dispose, already disposed!")}getInstance(){var _a;const instance=getGlobalSymbol(this.symbol);return this.logger.info("retrieved global instance:",null==(_a=null==instance?void 0:instance.constructor)?void 0:_a.name),instance}setInstance(){!function setGlobalSymbol(symbol,value){globalThis[symbol]=value}(this.symbol,this),this.logger.info("set global instance!",this.symbol.description)}clearInstance(){!function deleteGlobalSymbol(symbol){delete globalThis[symbol]}(this.symbol),this.logger.info("cleared global instance!",this.symbol.description)}};function createRequestId(){return Math.random().toString(16).slice(2)}var BatchInterceptor=class extends Interceptor{constructor(options){BatchInterceptor.symbol=Symbol(options.name),super(BatchInterceptor.symbol),this.interceptors=options.interceptors}setup(){const logger=this.logger.extend("setup");logger.info("applying all %d interceptors...",this.interceptors.length);for(const interceptor of this.interceptors)logger.info('applying "%s" interceptor...',interceptor.constructor.name),interceptor.apply(),logger.info("adding interceptor dispose subscription"),this.subscriptions.push((()=>interceptor.dispose()))}on(event,listener){for(const interceptor of this.interceptors)interceptor.on(event,listener);return this}once(event,listener){for(const interceptor of this.interceptors)interceptor.once(event,listener);return this}off(event,listener){for(const interceptor of this.interceptors)interceptor.off(event,listener);return this}removeAllListeners(event){for(const interceptors of this.interceptors)interceptors.removeAllListeners(event);return this}};var createStartHandler=context=>function start(options,customOptions){const workerRegistration=(async()=>{context.events.removeAllListeners(),context.workerChannel.on("REQUEST",createRequestListener(context,options)),context.workerChannel.on("RESPONSE",function createResponseListener(context){return(_,message)=>{const{payload:responseJson}=message,{requestId}=responseJson,request=context.requests.get(requestId);if(context.requests.delete(requestId),responseJson.type?.includes("opaque"))return;const response=0===responseJson.status?Response.error():new Response(isResponseWithoutBody(responseJson.status)?null:responseJson.body,responseJson);response.url||Object.defineProperty(response,"url",{value:request.url,enumerable:!0,writable:!1}),context.emitter.emit(responseJson.isMockedResponse?"response:mocked":"response:bypass",{response,request,requestId:responseJson.requestId})}}(context));const instance=await getWorkerInstance(options.serviceWorker.url,options.serviceWorker.options,options.findWorker),[worker,registration]=instance;if(!worker){const missingWorkerMessage=customOptions?.findWorker?devUtils.e.formatMessage('Failed to locate the Service Worker registration using a custom "findWorker" predicate.\n\nPlease ensure that the custom predicate properly locates the Service Worker registration at "%s".\nMore details: https://mswjs.io/docs/api/setup-worker/start#findworker\n',options.serviceWorker.url):devUtils.e.formatMessage('Failed to locate the Service Worker registration.\n\nThis most likely means that the worker script URL "%s" cannot resolve against the actual public hostname (%s). This may happen if your application runs behind a proxy, or has a dynamic hostname.\n\nPlease consider using a custom "serviceWorker.url" option to point to the actual worker script location, or a custom "findWorker" option to resolve the Service Worker registration manually. More details: https://mswjs.io/docs/api/setup-worker/start',options.serviceWorker.url,location.host);throw new Error(missingWorkerMessage)}return context.worker=worker,context.registration=registration,context.events.addListener(window,"beforeunload",(()=>{"redundant"!==worker.state&&context.workerChannel.send("CLIENT_CLOSED"),window.clearInterval(context.keepAliveInterval)})),await async function checkWorkerIntegrity(context){context.workerChannel.send("INTEGRITY_CHECK_REQUEST");const{payload}=await context.events.once("INTEGRITY_CHECK_RESPONSE");"26357c79639bfa20d64c0efca2a87423"!==payload.checksum&&devUtils.e.warn(`The currently registered Service Worker has been generated by a different version of MSW (${payload.packageVersion}) and may not be fully compatible with the installed version.\n\nIt's recommended you update your worker script by running this command:\n\n  • npx msw init <PUBLIC_DIR>\n\nYou can also automate this process and make the worker script update automatically upon the library installations. Read more: https://mswjs.io/docs/cli/init.`)}(context).catch((error2=>{devUtils.e.error("Error while checking the worker script integrity. Please report this on GitHub (https://github.com/mswjs/msw/issues), including the original error below."),console.error(error2)})),context.keepAliveInterval=window.setInterval((()=>context.workerChannel.send("KEEPALIVE_REQUEST")),5e3),function validateWorkerScope(registration,options){options?.quiet||location.href.startsWith(registration.scope)||devUtils.e.warn(`Cannot intercept requests on this page because it's outside of the worker's scope ("${registration.scope}"). If you wish to mock API requests on this page, you must resolve this scope issue.\n\n- (Recommended) Register the worker at the root level ("/") of your application.\n- Set the "Service-Worker-Allowed" response header to allow out-of-scope workers.`)}(registration,context.startOptions),registration})().then((async registration=>{const pendingInstance=registration.installing||registration.waiting;return pendingInstance&&await new Promise((resolve=>{pendingInstance.addEventListener("statechange",(()=>{if("activated"===pendingInstance.state)return resolve()}))})),await async function enableMocking(context,options){context.workerChannel.send("MOCK_ACTIVATE"),await context.events.once("MOCKING_ENABLED"),context.isMockingEnabled?devUtils.e.warn('Found a redundant "worker.start()" call. Note that starting the worker while mocking is already enabled will have no effect. Consider removing this "worker.start()" call.'):(context.isMockingEnabled=!0,printStartMessage({quiet:options.quiet,workerScope:context.registration?.scope,workerUrl:context.worker?.scriptURL}))}(context,options).catch((error2=>{throw new Error(`Failed to enable mocking: ${error2?.message}`)})),registration}));return workerRegistration};function printStopMessage(args={}){args.quiet||console.log(`%c${devUtils.e.formatMessage("Mocking disabled.")}`,"color:orangered;font-weight:bold;")}var DEFAULT_START_OPTIONS={serviceWorker:{url:"/mockServiceWorker.js",options:null},quiet:!1,waitUntilReady:!0,onUnhandledRequest:"warn",findWorker:(scriptURL,mockServiceWorkerUrl)=>scriptURL===mockServiceWorkerUrl};var DeferredPromise=class extends Promise{#executor;resolve;reject;constructor(executor=null){const deferredExecutor=function createDeferredExecutor(){const executor=(resolve,reject)=>{executor.state="pending",executor.resolve=data=>{if("pending"===executor.state)return executor.result=data,resolve(data instanceof Promise?data:Promise.resolve(data).then((value=>(executor.state="fulfilled",value))))},executor.reject=reason=>{if("pending"===executor.state)return queueMicrotask((()=>{executor.state="rejected"})),reject(executor.rejectionReason=reason)}};return executor}();super(((originalResolve,originalReject)=>{deferredExecutor(originalResolve,originalReject),executor?.(deferredExecutor.resolve,deferredExecutor.reject)})),this.#executor=deferredExecutor,this.resolve=this.#executor.resolve,this.reject=this.#executor.reject}get state(){return this.#executor.state}get rejectionReason(){return this.#executor.rejectionReason}then(onFulfilled,onRejected){return this.#decorate(super.then(onFulfilled,onRejected))}catch(onRejected){return this.#decorate(super.catch(onRejected))}finally(onfinally){return this.#decorate(super.finally(onfinally))}#decorate(promise){return Object.defineProperties(promise,{resolve:{configurable:!0,value:this.resolve},reject:{configurable:!0,value:this.reject}})}},RequestController=class{constructor(request){this.request=request,this.responsePromise=new DeferredPromise}respondWith(response){invariant("pending"===this.responsePromise.state,'Failed to respond to "%s %s" request: the "request" event has already been responded to.',this.request.method,this.request.url),this.responsePromise.resolve(response)}};function toInteractiveRequest(request){const requestController=new RequestController(request);return Reflect.set(request,"respondWith",requestController.respondWith.bind(requestController)),{interactiveRequest:request,requestController}}async function emitAsync(emitter,eventName,...data){const listners=emitter.listeners(eventName);if(0!==listners.length)for(const listener of listners)await listener.apply(emitter,data)}var _FetchInterceptor=class extends Interceptor{constructor(){super(_FetchInterceptor.symbol)}checkEnvironment(){return"undefined"!=typeof globalThis&&void 0!==globalThis.fetch}async setup(){const pureFetch=globalThis.fetch;invariant(!pureFetch[IS_PATCHED_MODULE],'Failed to patch the "fetch" module: already patched.'),globalThis.fetch=async(input,init)=>{var _a;const requestId=createRequestId(),resolvedInput="string"!=typeof input||"undefined"==typeof location||function canParseUrl(url){try{return new URL(url),!0}catch(_error){return!1}}(input)?input:new URL(input,location.origin),request=new Request(resolvedInput,init);this.logger.info("[%s] %s",request.method,request.url);const{interactiveRequest,requestController}=toInteractiveRequest(request);this.logger.info('emitting the "request" event for %d listener(s)...',this.emitter.listenerCount("request")),this.emitter.once("request",(({requestId:pendingRequestId})=>{pendingRequestId===requestId&&"pending"===requestController.responsePromise.state&&requestController.responsePromise.resolve(void 0)})),this.logger.info("awaiting for the mocked response...");const signal=interactiveRequest.signal,requestAborted=new DeferredPromise;signal&&signal.addEventListener("abort",(()=>{requestAborted.reject(signal.reason)}),{once:!0});const responsePromise=new DeferredPromise,respondWith=response=>{if(this.logger.info("responding with a mock response:",response),this.emitter.listenerCount("response")>0){this.logger.info('emitting the "response" event...');const responseClone=response.clone();this.emitter.emit("response",{response:responseClone,isMockedResponse:!0,request:interactiveRequest,requestId})}Object.defineProperty(response,"url",{writable:!1,enumerable:!0,configurable:!1,value:request.url}),responsePromise.resolve(response)},errorWith=reason=>{responsePromise.reject(reason)},resolverResult=await browser_until((async()=>{const listenersFinished=emitAsync(this.emitter,"request",{request:interactiveRequest,requestId});await Promise.race([requestAborted,listenersFinished,requestController.responsePromise]),this.logger.info("all request listeners have been resolved!");const mockedResponse2=await requestController.responsePromise;return this.logger.info("event.respondWith called with:",mockedResponse2),mockedResponse2}));if("rejected"===requestAborted.state)return this.logger.info("request has been aborted:",requestAborted.rejectionReason),responsePromise.reject(requestAborted.rejectionReason),responsePromise;if(resolverResult.error)return this.logger.info("request listerner threw an error:",resolverResult.error),resolverResult.error instanceof Response&&(isResponseError(resolverResult.error)?errorWith(createNetworkError(resolverResult.error)):respondWith(resolverResult.error)),this.emitter.listenerCount("unhandledException")>0&&(await emitAsync(this.emitter,"unhandledException",{error:resolverResult.error,request,requestId,controller:{respondWith,errorWith}}),"pending"!==responsePromise.state)||respondWith(createServerErrorResponse(resolverResult.error)),responsePromise;const mockedResponse=resolverResult.data;return mockedResponse&&!(null==(_a=request.signal)?void 0:_a.aborted)?(this.logger.info("received mocked response:",mockedResponse),isResponseError(mockedResponse)?(this.logger.info("received a network error response, rejecting the request promise..."),errorWith(createNetworkError(mockedResponse))):respondWith(mockedResponse),responsePromise):(this.logger.info("no mocked response received!"),pureFetch(request).then((response=>{if(this.logger.info("original fetch performed",response),this.emitter.listenerCount("response")>0){this.logger.info('emitting the "response" event...');const responseClone=response.clone();this.emitter.emit("response",{response:responseClone,isMockedResponse:!1,request:interactiveRequest,requestId})}return response})))},Object.defineProperty(globalThis.fetch,IS_PATCHED_MODULE,{enumerable:!0,configurable:!0,value:!0}),this.subscriptions.push((()=>{Object.defineProperty(globalThis.fetch,IS_PATCHED_MODULE,{value:void 0}),globalThis.fetch=pureFetch,this.logger.info('restored native "globalThis.fetch"!',globalThis.fetch.name)}))}},FetchInterceptor=_FetchInterceptor;function createNetworkError(cause){return Object.assign(new TypeError("Failed to fetch"),{cause})}FetchInterceptor.symbol=Symbol("fetch");var EventPolyfill=class{constructor(type,options){this.AT_TARGET=0,this.BUBBLING_PHASE=0,this.CAPTURING_PHASE=0,this.NONE=0,this.type="",this.srcElement=null,this.currentTarget=null,this.eventPhase=0,this.isTrusted=!0,this.composed=!1,this.cancelable=!0,this.defaultPrevented=!1,this.bubbles=!0,this.lengthComputable=!0,this.loaded=0,this.total=0,this.cancelBubble=!1,this.returnValue=!0,this.type=type,this.target=(null==options?void 0:options.target)||null,this.currentTarget=(null==options?void 0:options.currentTarget)||null,this.timeStamp=Date.now()}composedPath(){return[]}initEvent(type,bubbles,cancelable){this.type=type,this.bubbles=!!bubbles,this.cancelable=!!cancelable}preventDefault(){this.defaultPrevented=!0}stopPropagation(){}stopImmediatePropagation(){}},ProgressEventPolyfill=class extends EventPolyfill{constructor(type,init){super(type),this.lengthComputable=(null==init?void 0:init.lengthComputable)||!1,this.composed=(null==init?void 0:init.composed)||!1,this.loaded=(null==init?void 0:init.loaded)||0,this.total=(null==init?void 0:init.total)||0}},SUPPORTS_PROGRESS_EVENT="undefined"!=typeof ProgressEvent;function findPropertySource(target,propertyName){if(!(propertyName in target))return null;if(Object.prototype.hasOwnProperty.call(target,propertyName))return target;const prototype=Reflect.getPrototypeOf(target);return prototype?findPropertySource(prototype,propertyName):null}function createProxy(target,options){const proxy=new Proxy(target,function optionsToProxyHandler(options){const{constructorCall,methodCall,getProperty,setProperty}=options,handler={};void 0!==constructorCall&&(handler.construct=function(target,args,newTarget){const next=Reflect.construct.bind(null,target,args,newTarget);return constructorCall.call(newTarget,args,next)});return handler.set=function(target,propertyName,nextValue){const next=()=>{const propertySource=findPropertySource(target,propertyName)||target,ownDescriptors=Reflect.getOwnPropertyDescriptor(propertySource,propertyName);return void 0!==(null==ownDescriptors?void 0:ownDescriptors.set)?(ownDescriptors.set.apply(target,[nextValue]),!0):Reflect.defineProperty(propertySource,propertyName,{writable:!0,enumerable:!0,configurable:!0,value:nextValue})};return void 0!==setProperty?setProperty.call(target,[propertyName,nextValue],next):next()},handler.get=function(target,propertyName,receiver){const next=()=>target[propertyName],value=void 0!==getProperty?getProperty.call(target,[propertyName,receiver],next):next();return"function"==typeof value?(...args)=>{const next2=value.bind(target,...args);return void 0!==methodCall?methodCall.call(target,[propertyName,args],next2):next2()}:value},handler}(options));return proxy}function createHeadersFromXMLHttpReqestHeaders(headersString){const headers=new Headers,lines=headersString.split(/[\r\n]+/);for(const line of lines){if(""===line.trim())continue;const[name,...parts]=line.split(": "),value=parts.join(": ");headers.append(name,value)}return headers}var IS_MOCKED_RESPONSE=Symbol("isMockedResponse"),IS_NODE2=isNodeProcess(),XMLHttpRequestController=class{constructor(initialRequest,logger){this.initialRequest=initialRequest,this.logger=logger,this.method="GET",this.url=null,this.events=new Map,this.requestId=createRequestId(),this.requestHeaders=new Headers,this.responseBuffer=new Uint8Array,this.request=createProxy(initialRequest,{setProperty:([propertyName,nextValue],invoke)=>{if("ontimeout"===propertyName){const eventName=propertyName.slice(2);return this.request.addEventListener(eventName,nextValue),invoke()}return invoke()},methodCall:([methodName,args],invoke)=>{var _a;switch(methodName){case"open":{const[method,url]=args;return void 0===url?(this.method="GET",this.url=toAbsoluteUrl(method)):(this.method=method,this.url=toAbsoluteUrl(url)),this.logger=this.logger.extend(`${this.method} ${this.url.href}`),this.logger.info("open",this.method,this.url.href),invoke()}case"addEventListener":{const[eventName,listener]=args;return this.registerEvent(eventName,listener),this.logger.info("addEventListener",eventName,listener),invoke()}case"setRequestHeader":{const[name,value]=args;return this.requestHeaders.set(name,value),this.logger.info("setRequestHeader",name,value),invoke()}case"send":{const[body]=args;null!=body&&(this.requestBody="string"==typeof body?function encodeBuffer(text){return encoder.encode(text)}(body):body),this.request.addEventListener("load",(()=>{if(void 0!==this.onResponse){const fetchResponse=function createResponse(request,body){const responseBodyOrNull=isResponseWithoutBody(request.status)?null:body;return new Response(responseBodyOrNull,{status:request.status,statusText:request.statusText,headers:createHeadersFromXMLHttpReqestHeaders(request.getAllResponseHeaders())})}(this.request,this.request.response);this.onResponse.call(this,{response:fetchResponse,isMockedResponse:IS_MOCKED_RESPONSE in this.request,request:fetchRequest,requestId:this.requestId})}}));const fetchRequest=this.toFetchApiRequest();((null==(_a=this.onRequest)?void 0:_a.call(this,{request:fetchRequest,requestId:this.requestId}))||Promise.resolve()).finally((()=>{if(this.request.readyState<this.request.LOADING)return this.logger.info("request callback settled but request has not been handled (readystate %d), performing as-is...",this.request.readyState),IS_NODE2&&this.request.setRequestHeader("x-interceptors-internal-request-id",this.requestId),invoke()}));break}default:return invoke()}}})}registerEvent(eventName,listener){const nextEvents=(this.events.get(eventName)||[]).concat(listener);this.events.set(eventName,nextEvents),this.logger.info('registered event "%s"',eventName,listener)}respondWith(response){this.logger.info("responding with a mocked response: %d %s",response.status,response.statusText),browser_define(this.request,IS_MOCKED_RESPONSE,!0),browser_define(this.request,"status",response.status),browser_define(this.request,"statusText",response.statusText),browser_define(this.request,"responseURL",this.url.href),this.request.getResponseHeader=new Proxy(this.request.getResponseHeader,{apply:(_,__,args)=>{if(this.logger.info("getResponseHeader",args[0]),this.request.readyState<this.request.HEADERS_RECEIVED)return this.logger.info("headers not received yet, returning null"),null;const headerValue=response.headers.get(args[0]);return this.logger.info('resolved response header "%s" to',args[0],headerValue),headerValue}}),this.request.getAllResponseHeaders=new Proxy(this.request.getAllResponseHeaders,{apply:()=>{if(this.logger.info("getAllResponseHeaders"),this.request.readyState<this.request.HEADERS_RECEIVED)return this.logger.info("headers not received yet, returning empty string"),"";const allHeaders=Array.from(response.headers.entries()).map((([headerName,headerValue])=>`${headerName}: ${headerValue}`)).join("\r\n");return this.logger.info("resolved all response headers to",allHeaders),allHeaders}}),Object.defineProperties(this.request,{response:{enumerable:!0,configurable:!1,get:()=>this.response},responseText:{enumerable:!0,configurable:!1,get:()=>this.responseText},responseXML:{enumerable:!0,configurable:!1,get:()=>this.responseXML}});const totalResponseBodyLength=response.headers.has("Content-Length")?Number(response.headers.get("Content-Length")):void 0;this.logger.info("calculated response body length",totalResponseBodyLength),this.trigger("loadstart",{loaded:0,total:totalResponseBodyLength}),this.setReadyState(this.request.HEADERS_RECEIVED),this.setReadyState(this.request.LOADING);const finalizeResponse=()=>{this.logger.info("finalizing the mocked response..."),this.setReadyState(this.request.DONE),this.trigger("load",{loaded:this.responseBuffer.byteLength,total:totalResponseBodyLength}),this.trigger("loadend",{loaded:this.responseBuffer.byteLength,total:totalResponseBodyLength})};if(response.body){this.logger.info("mocked response has body, streaming...");const reader=response.body.getReader(),readNextResponseBodyChunk=async()=>{const{value,done}=await reader.read();if(done)return this.logger.info("response body stream done!"),void finalizeResponse();value&&(this.logger.info("read response body chunk:",value),this.responseBuffer=function concatArrayBuffer(left,right){const result=new Uint8Array(left.byteLength+right.byteLength);return result.set(left,0),result.set(right,left.byteLength),result}(this.responseBuffer,value),this.trigger("progress",{loaded:this.responseBuffer.byteLength,total:totalResponseBodyLength})),readNextResponseBodyChunk()};readNextResponseBodyChunk()}else finalizeResponse()}responseBufferToText(){return function decodeBuffer(buffer,encoding){return new TextDecoder(encoding).decode(buffer)}(this.responseBuffer)}get response(){if(this.logger.info("getResponse (responseType: %s)",this.request.responseType),this.request.readyState!==this.request.DONE)return null;switch(this.request.responseType){case"json":{const responseJson=function parseJson(data){try{return JSON.parse(data)}catch(_){return null}}(this.responseBufferToText());return this.logger.info("resolved response JSON",responseJson),responseJson}case"arraybuffer":{const arrayBuffer=function toArrayBuffer(array){return array.buffer.slice(array.byteOffset,array.byteOffset+array.byteLength)}(this.responseBuffer);return this.logger.info("resolved response ArrayBuffer",arrayBuffer),arrayBuffer}case"blob":{const mimeType=this.request.getResponseHeader("Content-Type")||"text/plain",responseBlob=new Blob([this.responseBufferToText()],{type:mimeType});return this.logger.info("resolved response Blob (mime type: %s)",responseBlob,mimeType),responseBlob}default:{const responseText=this.responseBufferToText();return this.logger.info('resolving "%s" response type as text',this.request.responseType,responseText),responseText}}}get responseText(){if(invariant(""===this.request.responseType||"text"===this.request.responseType,"InvalidStateError: The object is in invalid state."),this.request.readyState!==this.request.LOADING&&this.request.readyState!==this.request.DONE)return"";const responseText=this.responseBufferToText();return this.logger.info('getResponseText: "%s"',responseText),responseText}get responseXML(){if(invariant(""===this.request.responseType||"document"===this.request.responseType,"InvalidStateError: The object is in invalid state."),this.request.readyState!==this.request.DONE)return null;const contentType=this.request.getResponseHeader("Content-Type")||"";return"undefined"==typeof DOMParser?(console.warn("Cannot retrieve XMLHttpRequest response body as XML: DOMParser is not defined. You are likely using an environment that is not browser or does not polyfill browser globals correctly."),null):function isDomParserSupportedType(type){return["application/xhtml+xml","application/xml","image/svg+xml","text/html","text/xml"].some((supportedType=>type.startsWith(supportedType)))}(contentType)?(new DOMParser).parseFromString(this.responseBufferToText(),contentType):null}errorWith(error2){this.logger.info("responding with an error"),this.setReadyState(this.request.DONE),this.trigger("error"),this.trigger("loadend")}setReadyState(nextReadyState){this.logger.info("setReadyState: %d -> %d",this.request.readyState,nextReadyState),this.request.readyState!==nextReadyState?(browser_define(this.request,"readyState",nextReadyState),this.logger.info("set readyState to: %d",nextReadyState),nextReadyState!==this.request.UNSENT&&(this.logger.info('triggerring "readystatechange" event...'),this.trigger("readystatechange"))):this.logger.info("ready state identical, skipping transition...")}trigger(eventName,options){const callback=this.request[`on${eventName}`],event=function createEvent(target,type,init){const ProgressEventClass=SUPPORTS_PROGRESS_EVENT?ProgressEvent:ProgressEventPolyfill;return["error","progress","loadstart","loadend","load","timeout","abort"].includes(type)?new ProgressEventClass(type,{lengthComputable:!0,loaded:(null==init?void 0:init.loaded)||0,total:(null==init?void 0:init.total)||0}):new EventPolyfill(type,{target,currentTarget:target})}(this.request,eventName,options);this.logger.info('trigger "%s"',eventName,options||""),"function"==typeof callback&&(this.logger.info('found a direct "%s" callback, calling...',eventName),callback.call(this.request,event));for(const[registeredEventName,listeners]of this.events)registeredEventName===eventName&&(this.logger.info('found %d listener(s) for "%s" event, calling...',listeners.length,eventName),listeners.forEach((listener=>listener.call(this.request,event))))}toFetchApiRequest(){this.logger.info("converting request to a Fetch API Request...");const fetchRequest=new Request(this.url.href,{method:this.method,headers:this.requestHeaders,credentials:this.request.withCredentials?"include":"same-origin",body:["GET","HEAD"].includes(this.method)?null:this.requestBody}),proxyHeaders=createProxy(fetchRequest.headers,{methodCall:([methodName,args],invoke)=>{switch(methodName){case"append":case"set":{const[headerName,headerValue]=args;this.request.setRequestHeader(headerName,headerValue);break}case"delete":{const[headerName]=args;console.warn(`XMLHttpRequest: Cannot remove a "${headerName}" header from the Fetch API representation of the "${fetchRequest.method} ${fetchRequest.url}" request. XMLHttpRequest headers cannot be removed.`);break}}return invoke()}});return browser_define(fetchRequest,"headers",proxyHeaders),this.logger.info("converted request to a Fetch API Request!",fetchRequest),fetchRequest}};function toAbsoluteUrl(url){return"undefined"==typeof location?new URL(url):new URL(url.toString(),location.href)}function browser_define(target,property,value){Reflect.defineProperty(target,property,{writable:!0,enumerable:!0,value})}var _XMLHttpRequestInterceptor=class extends Interceptor{constructor(){super(_XMLHttpRequestInterceptor.interceptorSymbol)}checkEnvironment(){return void 0!==globalThis.XMLHttpRequest}setup(){const logger=this.logger.extend("setup");logger.info('patching "XMLHttpRequest" module...');const PureXMLHttpRequest=globalThis.XMLHttpRequest;invariant(!PureXMLHttpRequest[IS_PATCHED_MODULE],'Failed to patch the "XMLHttpRequest" module: already patched.'),globalThis.XMLHttpRequest=function createXMLHttpRequestProxy({emitter,logger}){return new Proxy(globalThis.XMLHttpRequest,{construct(target,args,newTarget){logger.info("constructed new XMLHttpRequest");const originalRequest=Reflect.construct(target,args,newTarget),prototypeDescriptors=Object.getOwnPropertyDescriptors(target.prototype);for(const propertyName in prototypeDescriptors)Reflect.defineProperty(originalRequest,propertyName,prototypeDescriptors[propertyName]);const xhrRequestController=new XMLHttpRequestController(originalRequest,logger);return xhrRequestController.onRequest=async function({request,requestId}){const{interactiveRequest,requestController}=toInteractiveRequest(request);this.logger.info("awaiting mocked response..."),emitter.once("request",(({requestId:pendingRequestId})=>{pendingRequestId===requestId&&"pending"===requestController.responsePromise.state&&requestController.respondWith(void 0)}));const resolverResult=await browser_until((async()=>{this.logger.info('emitting the "request" event for %s listener(s)...',emitter.listenerCount("request")),await emitAsync(emitter,"request",{request:interactiveRequest,requestId}),this.logger.info('all "request" listeners settled!');const mockedResponse2=await requestController.responsePromise;return this.logger.info("event.respondWith called with:",mockedResponse2),mockedResponse2}));if(resolverResult.error){if(this.logger.info("request listener threw an exception, aborting request...",resolverResult.error),resolverResult.error instanceof Response)return void(isResponseError(resolverResult.error)?xhrRequestController.errorWith(new TypeError("Network error")):this.respondWith(resolverResult.error));if(emitter.listenerCount("unhandledException")>0&&(await emitAsync(emitter,"unhandledException",{error:resolverResult.error,request,requestId,controller:{respondWith:xhrRequestController.respondWith.bind(xhrRequestController),errorWith:xhrRequestController.errorWith.bind(xhrRequestController)}}),originalRequest.readyState>XMLHttpRequest.OPENED))return;return void xhrRequestController.respondWith(createServerErrorResponse(resolverResult.error))}const mockedResponse=resolverResult.data;if(void 0!==mockedResponse)return this.logger.info("received mocked response: %d %s",mockedResponse.status,mockedResponse.statusText),isResponseError(mockedResponse)?(this.logger.info("received a network error response, rejecting the request promise..."),void xhrRequestController.errorWith(new TypeError("Network error"))):xhrRequestController.respondWith(mockedResponse);this.logger.info("no mocked response received, performing request as-is...")},xhrRequestController.onResponse=async function({response,isMockedResponse,request,requestId}){this.logger.info('emitting the "response" event for %s listener(s)...',emitter.listenerCount("response")),emitter.emit("response",{response,isMockedResponse,request,requestId})},xhrRequestController.request}})}({emitter:this.emitter,logger:this.logger}),logger.info('native "XMLHttpRequest" module patched!',globalThis.XMLHttpRequest.name),Object.defineProperty(globalThis.XMLHttpRequest,IS_PATCHED_MODULE,{enumerable:!0,configurable:!0,value:!0}),this.subscriptions.push((()=>{Object.defineProperty(globalThis.XMLHttpRequest,IS_PATCHED_MODULE,{value:void 0}),globalThis.XMLHttpRequest=PureXMLHttpRequest,logger.info('native "XMLHttpRequest" module restored!',globalThis.XMLHttpRequest.name)}))}},XMLHttpRequestInterceptor=_XMLHttpRequestInterceptor;function createFallbackStart(context){return async function start(options){context.fallbackInterceptor=function createFallbackRequestListener(context,options){const interceptor=new BatchInterceptor({name:"fallback",interceptors:[new FetchInterceptor,new XMLHttpRequestInterceptor]});return interceptor.on("request",(async({request,requestId})=>{const requestCloneForLogs=request.clone(),response=await handleRequest(request,requestId,context.getRequestHandlers(),options,context.emitter,{onMockedResponse(_,{handler,parsedResult}){options.quiet||context.emitter.once("response:mocked",(({response:response2})=>{handler.log({request:requestCloneForLogs,response:response2,parsedResult})}))}});response&&request.respondWith(response)})),interceptor.on("response",(({response,isMockedResponse,request,requestId})=>{context.emitter.emit(isMockedResponse?"response:mocked":"response:bypass",{response,request,requestId})})),interceptor.apply(),interceptor}(context,options),printStartMessage({message:"Mocking enabled (fallback mode).",quiet:options.quiet})}}function supportsReadableStreamTransfer(){try{const stream=new ReadableStream({start:controller=>controller.close()});return(new MessageChannel).port1.postMessage(stream,[stream]),!0}catch{return!1}}XMLHttpRequestInterceptor.interceptorSymbol=Symbol("xhr");var SetupWorkerApi=class extends SetupApi{context;startHandler=null;stopHandler=null;listeners;constructor(...handlers){super(...handlers),invariant(!isNodeProcess(),devUtils.e.formatMessage("Failed to execute `setupWorker` in a non-browser environment. Consider using `setupServer` for Node.js environment instead.")),this.listeners=[],this.context=this.createWorkerContext()}createWorkerContext(){const context={isMockingEnabled:!1,startOptions:null,worker:null,getRequestHandlers:()=>this.handlersController.currentHandlers(),registration:null,requests:new Map,emitter:this.emitter,workerChannel:{on:(eventType,callback)=>{this.context.events.addListener(navigator.serviceWorker,"message",(event=>{if(event.source!==this.context.worker)return;const message=event.data;message&&message.type===eventType&&callback(event,message)}))},send:type=>{this.context.worker?.postMessage(type)}},events:{addListener:(target,eventType,callback)=>(target.addEventListener(eventType,callback),this.listeners.push({eventType,target,callback}),()=>{target.removeEventListener(eventType,callback)}),removeAllListeners:()=>{for(const{target,eventType,callback}of this.listeners)target.removeEventListener(eventType,callback);this.listeners=[]},once:eventType=>{const bindings=[];return new Promise(((resolve,reject)=>{bindings.push(this.context.events.addListener(navigator.serviceWorker,"message",(event=>{try{const message=event.data;message.type===eventType&&resolve(message)}catch(error2){reject(error2)}})),this.context.events.addListener(navigator.serviceWorker,"messageerror",reject))})).finally((()=>{bindings.forEach((unbind=>unbind()))}))}},supports:{serviceWorkerApi:!("serviceWorker"in navigator)||"file:"===location.protocol,readableStreamTransfer:supportsReadableStreamTransfer()}};return this.startHandler=context.supports.serviceWorkerApi?createFallbackStart(context):createStartHandler(context),this.stopHandler=context.supports.serviceWorkerApi?function createFallbackStop(context){return function stop(){context.fallbackInterceptor?.dispose(),printStopMessage({quiet:context.startOptions?.quiet})}}(context):(context=>function stop(){context.isMockingEnabled?(context.workerChannel.send("MOCK_DEACTIVATE"),context.isMockingEnabled=!1,window.clearInterval(context.keepAliveInterval),printStopMessage({quiet:context.startOptions?.quiet})):devUtils.e.warn('Found a redundant "worker.stop()" call. Note that stopping the worker while mocking already stopped has no effect. Consider removing this "worker.stop()" call.')})(context),context}async start(options={}){return!0===options.waitUntilReady&&devUtils.e.warn('The "waitUntilReady" option has been deprecated. Please remove it from this "worker.start()" call. Follow the recommended Browser integration (https://mswjs.io/docs/integrations/browser) to eliminate any race conditions between the Service Worker registration and any requests made by your application on initial render.'),this.context.startOptions=mergeRight(DEFAULT_START_OPTIONS,options),await this.startHandler(this.context.startOptions,options)}stop(){super.dispose(),this.context.events.removeAllListeners(),this.context.emitter.removeAllListeners(),this.stopHandler()}};function setupWorker(...handlers){return new SetupWorkerApi(...handlers)}},"./node_modules/msw/lib/core/HttpResponse.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>HttpResponse});var _utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/msw/lib/core/utils/HttpResponse/decorators.mjs");class HttpResponse extends Response{constructor(body,init){const responseInit=(0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(init);super(body,responseInit),(0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_0__._A)(this,responseInit)}static text(body,init){const responseInit=(0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(init);return responseInit.headers.has("Content-Type")||responseInit.headers.set("Content-Type","text/plain"),responseInit.headers.has("Content-Length")||responseInit.headers.set("Content-Length",body?new Blob([body]).size.toString():"0"),new HttpResponse(body,responseInit)}static json(body,init){const responseInit=(0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(init);responseInit.headers.has("Content-Type")||responseInit.headers.set("Content-Type","application/json");const responseText=JSON.stringify(body);return responseInit.headers.has("Content-Length")||responseInit.headers.set("Content-Length",responseText?new Blob([responseText]).size.toString():"0"),new HttpResponse(responseText,responseInit)}static xml(body,init){const responseInit=(0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(init);return responseInit.headers.has("Content-Type")||responseInit.headers.set("Content-Type","text/xml"),new HttpResponse(body,responseInit)}static html(body,init){const responseInit=(0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(init);return responseInit.headers.has("Content-Type")||responseInit.headers.set("Content-Type","text/html"),new HttpResponse(body,responseInit)}static arrayBuffer(body,init){const responseInit=(0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(init);return body&&!responseInit.headers.has("Content-Length")&&responseInit.headers.set("Content-Length",body.byteLength.toString()),new HttpResponse(body,responseInit)}static formData(body,init){return new HttpResponse(body,(0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(init))}}},"./node_modules/msw/lib/core/handlers/RequestHandler.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>RequestHandler});const SOURCE_FRAME=/[\/\\]msw[\/\\]src[\/\\](.+)/,BUILD_FRAME=/(node_modules)?[\/\\]lib[\/\\](core|browser|node|native|iife)[\/\\]|^[^\/\\]*$/;class RequestHandler{static cache=new WeakMap;info;isUsed;resolver;resolverIterator;resolverIteratorResult;options;constructor(args){this.resolver=args.resolver,this.options=args.options;const callFrame=function getCallFrame(error){const stack=error.stack;if(!stack)return;const declarationFrame=stack.split("\n").slice(1).find((frame=>!(SOURCE_FRAME.test(frame)||BUILD_FRAME.test(frame))));if(!declarationFrame)return;return declarationFrame.replace(/\s*at [^()]*\(([^)]+)\)/,"$1").replace(/^@/,"")}(new Error);this.info={...args.info,callFrame},this.isUsed=!1}async parse(_args){return{}}async test(args){const parsedResult=await this.parse({request:args.request,resolutionContext:args.resolutionContext});return this.predicate({request:args.request,parsedResult,resolutionContext:args.resolutionContext})}extendResolverArgs(_args){return{}}cloneRequestOrGetFromCache(request){const existingClone=RequestHandler.cache.get(request);if(void 0!==existingClone)return existingClone;const clonedRequest=request.clone();return RequestHandler.cache.set(request,clonedRequest),clonedRequest}async run(args){if(this.isUsed&&this.options?.once)return null;const requestClone=this.cloneRequestOrGetFromCache(args.request),parsedResult=await this.parse({request:args.request,resolutionContext:args.resolutionContext});if(!this.predicate({request:args.request,parsedResult,resolutionContext:args.resolutionContext}))return null;if(this.isUsed&&this.options?.once)return null;this.isUsed=!0;const mockedResponsePromise=this.wrapResolver(this.resolver)({...this.extendResolverArgs({request:args.request,parsedResult}),requestId:args.requestId,request:args.request}).catch((errorOrResponse=>{if(errorOrResponse instanceof Response)return errorOrResponse;throw errorOrResponse})),mockedResponse=await mockedResponsePromise;return this.createExecutionResult({request:requestClone,requestId:args.requestId,response:mockedResponse,parsedResult})}wrapResolver(resolver){return async info=>{if(!this.resolverIterator){const result=await resolver(info);if(!function isIterable(fn){return!!fn&&(Reflect.has(fn,Symbol.iterator)||Reflect.has(fn,Symbol.asyncIterator))}(result))return result;this.resolverIterator=Symbol.iterator in result?result[Symbol.iterator]():result[Symbol.asyncIterator]()}this.isUsed=!1;const{done,value}=await this.resolverIterator.next(),nextResponse=await value;return nextResponse&&(this.resolverIteratorResult=nextResponse.clone()),done?(this.isUsed=!0,this.resolverIteratorResult?.clone()):nextResponse}}createExecutionResult(args){return{handler:this,request:args.request,requestId:args.requestId,response:args.response,parsedResult:args.parsedResult}}}},"./node_modules/msw/lib/core/http.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>http});var devUtils=__webpack_require__("./node_modules/msw/lib/core/utils/internal/devUtils.mjs");var index_esm=__webpack_require__("./node_modules/@bundled-es-modules/statuses/index-esm.js");const{message}=index_esm.default;function parse(str,options){void 0===options&&(options={});for(var tokens=function lexer(str){for(var tokens=[],i=0;i<str.length;){var char=str[i];if("*"!==char&&"+"!==char&&"?"!==char)if("\\"!==char)if("{"!==char)if("}"!==char)if(":"!==char)if("("!==char)tokens.push({type:"CHAR",index:i,value:str[i++]});else{var count=1,pattern="";if("?"===str[j=i+1])throw new TypeError('Pattern cannot start with "?" at '.concat(j));for(;j<str.length;)if("\\"!==str[j]){if(")"===str[j]){if(0==--count){j++;break}}else if("("===str[j]&&(count++,"?"!==str[j+1]))throw new TypeError("Capturing groups are not allowed at ".concat(j));pattern+=str[j++]}else pattern+=str[j++]+str[j++];if(count)throw new TypeError("Unbalanced pattern at ".concat(i));if(!pattern)throw new TypeError("Missing pattern at ".concat(i));tokens.push({type:"PATTERN",index:i,value:pattern}),i=j}else{for(var name="",j=i+1;j<str.length;){var code=str.charCodeAt(j);if(!(code>=48&&code<=57||code>=65&&code<=90||code>=97&&code<=122||95===code))break;name+=str[j++]}if(!name)throw new TypeError("Missing parameter name at ".concat(i));tokens.push({type:"NAME",index:i,value:name}),i=j}else tokens.push({type:"CLOSE",index:i,value:str[i++]});else tokens.push({type:"OPEN",index:i,value:str[i++]});else tokens.push({type:"ESCAPED_CHAR",index:i++,value:str[i++]});else tokens.push({type:"MODIFIER",index:i,value:str[i++]})}return tokens.push({type:"END",index:i,value:""}),tokens}(str),_a=options.prefixes,prefixes=void 0===_a?"./":_a,defaultPattern="[^".concat(escapeString(options.delimiter||"/#?"),"]+?"),result=[],key=0,i=0,path="",tryConsume=function(type){if(i<tokens.length&&tokens[i].type===type)return tokens[i++].value},mustConsume=function(type){var value=tryConsume(type);if(void 0!==value)return value;var _a=tokens[i],nextType=_a.type,index=_a.index;throw new TypeError("Unexpected ".concat(nextType," at ").concat(index,", expected ").concat(type))},consumeText=function(){for(var value,result="";value=tryConsume("CHAR")||tryConsume("ESCAPED_CHAR");)result+=value;return result};i<tokens.length;){var char=tryConsume("CHAR"),name=tryConsume("NAME"),pattern=tryConsume("PATTERN");if(name||pattern){var prefix=char||"";-1===prefixes.indexOf(prefix)&&(path+=prefix,prefix=""),path&&(result.push(path),path=""),result.push({name:name||key++,prefix,suffix:"",pattern:pattern||defaultPattern,modifier:tryConsume("MODIFIER")||""})}else{var value=char||tryConsume("ESCAPED_CHAR");if(value)path+=value;else if(path&&(result.push(path),path=""),tryConsume("OPEN")){prefix=consumeText();var name_1=tryConsume("NAME")||"",pattern_1=tryConsume("PATTERN")||"",suffix=consumeText();mustConsume("CLOSE"),result.push({name:name_1||(pattern_1?key++:""),pattern:name_1&&!pattern_1?defaultPattern:pattern_1,prefix,suffix,modifier:tryConsume("MODIFIER")||""})}else mustConsume("END")}}return result}function match(str,options){var keys=[];return function regexpToFunction(re,keys,options){void 0===options&&(options={});var _a=options.decode,decode=void 0===_a?function(x){return x}:_a;return function(pathname){var m=re.exec(pathname);if(!m)return!1;for(var path=m[0],index=m.index,params=Object.create(null),_loop_1=function(i){if(void 0===m[i])return"continue";var key=keys[i-1];"*"===key.modifier||"+"===key.modifier?params[key.name]=m[i].split(key.prefix+key.suffix).map((function(value){return decode(value,key)})):params[key.name]=decode(m[i],key)},i=1;i<m.length;i++)_loop_1(i);return{path,index,params}}}(pathToRegexp(str,keys,options),keys,options)}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function flags(options){return options&&options.sensitive?"":"i"}function stringToRegexp(path,keys,options){return function tokensToRegexp(tokens,keys,options){void 0===options&&(options={});for(var _a=options.strict,strict=void 0!==_a&&_a,_b=options.start,start=void 0===_b||_b,_c=options.end,end=void 0===_c||_c,_d=options.encode,encode=void 0===_d?function(x){return x}:_d,_e=options.delimiter,delimiter=void 0===_e?"/#?":_e,_f=options.endsWith,endsWithRe="[".concat(escapeString(void 0===_f?"":_f),"]|$"),delimiterRe="[".concat(escapeString(delimiter),"]"),route=start?"^":"",_i=0,tokens_1=tokens;_i<tokens_1.length;_i++){var token=tokens_1[_i];if("string"==typeof token)route+=escapeString(encode(token));else{var prefix=escapeString(encode(token.prefix)),suffix=escapeString(encode(token.suffix));if(token.pattern)if(keys&&keys.push(token),prefix||suffix)if("+"===token.modifier||"*"===token.modifier){var mod="*"===token.modifier?"?":"";route+="(?:".concat(prefix,"((?:").concat(token.pattern,")(?:").concat(suffix).concat(prefix,"(?:").concat(token.pattern,"))*)").concat(suffix,")").concat(mod)}else route+="(?:".concat(prefix,"(").concat(token.pattern,")").concat(suffix,")").concat(token.modifier);else"+"===token.modifier||"*"===token.modifier?route+="((?:".concat(token.pattern,")").concat(token.modifier,")"):route+="(".concat(token.pattern,")").concat(token.modifier);else route+="(?:".concat(prefix).concat(suffix,")").concat(token.modifier)}}if(end)strict||(route+="".concat(delimiterRe,"?")),route+=options.endsWith?"(?=".concat(endsWithRe,")"):"$";else{var endToken=tokens[tokens.length-1],isEndDelimited="string"==typeof endToken?delimiterRe.indexOf(endToken[endToken.length-1])>-1:void 0===endToken;strict||(route+="(?:".concat(delimiterRe,"(?=").concat(endsWithRe,"))?")),isEndDelimited||(route+="(?=".concat(delimiterRe,"|").concat(endsWithRe,")"))}return new RegExp(route,flags(options))}(parse(path,options),keys,options)}function pathToRegexp(path,keys,options){return path instanceof RegExp?function regexpToRegexp(path,keys){if(!keys)return path;for(var groupsRegex=/\((?:\?<(.*?)>)?(?!\?)/g,index=0,execResult=groupsRegex.exec(path.source);execResult;)keys.push({name:execResult[1]||index++,prefix:"",suffix:"",modifier:"",pattern:""}),execResult=groupsRegex.exec(path.source);return path}(path,keys):Array.isArray(path)?function arrayToRegexp(paths,keys,options){var parts=paths.map((function(path){return pathToRegexp(path,keys,options).source}));return new RegExp("(?:".concat(parts.join("|"),")"),flags(options))}(path,keys,options):stringToRegexp(path,keys,options)}new TextEncoder;Symbol("isPatchedModule");var lib=__webpack_require__("./node_modules/is-node-process/lib/index.mjs"),__defProp=(__webpack_require__("./node_modules/outvariant/lib/index.mjs"),__webpack_require__("./node_modules/process/browser.js"),__webpack_require__("./node_modules/console-browserify/index.js"),Object.defineProperty),colors_exports={};function yellow(text){return`[33m${text}[0m`}function blue(text){return`[34m${text}[0m`}function gray(text){return`[90m${text}[0m`}function red(text){return`[31m${text}[0m`}function green(text){return`[32m${text}[0m`}((target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})})(colors_exports,{blue:()=>blue,gray:()=>gray,green:()=>green,red:()=>red,yellow:()=>yellow});(0,lib.l)();__webpack_require__("./node_modules/strict-event-emitter/lib/index.mjs");const REDUNDANT_CHARACTERS_EXP=/[\?|#].*$/g;function cleanUrl(path){return path.endsWith("?")?path:path.replace(REDUNDANT_CHARACTERS_EXP,"")}function normalizePath(path,baseUrl){if(path instanceof RegExp)return path;const maybeAbsoluteUrl=function getAbsoluteUrl(path,baseUrl){if(function isAbsoluteUrl(url){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url)}(path))return path;if(path.startsWith("*"))return path;const origin=baseUrl||"undefined"!=typeof document&&document.baseURI;return origin?decodeURI(new URL(encodeURI(path),origin).href):path}(path,baseUrl);return cleanUrl(maybeAbsoluteUrl)}function matchRequestUrl(url,path,baseUrl){const normalizedPath=normalizePath(path,baseUrl),cleanPath="string"==typeof normalizedPath?function coercePath(path){return path.replace(/([:a-zA-Z_-]*)(\*{1,2})+/g,((_,parameterName,wildcard)=>parameterName?parameterName.startsWith(":")?`${parameterName}${wildcard}`:`${parameterName}(.*)`:"(.*)")).replace(/([^\/])(:)(?=\d+)/,"$1\\$2").replace(/^([^\/]+)(:)(?=\/\/)/,"$1\\$2")}(normalizedPath):normalizedPath,cleanUrl=function getCleanUrl(url,isAbsolute=!0){return[isAbsolute&&url.origin,url.pathname].filter(Boolean).join("")}(url),result=match(cleanPath,{decode:decodeURIComponent})(cleanUrl);return{matches:!1!==result,params:result&&result.params||{}}}var cb,mod,toPublicUrl=__webpack_require__("./node_modules/msw/lib/core/utils/request/toPublicUrl.mjs"),__create=Object.create,index_esm_defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,source_default=((mod,isNodeMode,target)=>(target=null!=mod?__create(__getProtoOf(mod)):{},((to,from,except,desc)=>{if(from&&"object"==typeof from||"function"==typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||index_esm_defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to})(!isNodeMode&&mod&&mod.__esModule?target:index_esm_defProp(target,"default",{value:mod,enumerable:!0}),mod)))((cb={"node_modules/cookie/index.js"(exports){exports.parse=function parse(str,options){if("string"!=typeof str)throw new TypeError("argument str must be a string");for(var obj={},dec=(options||{}).decode||decode,index=0;index<str.length;){var eqIdx=str.indexOf("=",index);if(-1===eqIdx)break;var endIdx=str.indexOf(";",index);if(-1===endIdx)endIdx=str.length;else if(endIdx<eqIdx){index=str.lastIndexOf(";",eqIdx-1)+1;continue}var key=str.slice(index,eqIdx).trim();if(void 0===obj[key]){var val=str.slice(eqIdx+1,endIdx).trim();34===val.charCodeAt(0)&&(val=val.slice(1,-1)),obj[key]=tryDecode(val,dec)}index=endIdx+1}return obj},exports.serialize=function serialize(name,val,options){var opt=options||{},enc=opt.encode||encode;if("function"!=typeof enc)throw new TypeError("option encode is invalid");if(!fieldContentRegExp.test(name))throw new TypeError("argument name is invalid");var value=enc(val);if(value&&!fieldContentRegExp.test(value))throw new TypeError("argument val is invalid");var str=name+"="+value;if(null!=opt.maxAge){var maxAge=opt.maxAge-0;if(isNaN(maxAge)||!isFinite(maxAge))throw new TypeError("option maxAge is invalid");str+="; Max-Age="+Math.floor(maxAge)}if(opt.domain){if(!fieldContentRegExp.test(opt.domain))throw new TypeError("option domain is invalid");str+="; Domain="+opt.domain}if(opt.path){if(!fieldContentRegExp.test(opt.path))throw new TypeError("option path is invalid");str+="; Path="+opt.path}if(opt.expires){var expires=opt.expires;if(!function isDate(val){return"[object Date]"===__toString.call(val)||val instanceof Date}(expires)||isNaN(expires.valueOf()))throw new TypeError("option expires is invalid");str+="; Expires="+expires.toUTCString()}if(opt.httpOnly&&(str+="; HttpOnly"),opt.secure&&(str+="; Secure"),opt.priority)switch("string"==typeof opt.priority?opt.priority.toLowerCase():opt.priority){case"low":str+="; Priority=Low";break;case"medium":str+="; Priority=Medium";break;case"high":str+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(opt.sameSite)switch("string"==typeof opt.sameSite?opt.sameSite.toLowerCase():opt.sameSite){case!0:str+="; SameSite=Strict";break;case"lax":str+="; SameSite=Lax";break;case"strict":str+="; SameSite=Strict";break;case"none":str+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return str};var __toString=Object.prototype.toString,fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function decode(str){return-1!==str.indexOf("%")?decodeURIComponent(str):str}function encode(val){return encodeURIComponent(val)}function tryDecode(str,decode2){try{return decode2(str)}catch(e){return str}}}},function __require(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports})(),1).default,cookieStore=__webpack_require__("./node_modules/msw/lib/core/utils/cookieStore.mjs");function getAllDocumentCookies(){return source_default.parse(document.cookie)}function getAllRequestCookies(request){const requestCookieHeader=request.headers.get("cookie"),cookiesFromHeaders=requestCookieHeader?source_default.parse(requestCookieHeader):{},cookiesFromDocument=function getDocumentCookies(request){if("undefined"==typeof document||"undefined"==typeof location)return{};switch(request.credentials){case"same-origin":{const requestUrl=new URL(request.url);return location.origin===requestUrl.origin?getAllDocumentCookies():{}}case"include":return getAllDocumentCookies();default:return{}}}(request);for(const name in cookiesFromDocument)request.headers.append("cookie",source_default.serialize(name,cookiesFromDocument[name]));const cookiesFromStore=cookieStore.k.getCookiesSync(request.url),storedCookiesObject=Object.fromEntries(cookiesFromStore.map((cookie=>[cookie.key,cookie.value])));for(const cookie of cookiesFromStore)request.headers.append("cookie",cookie.toString());return{...cookiesFromDocument,...storedCookiesObject,...cookiesFromHeaders}}var RequestHandler=__webpack_require__("./node_modules/msw/lib/core/handlers/RequestHandler.mjs"),HttpHandler_console=__webpack_require__("./node_modules/console-browserify/index.js"),HttpMethods=(HttpMethods2=>(HttpMethods2.HEAD="HEAD",HttpMethods2.GET="GET",HttpMethods2.POST="POST",HttpMethods2.PUT="PUT",HttpMethods2.PATCH="PATCH",HttpMethods2.OPTIONS="OPTIONS",HttpMethods2.DELETE="DELETE",HttpMethods2))(HttpMethods||{});class HttpHandler extends RequestHandler.Z{constructor(method,path,resolver,options){super({info:{header:`${method} ${path}`,path,method},resolver,options}),this.checkRedundantQueryParameters()}checkRedundantQueryParameters(){const{method,path}=this.info;if(path instanceof RegExp)return;if(cleanUrl(path)===path)return;const searchParams=function getSearchParams(path){return new URL(`/${path}`,"http://localhost").searchParams}(path),queryParams=[];searchParams.forEach(((_,paramName)=>{queryParams.push(paramName)})),devUtils.e.warn(`Found a redundant usage of query parameters in the request handler URL for "${method} ${path}". Please match against a path instead and access query parameters using "new URL(request.url).searchParams" instead. Learn more: https://mswjs.io/docs/recipes/query-parameters`)}async parse(args){return{match:matchRequestUrl(new URL(args.request.url),this.info.path,args.resolutionContext?.baseUrl),cookies:getAllRequestCookies(args.request)}}predicate(args){const hasMatchingMethod=this.matchMethod(args.request.method),hasMatchingUrl=args.parsedResult.match.matches;return hasMatchingMethod&&hasMatchingUrl}matchMethod(actualMethod){return this.info.method instanceof RegExp?this.info.method.test(actualMethod):function isStringEqual(actual,expected){return actual.toLowerCase()===expected.toLowerCase()}(this.info.method,actualMethod)}extendResolverArgs(args){return{params:args.parsedResult.match?.params||{},cookies:args.parsedResult.cookies}}async log(args){const publicUrl=(0,toPublicUrl.F)(args.request.url),loggedRequest=await async function serializeRequest(request){const requestClone=request.clone(),requestText=await requestClone.text();return{url:new URL(request.url),method:request.method,headers:Object.fromEntries(request.headers.entries()),body:requestText}}(args.request),loggedResponse=await async function serializeResponse(response){const responseClone=response.clone(),responseText=await responseClone.text(),responseStatus=responseClone.status||200;return{status:responseStatus,statusText:responseClone.statusText||message[responseStatus]||"OK",headers:Object.fromEntries(responseClone.headers.entries()),body:responseText}}(args.response),statusColor=function getStatusCodeColor(status){return status<300?"#69AB32":status<400?"#F0BB4B":"#E95F5D"}(loggedResponse.status);HttpHandler_console.groupCollapsed(devUtils.e.formatMessage(`${function getTimestamp(){const now=new Date;return[now.getHours(),now.getMinutes(),now.getSeconds()].map(String).map((chunk=>chunk.slice(0,2))).map((chunk=>chunk.padStart(2,"0"))).join(":")}()} ${args.request.method} ${publicUrl} (%c${loggedResponse.status} ${loggedResponse.statusText}%c)`),`color:${statusColor}`,"color:inherit"),HttpHandler_console.log("Request",loggedRequest),HttpHandler_console.log("Handler:",this),HttpHandler_console.log("Response",loggedResponse),HttpHandler_console.groupEnd()}}function createHttpHandler(method){return(path,resolver,options={})=>new HttpHandler(method,path,resolver,options)}const http={all:createHttpHandler(/.+/),head:createHttpHandler(HttpMethods.HEAD),get:createHttpHandler(HttpMethods.GET),post:createHttpHandler(HttpMethods.POST),put:createHttpHandler(HttpMethods.PUT),delete:createHttpHandler(HttpMethods.DELETE),patch:createHttpHandler(HttpMethods.PATCH),options:createHttpHandler(HttpMethods.OPTIONS)}},"./node_modules/msw/lib/core/utils/HttpResponse/decorators.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_A:()=>decorateResponse,x3:()=>kSetCookie,p:()=>normalizeResponseInit});var cb,mod,index_esm=__webpack_require__("./node_modules/@bundled-es-modules/statuses/index-esm.js"),console=__webpack_require__("./node_modules/console-browserify/index.js"),__create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,import_set_cookie_parser=((mod,isNodeMode,target)=>(target=null!=mod?__create(__getProtoOf(mod)):{},((to,from,except,desc)=>{if(from&&"object"==typeof from||"function"==typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to})(!isNodeMode&&mod&&mod.__esModule?target:__defProp(target,"default",{value:mod,enumerable:!0}),mod)))((cb={"node_modules/set-cookie-parser/lib/set-cookie.js"(exports,module){var defaultParseOptions={decodeValues:!0,map:!1,silent:!1};function isNonEmptyString(str){return"string"==typeof str&&!!str.trim()}function parseString(setCookieValue,options){var parts=setCookieValue.split(";").filter(isNonEmptyString),parsed=function parseNameValuePair(nameValuePairStr){var name="",value="",nameValueArr=nameValuePairStr.split("=");return nameValueArr.length>1?(name=nameValueArr.shift(),value=nameValueArr.join("=")):value=nameValuePairStr,{name,value}}(parts.shift()),name=parsed.name,value=parsed.value;options=options?Object.assign({},defaultParseOptions,options):defaultParseOptions;try{value=options.decodeValues?decodeURIComponent(value):value}catch(e){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+value+"'. Set options.decodeValues to false to disable this feature.",e)}var cookie={name,value};return parts.forEach((function(part){var sides=part.split("="),key=sides.shift().trimLeft().toLowerCase(),value2=sides.join("=");"expires"===key?cookie.expires=new Date(value2):"max-age"===key?cookie.maxAge=parseInt(value2,10):"secure"===key?cookie.secure=!0:"httponly"===key?cookie.httpOnly=!0:"samesite"===key?cookie.sameSite=value2:cookie[key]=value2})),cookie}function parse(input,options){if(options=options?Object.assign({},defaultParseOptions,options):defaultParseOptions,!input)return options.map?{}:[];if(input.headers)if("function"==typeof input.headers.getSetCookie)input=input.headers.getSetCookie();else if(input.headers["set-cookie"])input=input.headers["set-cookie"];else{var sch=input.headers[Object.keys(input.headers).find((function(key){return"set-cookie"===key.toLowerCase()}))];sch||!input.headers.cookie||options.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),input=sch}return Array.isArray(input)||(input=[input]),(options=options?Object.assign({},defaultParseOptions,options):defaultParseOptions).map?input.filter(isNonEmptyString).reduce((function(cookies2,str){var cookie=parseString(str,options);return cookies2[cookie.name]=cookie,cookies2}),{}):input.filter(isNonEmptyString).map((function(str){return parseString(str,options)}))}module.exports=parse,module.exports.parse=parse,module.exports.parseString=parseString,module.exports.splitCookiesString=function splitCookiesString2(cookiesString){if(Array.isArray(cookiesString))return cookiesString;if("string"!=typeof cookiesString)return[];var start,ch,lastComma,nextStart,cookiesSeparatorFound,cookiesStrings=[],pos=0;function skipWhitespace(){for(;pos<cookiesString.length&&/\s/.test(cookiesString.charAt(pos));)pos+=1;return pos<cookiesString.length}for(;pos<cookiesString.length;){for(start=pos,cookiesSeparatorFound=!1;skipWhitespace();)if(","===(ch=cookiesString.charAt(pos))){for(lastComma=pos,pos+=1,skipWhitespace(),nextStart=pos;pos<cookiesString.length&&"="!==(ch=cookiesString.charAt(pos))&&";"!==ch&&","!==ch;)pos+=1;pos<cookiesString.length&&"="===cookiesString.charAt(pos)?(cookiesSeparatorFound=!0,pos=nextStart,cookiesStrings.push(cookiesString.substring(start,lastComma)),start=pos):pos=lastComma+1}else pos+=1;(!cookiesSeparatorFound||pos>=cookiesString.length)&&cookiesStrings.push(cookiesString.substring(start,cookiesString.length))}return cookiesStrings}}},function __require(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports})()),HEADERS_INVALID_CHARACTERS=/[^a-z0-9\-#$%&'*+.^_`|~]/i;function normalizeHeaderName(name){if(HEADERS_INVALID_CHARACTERS.test(name)||""===name.trim())throw new TypeError("Invalid character in header field name");return name.trim().toLowerCase()}var charCodesToRemove=[String.fromCharCode(10),String.fromCharCode(13),String.fromCharCode(9),String.fromCharCode(32)],HEADER_VALUE_REMOVE_REGEXP=new RegExp(`(^[${charCodesToRemove.join("")}]|$[${charCodesToRemove.join("")}])`,"g");function normalizeHeaderValue(value){return value.replace(HEADER_VALUE_REMOVE_REGEXP,"")}function isValidHeaderName(value){if("string"!=typeof value)return!1;if(0===value.length)return!1;for(let i=0;i<value.length;i++){const character=value.charCodeAt(i);if(character>127||!isToken(character))return!1}return!0}function isToken(value){return![127,32,"(",")","<",">","@",",",";",":","\\",'"',"/","[","]","?","=","{","}"].includes(value)}function isValidHeaderValue(value){if("string"!=typeof value)return!1;if(value.trim()!==value)return!1;for(let i=0;i<value.length;i++){const character=value.charCodeAt(i);if(0===character||10===character||13===character)return!1}return!0}var _a,_b,_c,NORMALIZED_HEADERS=Symbol("normalizedHeaders"),RAW_HEADER_NAMES=Symbol("rawHeaderNames"),lib_Headers=class _Headers{constructor(init){if(this[_a]={},this[_b]=new Map,this[_c]="Headers",["Headers","HeadersPolyfill"].includes(init?.constructor.name)||init instanceof _Headers||void 0!==globalThis.Headers&&init instanceof globalThis.Headers){init.forEach(((value,name)=>{this.append(name,value)}),this)}else Array.isArray(init)?init.forEach((([name,value])=>{this.append(name,Array.isArray(value)?value.join(", "):value)})):init&&Object.getOwnPropertyNames(init).forEach((name=>{const value=init[name];this.append(name,Array.isArray(value)?value.join(", "):value)}))}[(_a=NORMALIZED_HEADERS,_b=RAW_HEADER_NAMES,_c=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}*keys(){for(const[name]of this.entries())yield name}*values(){for(const[,value]of this.entries())yield value}*entries(){let sortedKeys=Object.keys(this[NORMALIZED_HEADERS]).sort(((a,b)=>a.localeCompare(b)));for(const name of sortedKeys)if("set-cookie"===name)for(const value of this.getSetCookie())yield[name,value];else yield[name,this.get(name)]}has(name){if(!isValidHeaderName(name))throw new TypeError(`Invalid header name "${name}"`);return this[NORMALIZED_HEADERS].hasOwnProperty(normalizeHeaderName(name))}get(name){if(!isValidHeaderName(name))throw TypeError(`Invalid header name "${name}"`);return this[NORMALIZED_HEADERS][normalizeHeaderName(name)]??null}set(name,value){if(!isValidHeaderName(name)||!isValidHeaderValue(value))return;const normalizedName=normalizeHeaderName(name),normalizedValue=normalizeHeaderValue(value);this[NORMALIZED_HEADERS][normalizedName]=normalizeHeaderValue(normalizedValue),this[RAW_HEADER_NAMES].set(normalizedName,name)}append(name,value){if(!isValidHeaderName(name)||!isValidHeaderValue(value))return;const normalizedName=normalizeHeaderName(name),normalizedValue=normalizeHeaderValue(value);let resolvedValue=this.has(normalizedName)?`${this.get(normalizedName)}, ${normalizedValue}`:normalizedValue;this.set(name,resolvedValue)}delete(name){if(!isValidHeaderName(name))return;if(!this.has(name))return;const normalizedName=normalizeHeaderName(name);delete this[NORMALIZED_HEADERS][normalizedName],this[RAW_HEADER_NAMES].delete(normalizedName)}forEach(callback,thisArg){for(const[name,value]of this.entries())callback.call(thisArg,value,name,this)}getSetCookie(){const setCookieHeader=this.get("set-cookie");return null===setCookieHeader?[]:""===setCookieHeader?[""]:(0,import_set_cookie_parser.splitCookiesString)(setCookieHeader)}};const{message}=index_esm.default,kSetCookie=Symbol("kSetCookie");function normalizeResponseInit(init={}){const status=init?.status||200,statusText=init?.statusText||message[status]||"",headers=new Headers(init?.headers);return{...init,headers,status,statusText}}function decorateResponse(response,init){init.type&&Object.defineProperty(response,"type",{value:init.type,enumerable:!0,writable:!1});const responseCookies=init.headers.get("set-cookie");if(responseCookies&&(Object.defineProperty(response,kSetCookie,{value:responseCookies,enumerable:!1,writable:!1}),"undefined"!=typeof document)){const responseCookiePairs=lib_Headers.prototype.getSetCookie.call(init.headers);for(const cookieString of responseCookiePairs)document.cookie=cookieString}return response}},"./node_modules/msw/lib/core/utils/cookieStore.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>cookieStore});var mod,isNodeMode,target,lib=__webpack_require__("./node_modules/outvariant/lib/index.mjs"),is_node_process_lib=__webpack_require__("./node_modules/is-node-process/lib/index.mjs"),__create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__require=(x=>__webpack_require__("./node_modules/@bundled-es-modules/tough-cookie sync recursive"))(),__commonJS=(cb,mod)=>function __require2(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports},require_punycode=__commonJS({"node_modules/punycode/punycode.js"(exports,module){var maxInt=2147483647,regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7F]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(type){throw new RangeError(errors[type])}function mapDomain(domain,callback){const parts=domain.split("@");let result="";parts.length>1&&(result=parts[0]+"@",domain=parts[1]);const encoded=function map(array,callback){const result=[];let length=array.length;for(;length--;)result[length]=callback(array[length]);return result}((domain=domain.replace(regexSeparators,".")).split("."),callback).join(".");return result+encoded}function ucs2decode(string){const output=[];let counter=0;const length=string.length;for(;counter<length;){const value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){const extra=string.charCodeAt(counter++);56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)}else output.push(value)}return output}var digitToBasic=function(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)},adapt=function(delta,numPoints,firstTime){let k=0;for(delta=firstTime?floor(delta/700):delta>>1,delta+=floor(delta/numPoints);delta>455;k+=36)delta=floor(delta/35);return floor(k+36*delta/(delta+38))},decode=function(input){const output=[],inputLength=input.length;let i=0,n=128,bias=72,basic=input.lastIndexOf("-");basic<0&&(basic=0);for(let j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(let index=basic>0?basic+1:0;index<inputLength;){const oldi=i;for(let w=1,k=36;;k+=36){index>=inputLength&&error("invalid-input");const digit=(codePoint=input.charCodeAt(index++))>=48&&codePoint<58?codePoint-48+26:codePoint>=65&&codePoint<91?codePoint-65:codePoint>=97&&codePoint<123?codePoint-97:36;digit>=36&&error("invalid-input"),digit>floor((maxInt-i)/w)&&error("overflow"),i+=digit*w;const t=k<=bias?1:k>=bias+26?26:k-bias;if(digit<t)break;const baseMinusT=36-t;w>floor(maxInt/baseMinusT)&&error("overflow"),w*=baseMinusT}const out=output.length+1;bias=adapt(i-oldi,out,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}var codePoint;return String.fromCodePoint(...output)},encode=function(input){const output=[],inputLength=(input=ucs2decode(input)).length;let n=128,delta=0,bias=72;for(const currentValue of input)currentValue<128&&output.push(stringFromCharCode(currentValue));const basicLength=output.length;let handledCPCount=basicLength;for(basicLength&&output.push("-");handledCPCount<inputLength;){let m=maxInt;for(const currentValue of input)currentValue>=n&&currentValue<m&&(m=currentValue);const handledCPCountPlusOne=handledCPCount+1;m-n>floor((maxInt-delta)/handledCPCountPlusOne)&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m;for(const currentValue of input)if(currentValue<n&&++delta>maxInt&&error("overflow"),currentValue===n){let q=delta;for(let k=36;;k+=36){const t=k<=bias?1:k>=bias+26?26:k-bias;if(q<t)break;const qMinusT=q-t,baseMinusT=36-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount===basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")},punycode={version:"2.3.1",ucs2:{decode:ucs2decode,encode:codePoints=>String.fromCodePoint(...codePoints)},decode,encode,toASCII:function(input){return mapDomain(input,(function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string}))},toUnicode:function(input){return mapDomain(input,(function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string}))}};module.exports=punycode}}),require_requires_port=__commonJS({"node_modules/requires-port/index.js"(exports,module){module.exports=function required(port,protocol){if(protocol=protocol.split(":")[0],!(port=+port))return!1;switch(protocol){case"http":case"ws":return 80!==port;case"https":case"wss":return 443!==port;case"ftp":return 21!==port;case"gopher":return 70!==port;case"file":return!1}return 0!==port}}}),require_querystringify=__commonJS({"node_modules/querystringify/index.js"(exports){var has=Object.prototype.hasOwnProperty;function decode(input){try{return decodeURIComponent(input.replace(/\+/g," "))}catch(e){return null}}function encode(input){try{return encodeURIComponent(input)}catch(e){return null}}exports.stringify=function querystringify(obj,prefix){prefix=prefix||"";var value,key,pairs=[];for(key in"string"!=typeof prefix&&(prefix="?"),obj)if(has.call(obj,key)){if((value=obj[key])||null!=value&&!isNaN(value)||(value=""),key=encode(key),value=encode(value),null===key||null===value)continue;pairs.push(key+"="+value)}return pairs.length?prefix+pairs.join("&"):""},exports.parse=function querystring(query){for(var part,parser=/([^=?#&]+)=?([^&]*)/g,result={};part=parser.exec(query);){var key=decode(part[1]),value=decode(part[2]);null===key||null===value||key in result||(result[key]=value)}return result}}}),require_url_parse=__commonJS({"node_modules/url-parse/index.js"(exports,module){var required=require_requires_port(),qs=require_querystringify(),controlOrWhitespace=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,CRHTLF=/[\n\r\t]/g,slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,port=/:\d+$/,protocolre=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,windowsDriveLetter=/^[a-zA-Z]:/;function trimLeft(str){return(str||"").toString().replace(controlOrWhitespace,"")}var rules=[["#","hash"],["?","query"],function sanitize(address,url){return isSpecial(url.protocol)?address.replace(/\\/g,"/"):address},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ignore={hash:1,query:1};function lolcation(loc){var key,location=("undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{}).location||{},finaldestination={},type=typeof(loc=loc||location);if("blob:"===loc.protocol)finaldestination=new Url(unescape(loc.pathname),{});else if("string"===type)for(key in finaldestination=new Url(loc,{}),ignore)delete finaldestination[key];else if("object"===type){for(key in loc)key in ignore||(finaldestination[key]=loc[key]);void 0===finaldestination.slashes&&(finaldestination.slashes=slashes.test(loc.href))}return finaldestination}function isSpecial(scheme){return"file:"===scheme||"ftp:"===scheme||"http:"===scheme||"https:"===scheme||"ws:"===scheme||"wss:"===scheme}function extractProtocol(address,location){address=(address=trimLeft(address)).replace(CRHTLF,""),location=location||{};var rest,match=protocolre.exec(address),protocol=match[1]?match[1].toLowerCase():"",forwardSlashes=!!match[2],otherSlashes=!!match[3],slashesCount=0;return forwardSlashes?otherSlashes?(rest=match[2]+match[3]+match[4],slashesCount=match[2].length+match[3].length):(rest=match[2]+match[4],slashesCount=match[2].length):otherSlashes?(rest=match[3]+match[4],slashesCount=match[3].length):rest=match[4],"file:"===protocol?slashesCount>=2&&(rest=rest.slice(2)):isSpecial(protocol)?rest=match[4]:protocol?forwardSlashes&&(rest=rest.slice(2)):slashesCount>=2&&isSpecial(location.protocol)&&(rest=match[4]),{protocol,slashes:forwardSlashes||isSpecial(protocol),slashesCount,rest}}function Url(address,location,parser){if(address=(address=trimLeft(address)).replace(CRHTLF,""),!(this instanceof Url))return new Url(address,location,parser);var relative,extracted,parse,instruction,index,key,instructions=rules.slice(),type=typeof location,url=this,i=0;for("object"!==type&&"string"!==type&&(parser=location,location=null),parser&&"function"!=typeof parser&&(parser=qs.parse),relative=!(extracted=extractProtocol(address||"",location=lolcation(location))).protocol&&!extracted.slashes,url.slashes=extracted.slashes||relative&&location.slashes,url.protocol=extracted.protocol||location.protocol||"",address=extracted.rest,("file:"===extracted.protocol&&(2!==extracted.slashesCount||windowsDriveLetter.test(address))||!extracted.slashes&&(extracted.protocol||extracted.slashesCount<2||!isSpecial(url.protocol)))&&(instructions[3]=[/(.*)/,"pathname"]);i<instructions.length;i++)"function"!=typeof(instruction=instructions[i])?(parse=instruction[0],key=instruction[1],parse!=parse?url[key]=address:"string"==typeof parse?~(index="@"===parse?address.lastIndexOf(parse):address.indexOf(parse))&&("number"==typeof instruction[2]?(url[key]=address.slice(0,index),address=address.slice(index+instruction[2])):(url[key]=address.slice(index),address=address.slice(0,index))):(index=parse.exec(address))&&(url[key]=index[1],address=address.slice(0,index.index)),url[key]=url[key]||relative&&instruction[3]&&location[key]||"",instruction[4]&&(url[key]=url[key].toLowerCase())):address=instruction(address,url);parser&&(url.query=parser(url.query)),relative&&location.slashes&&"/"!==url.pathname.charAt(0)&&(""!==url.pathname||""!==location.pathname)&&(url.pathname=function resolve(relative,base){if(""===relative)return base;for(var path=(base||"/").split("/").slice(0,-1).concat(relative.split("/")),i=path.length,last=path[i-1],unshift=!1,up=0;i--;)"."===path[i]?path.splice(i,1):".."===path[i]?(path.splice(i,1),up++):up&&(0===i&&(unshift=!0),path.splice(i,1),up--);return unshift&&path.unshift(""),"."!==last&&".."!==last||path.push(""),path.join("/")}(url.pathname,location.pathname)),"/"!==url.pathname.charAt(0)&&isSpecial(url.protocol)&&(url.pathname="/"+url.pathname),required(url.port,url.protocol)||(url.host=url.hostname,url.port=""),url.username=url.password="",url.auth&&(~(index=url.auth.indexOf(":"))?(url.username=url.auth.slice(0,index),url.username=encodeURIComponent(decodeURIComponent(url.username)),url.password=url.auth.slice(index+1),url.password=encodeURIComponent(decodeURIComponent(url.password))):url.username=encodeURIComponent(decodeURIComponent(url.auth)),url.auth=url.password?url.username+":"+url.password:url.username),url.origin="file:"!==url.protocol&&isSpecial(url.protocol)&&url.host?url.protocol+"//"+url.host:"null",url.href=url.toString()}Url.prototype={set:function set(part,value,fn){var url=this;switch(part){case"query":"string"==typeof value&&value.length&&(value=(fn||qs.parse)(value)),url[part]=value;break;case"port":url[part]=value,required(value,url.protocol)?value&&(url.host=url.hostname+":"+value):(url.host=url.hostname,url[part]="");break;case"hostname":url[part]=value,url.port&&(value+=":"+url.port),url.host=value;break;case"host":url[part]=value,port.test(value)?(value=value.split(":"),url.port=value.pop(),url.hostname=value.join(":")):(url.hostname=value,url.port="");break;case"protocol":url.protocol=value.toLowerCase(),url.slashes=!fn;break;case"pathname":case"hash":if(value){var char="pathname"===part?"/":"#";url[part]=value.charAt(0)!==char?char+value:value}else url[part]=value;break;case"username":case"password":url[part]=encodeURIComponent(value);break;case"auth":var index=value.indexOf(":");~index?(url.username=value.slice(0,index),url.username=encodeURIComponent(decodeURIComponent(url.username)),url.password=value.slice(index+1),url.password=encodeURIComponent(decodeURIComponent(url.password))):url.username=encodeURIComponent(decodeURIComponent(value))}for(var i=0;i<rules.length;i++){var ins=rules[i];ins[4]&&(url[ins[1]]=url[ins[1]].toLowerCase())}return url.auth=url.password?url.username+":"+url.password:url.username,url.origin="file:"!==url.protocol&&isSpecial(url.protocol)&&url.host?url.protocol+"//"+url.host:"null",url.href=url.toString(),url},toString:function toString(stringify){stringify&&"function"==typeof stringify||(stringify=qs.stringify);var query,url=this,host=url.host,protocol=url.protocol;protocol&&":"!==protocol.charAt(protocol.length-1)&&(protocol+=":");var result=protocol+(url.protocol&&url.slashes||isSpecial(url.protocol)?"//":"");return url.username?(result+=url.username,url.password&&(result+=":"+url.password),result+="@"):url.password?(result+=":"+url.password,result+="@"):"file:"!==url.protocol&&isSpecial(url.protocol)&&!host&&"/"!==url.pathname&&(result+="@"),(":"===host[host.length-1]||port.test(url.hostname)&&!url.port)&&(host+=":"),result+=host+url.pathname,(query="object"==typeof url.query?stringify(url.query):url.query)&&(result+="?"!==query.charAt(0)?"?"+query:query),url.hash&&(result+=url.hash),result}},Url.extractProtocol=extractProtocol,Url.location=lolcation,Url.trimLeft=trimLeft,Url.qs=qs,module.exports=Url}}),require_rules=__commonJS({"node_modules/psl/data/rules.json"(exports,module){module.exports=["ac","com.ac","edu.ac","gov.ac","net.ac","mil.ac","org.ac","ad","nom.ad","ae","co.ae","net.ae","org.ae","sch.ae","ac.ae","gov.ae","mil.ae","aero","accident-investigation.aero","accident-prevention.aero","aerobatic.aero","aeroclub.aero","aerodrome.aero","agents.aero","aircraft.aero","airline.aero","airport.aero","air-surveillance.aero","airtraffic.aero","air-traffic-control.aero","ambulance.aero","amusement.aero","association.aero","author.aero","ballooning.aero","broker.aero","caa.aero","cargo.aero","catering.aero","certification.aero","championship.aero","charter.aero","civilaviation.aero","club.aero","conference.aero","consultant.aero","consulting.aero","control.aero","council.aero","crew.aero","design.aero","dgca.aero","educator.aero","emergency.aero","engine.aero","engineer.aero","entertainment.aero","equipment.aero","exchange.aero","express.aero","federation.aero","flight.aero","fuel.aero","gliding.aero","government.aero","groundhandling.aero","group.aero","hanggliding.aero","homebuilt.aero","insurance.aero","journal.aero","journalist.aero","leasing.aero","logistics.aero","magazine.aero","maintenance.aero","media.aero","microlight.aero","modelling.aero","navigation.aero","parachuting.aero","paragliding.aero","passenger-association.aero","pilot.aero","press.aero","production.aero","recreation.aero","repbody.aero","res.aero","research.aero","rotorcraft.aero","safety.aero","scientist.aero","services.aero","show.aero","skydiving.aero","software.aero","student.aero","trader.aero","trading.aero","trainer.aero","union.aero","workinggroup.aero","works.aero","af","gov.af","com.af","org.af","net.af","edu.af","ag","com.ag","org.ag","net.ag","co.ag","nom.ag","ai","off.ai","com.ai","net.ai","org.ai","al","com.al","edu.al","gov.al","mil.al","net.al","org.al","am","co.am","com.am","commune.am","net.am","org.am","ao","ed.ao","gv.ao","og.ao","co.ao","pb.ao","it.ao","aq","ar","bet.ar","com.ar","coop.ar","edu.ar","gob.ar","gov.ar","int.ar","mil.ar","musica.ar","mutual.ar","net.ar","org.ar","senasa.ar","tur.ar","arpa","e164.arpa","in-addr.arpa","ip6.arpa","iris.arpa","uri.arpa","urn.arpa","as","gov.as","asia","at","ac.at","co.at","gv.at","or.at","sth.ac.at","au","com.au","net.au","org.au","edu.au","gov.au","asn.au","id.au","info.au","conf.au","oz.au","act.au","nsw.au","nt.au","qld.au","sa.au","tas.au","vic.au","wa.au","act.edu.au","catholic.edu.au","nsw.edu.au","nt.edu.au","qld.edu.au","sa.edu.au","tas.edu.au","vic.edu.au","wa.edu.au","qld.gov.au","sa.gov.au","tas.gov.au","vic.gov.au","wa.gov.au","schools.nsw.edu.au","aw","com.aw","ax","az","com.az","net.az","int.az","gov.az","org.az","edu.az","info.az","pp.az","mil.az","name.az","pro.az","biz.az","ba","com.ba","edu.ba","gov.ba","mil.ba","net.ba","org.ba","bb","biz.bb","co.bb","com.bb","edu.bb","gov.bb","info.bb","net.bb","org.bb","store.bb","tv.bb","*.bd","be","ac.be","bf","gov.bf","bg","a.bg","b.bg","c.bg","d.bg","e.bg","f.bg","g.bg","h.bg","i.bg","j.bg","k.bg","l.bg","m.bg","n.bg","o.bg","p.bg","q.bg","r.bg","s.bg","t.bg","u.bg","v.bg","w.bg","x.bg","y.bg","z.bg","0.bg","1.bg","2.bg","3.bg","4.bg","5.bg","6.bg","7.bg","8.bg","9.bg","bh","com.bh","edu.bh","net.bh","org.bh","gov.bh","bi","co.bi","com.bi","edu.bi","or.bi","org.bi","biz","bj","asso.bj","barreau.bj","gouv.bj","bm","com.bm","edu.bm","gov.bm","net.bm","org.bm","bn","com.bn","edu.bn","gov.bn","net.bn","org.bn","bo","com.bo","edu.bo","gob.bo","int.bo","org.bo","net.bo","mil.bo","tv.bo","web.bo","academia.bo","agro.bo","arte.bo","blog.bo","bolivia.bo","ciencia.bo","cooperativa.bo","democracia.bo","deporte.bo","ecologia.bo","economia.bo","empresa.bo","indigena.bo","industria.bo","info.bo","medicina.bo","movimiento.bo","musica.bo","natural.bo","nombre.bo","noticias.bo","patria.bo","politica.bo","profesional.bo","plurinacional.bo","pueblo.bo","revista.bo","salud.bo","tecnologia.bo","tksat.bo","transporte.bo","wiki.bo","br","9guacu.br","abc.br","adm.br","adv.br","agr.br","aju.br","am.br","anani.br","aparecida.br","app.br","arq.br","art.br","ato.br","b.br","barueri.br","belem.br","bhz.br","bib.br","bio.br","blog.br","bmd.br","boavista.br","bsb.br","campinagrande.br","campinas.br","caxias.br","cim.br","cng.br","cnt.br","com.br","contagem.br","coop.br","coz.br","cri.br","cuiaba.br","curitiba.br","def.br","des.br","det.br","dev.br","ecn.br","eco.br","edu.br","emp.br","enf.br","eng.br","esp.br","etc.br","eti.br","far.br","feira.br","flog.br","floripa.br","fm.br","fnd.br","fortal.br","fot.br","foz.br","fst.br","g12.br","geo.br","ggf.br","goiania.br","gov.br","ac.gov.br","al.gov.br","am.gov.br","ap.gov.br","ba.gov.br","ce.gov.br","df.gov.br","es.gov.br","go.gov.br","ma.gov.br","mg.gov.br","ms.gov.br","mt.gov.br","pa.gov.br","pb.gov.br","pe.gov.br","pi.gov.br","pr.gov.br","rj.gov.br","rn.gov.br","ro.gov.br","rr.gov.br","rs.gov.br","sc.gov.br","se.gov.br","sp.gov.br","to.gov.br","gru.br","imb.br","ind.br","inf.br","jab.br","jampa.br","jdf.br","joinville.br","jor.br","jus.br","leg.br","lel.br","log.br","londrina.br","macapa.br","maceio.br","manaus.br","maringa.br","mat.br","med.br","mil.br","morena.br","mp.br","mus.br","natal.br","net.br","niteroi.br","*.nom.br","not.br","ntr.br","odo.br","ong.br","org.br","osasco.br","palmas.br","poa.br","ppg.br","pro.br","psc.br","psi.br","pvh.br","qsl.br","radio.br","rec.br","recife.br","rep.br","ribeirao.br","rio.br","riobranco.br","riopreto.br","salvador.br","sampa.br","santamaria.br","santoandre.br","saobernardo.br","saogonca.br","seg.br","sjc.br","slg.br","slz.br","sorocaba.br","srv.br","taxi.br","tc.br","tec.br","teo.br","the.br","tmp.br","trd.br","tur.br","tv.br","udi.br","vet.br","vix.br","vlog.br","wiki.br","zlg.br","bs","com.bs","net.bs","org.bs","edu.bs","gov.bs","bt","com.bt","edu.bt","gov.bt","net.bt","org.bt","bv","bw","co.bw","org.bw","by","gov.by","mil.by","com.by","of.by","bz","com.bz","net.bz","org.bz","edu.bz","gov.bz","ca","ab.ca","bc.ca","mb.ca","nb.ca","nf.ca","nl.ca","ns.ca","nt.ca","nu.ca","on.ca","pe.ca","qc.ca","sk.ca","yk.ca","gc.ca","cat","cc","cd","gov.cd","cf","cg","ch","ci","org.ci","or.ci","com.ci","co.ci","edu.ci","ed.ci","ac.ci","net.ci","go.ci","asso.ci","aéroport.ci","int.ci","presse.ci","md.ci","gouv.ci","*.ck","!www.ck","cl","co.cl","gob.cl","gov.cl","mil.cl","cm","co.cm","com.cm","gov.cm","net.cm","cn","ac.cn","com.cn","edu.cn","gov.cn","net.cn","org.cn","mil.cn","公司.cn","网络.cn","網絡.cn","ah.cn","bj.cn","cq.cn","fj.cn","gd.cn","gs.cn","gz.cn","gx.cn","ha.cn","hb.cn","he.cn","hi.cn","hl.cn","hn.cn","jl.cn","js.cn","jx.cn","ln.cn","nm.cn","nx.cn","qh.cn","sc.cn","sd.cn","sh.cn","sn.cn","sx.cn","tj.cn","xj.cn","xz.cn","yn.cn","zj.cn","hk.cn","mo.cn","tw.cn","co","arts.co","com.co","edu.co","firm.co","gov.co","info.co","int.co","mil.co","net.co","nom.co","org.co","rec.co","web.co","com","coop","cr","ac.cr","co.cr","ed.cr","fi.cr","go.cr","or.cr","sa.cr","cu","com.cu","edu.cu","org.cu","net.cu","gov.cu","inf.cu","cv","com.cv","edu.cv","int.cv","nome.cv","org.cv","cw","com.cw","edu.cw","net.cw","org.cw","cx","gov.cx","cy","ac.cy","biz.cy","com.cy","ekloges.cy","gov.cy","ltd.cy","mil.cy","net.cy","org.cy","press.cy","pro.cy","tm.cy","cz","de","dj","dk","dm","com.dm","net.dm","org.dm","edu.dm","gov.dm","do","art.do","com.do","edu.do","gob.do","gov.do","mil.do","net.do","org.do","sld.do","web.do","dz","art.dz","asso.dz","com.dz","edu.dz","gov.dz","org.dz","net.dz","pol.dz","soc.dz","tm.dz","ec","com.ec","info.ec","net.ec","fin.ec","k12.ec","med.ec","pro.ec","org.ec","edu.ec","gov.ec","gob.ec","mil.ec","edu","ee","edu.ee","gov.ee","riik.ee","lib.ee","med.ee","com.ee","pri.ee","aip.ee","org.ee","fie.ee","eg","com.eg","edu.eg","eun.eg","gov.eg","mil.eg","name.eg","net.eg","org.eg","sci.eg","*.er","es","com.es","nom.es","org.es","gob.es","edu.es","et","com.et","gov.et","org.et","edu.et","biz.et","name.et","info.et","net.et","eu","fi","aland.fi","fj","ac.fj","biz.fj","com.fj","gov.fj","info.fj","mil.fj","name.fj","net.fj","org.fj","pro.fj","*.fk","com.fm","edu.fm","net.fm","org.fm","fm","fo","fr","asso.fr","com.fr","gouv.fr","nom.fr","prd.fr","tm.fr","aeroport.fr","avocat.fr","avoues.fr","cci.fr","chambagri.fr","chirurgiens-dentistes.fr","experts-comptables.fr","geometre-expert.fr","greta.fr","huissier-justice.fr","medecin.fr","notaires.fr","pharmacien.fr","port.fr","veterinaire.fr","ga","gb","edu.gd","gov.gd","gd","ge","com.ge","edu.ge","gov.ge","org.ge","mil.ge","net.ge","pvt.ge","gf","gg","co.gg","net.gg","org.gg","gh","com.gh","edu.gh","gov.gh","org.gh","mil.gh","gi","com.gi","ltd.gi","gov.gi","mod.gi","edu.gi","org.gi","gl","co.gl","com.gl","edu.gl","net.gl","org.gl","gm","gn","ac.gn","com.gn","edu.gn","gov.gn","org.gn","net.gn","gov","gp","com.gp","net.gp","mobi.gp","edu.gp","org.gp","asso.gp","gq","gr","com.gr","edu.gr","net.gr","org.gr","gov.gr","gs","gt","com.gt","edu.gt","gob.gt","ind.gt","mil.gt","net.gt","org.gt","gu","com.gu","edu.gu","gov.gu","guam.gu","info.gu","net.gu","org.gu","web.gu","gw","gy","co.gy","com.gy","edu.gy","gov.gy","net.gy","org.gy","hk","com.hk","edu.hk","gov.hk","idv.hk","net.hk","org.hk","公司.hk","教育.hk","敎育.hk","政府.hk","個人.hk","个��.hk","箇人.hk","網络.hk","网络.hk","组織.hk","網絡.hk","网絡.hk","组织.hk","組織.hk","組织.hk","hm","hn","com.hn","edu.hn","org.hn","net.hn","mil.hn","gob.hn","hr","iz.hr","from.hr","name.hr","com.hr","ht","com.ht","shop.ht","firm.ht","info.ht","adult.ht","net.ht","pro.ht","org.ht","med.ht","art.ht","coop.ht","pol.ht","asso.ht","edu.ht","rel.ht","gouv.ht","perso.ht","hu","co.hu","info.hu","org.hu","priv.hu","sport.hu","tm.hu","2000.hu","agrar.hu","bolt.hu","casino.hu","city.hu","erotica.hu","erotika.hu","film.hu","forum.hu","games.hu","hotel.hu","ingatlan.hu","jogasz.hu","konyvelo.hu","lakas.hu","media.hu","news.hu","reklam.hu","sex.hu","shop.hu","suli.hu","szex.hu","tozsde.hu","utazas.hu","video.hu","id","ac.id","biz.id","co.id","desa.id","go.id","mil.id","my.id","net.id","or.id","ponpes.id","sch.id","web.id","ie","gov.ie","il","ac.il","co.il","gov.il","idf.il","k12.il","muni.il","net.il","org.il","im","ac.im","co.im","com.im","ltd.co.im","net.im","org.im","plc.co.im","tt.im","tv.im","in","co.in","firm.in","net.in","org.in","gen.in","ind.in","nic.in","ac.in","edu.in","res.in","gov.in","mil.in","info","int","eu.int","io","com.io","iq","gov.iq","edu.iq","mil.iq","com.iq","org.iq","net.iq","ir","ac.ir","co.ir","gov.ir","id.ir","net.ir","org.ir","sch.ir","ایران.ir","ايران.ir","is","net.is","com.is","edu.is","gov.is","org.is","int.is","it","gov.it","edu.it","abr.it","abruzzo.it","aosta-valley.it","aostavalley.it","bas.it","basilicata.it","cal.it","calabria.it","cam.it","campania.it","emilia-romagna.it","emiliaromagna.it","emr.it","friuli-v-giulia.it","friuli-ve-giulia.it","friuli-vegiulia.it","friuli-venezia-giulia.it","friuli-veneziagiulia.it","friuli-vgiulia.it","friuliv-giulia.it","friulive-giulia.it","friulivegiulia.it","friulivenezia-giulia.it","friuliveneziagiulia.it","friulivgiulia.it","fvg.it","laz.it","lazio.it","lig.it","liguria.it","lom.it","lombardia.it","lombardy.it","lucania.it","mar.it","marche.it","mol.it","molise.it","piedmont.it","piemonte.it","pmn.it","pug.it","puglia.it","sar.it","sardegna.it","sardinia.it","sic.it","sicilia.it","sicily.it","taa.it","tos.it","toscana.it","trentin-sud-tirol.it","trentin-süd-tirol.it","trentin-sudtirol.it","trentin-südtirol.it","trentin-sued-tirol.it","trentin-suedtirol.it","trentino-a-adige.it","trentino-aadige.it","trentino-alto-adige.it","trentino-altoadige.it","trentino-s-tirol.it","trentino-stirol.it","trentino-sud-tirol.it","trentino-süd-tirol.it","trentino-sudtirol.it","trentino-südtirol.it","trentino-sued-tirol.it","trentino-suedtirol.it","trentino.it","trentinoa-adige.it","trentinoaadige.it","trentinoalto-adige.it","trentinoaltoadige.it","trentinos-tirol.it","trentinostirol.it","trentinosud-tirol.it","trentinosüd-tirol.it","trentinosudtirol.it","trentinosüdtirol.it","trentinosued-tirol.it","trentinosuedtirol.it","trentinsud-tirol.it","trentinsüd-tirol.it","trentinsudtirol.it","trentinsüdtirol.it","trentinsued-tirol.it","trentinsuedtirol.it","tuscany.it","umb.it","umbria.it","val-d-aosta.it","val-daosta.it","vald-aosta.it","valdaosta.it","valle-aosta.it","valle-d-aosta.it","valle-daosta.it","valleaosta.it","valled-aosta.it","valledaosta.it","vallee-aoste.it","vallée-aoste.it","vallee-d-aoste.it","vallée-d-aoste.it","valleeaoste.it","valléeaoste.it","valleedaoste.it","valléedaoste.it","vao.it","vda.it","ven.it","veneto.it","ag.it","agrigento.it","al.it","alessandria.it","alto-adige.it","altoadige.it","an.it","ancona.it","andria-barletta-trani.it","andria-trani-barletta.it","andriabarlettatrani.it","andriatranibarletta.it","ao.it","aosta.it","aoste.it","ap.it","aq.it","aquila.it","ar.it","arezzo.it","ascoli-piceno.it","ascolipiceno.it","asti.it","at.it","av.it","avellino.it","ba.it","balsan-sudtirol.it","balsan-südtirol.it","balsan-suedtirol.it","balsan.it","bari.it","barletta-trani-andria.it","barlettatraniandria.it","belluno.it","benevento.it","bergamo.it","bg.it","bi.it","biella.it","bl.it","bn.it","bo.it","bologna.it","bolzano-altoadige.it","bolzano.it","bozen-sudtirol.it","bozen-südtirol.it","bozen-suedtirol.it","bozen.it","br.it","brescia.it","brindisi.it","bs.it","bt.it","bulsan-sudtirol.it","bulsan-südtirol.it","bulsan-suedtirol.it","bulsan.it","bz.it","ca.it","cagliari.it","caltanissetta.it","campidano-medio.it","campidanomedio.it","campobasso.it","carbonia-iglesias.it","carboniaiglesias.it","carrara-massa.it","carraramassa.it","caserta.it","catania.it","catanzaro.it","cb.it","ce.it","cesena-forli.it","cesena-forlì.it","cesenaforli.it","cesenaforlì.it","ch.it","chieti.it","ci.it","cl.it","cn.it","co.it","como.it","cosenza.it","cr.it","cremona.it","crotone.it","cs.it","ct.it","cuneo.it","cz.it","dell-ogliastra.it","dellogliastra.it","en.it","enna.it","fc.it","fe.it","fermo.it","ferrara.it","fg.it","fi.it","firenze.it","florence.it","fm.it","foggia.it","forli-cesena.it","forlì-cesena.it","forlicesena.it","forlìcesena.it","fr.it","frosinone.it","ge.it","genoa.it","genova.it","go.it","gorizia.it","gr.it","grosseto.it","iglesias-carbonia.it","iglesiascarbonia.it","im.it","imperia.it","is.it","isernia.it","kr.it","la-spezia.it","laquila.it","laspezia.it","latina.it","lc.it","le.it","lecce.it","lecco.it","li.it","livorno.it","lo.it","lodi.it","lt.it","lu.it","lucca.it","macerata.it","mantova.it","massa-carrara.it","massacarrara.it","matera.it","mb.it","mc.it","me.it","medio-campidano.it","mediocampidano.it","messina.it","mi.it","milan.it","milano.it","mn.it","mo.it","modena.it","monza-brianza.it","monza-e-della-brianza.it","monza.it","monzabrianza.it","monzaebrianza.it","monzaedellabrianza.it","ms.it","mt.it","na.it","naples.it","napoli.it","no.it","novara.it","nu.it","nuoro.it","og.it","ogliastra.it","olbia-tempio.it","olbiatempio.it","or.it","oristano.it","ot.it","pa.it","padova.it","padua.it","palermo.it","parma.it","pavia.it","pc.it","pd.it","pe.it","perugia.it","pesaro-urbino.it","pesarourbino.it","pescara.it","pg.it","pi.it","piacenza.it","pisa.it","pistoia.it","pn.it","po.it","pordenone.it","potenza.it","pr.it","prato.it","pt.it","pu.it","pv.it","pz.it","ra.it","ragusa.it","ravenna.it","rc.it","re.it","reggio-calabria.it","reggio-emilia.it","reggiocalabria.it","reggioemilia.it","rg.it","ri.it","rieti.it","rimini.it","rm.it","rn.it","ro.it","roma.it","rome.it","rovigo.it","sa.it","salerno.it","sassari.it","savona.it","si.it","siena.it","siracusa.it","so.it","sondrio.it","sp.it","sr.it","ss.it","suedtirol.it","südtirol.it","sv.it","ta.it","taranto.it","te.it","tempio-olbia.it","tempioolbia.it","teramo.it","terni.it","tn.it","to.it","torino.it","tp.it","tr.it","trani-andria-barletta.it","trani-barletta-andria.it","traniandriabarletta.it","tranibarlettaandria.it","trapani.it","trento.it","treviso.it","trieste.it","ts.it","turin.it","tv.it","ud.it","udine.it","urbino-pesaro.it","urbinopesaro.it","va.it","varese.it","vb.it","vc.it","ve.it","venezia.it","venice.it","verbania.it","vercelli.it","verona.it","vi.it","vibo-valentia.it","vibovalentia.it","vicenza.it","viterbo.it","vr.it","vs.it","vt.it","vv.it","je","co.je","net.je","org.je","*.jm","jo","com.jo","org.jo","net.jo","edu.jo","sch.jo","gov.jo","mil.jo","name.jo","jobs","jp","ac.jp","ad.jp","co.jp","ed.jp","go.jp","gr.jp","lg.jp","ne.jp","or.jp","aichi.jp","akita.jp","aomori.jp","chiba.jp","ehime.jp","fukui.jp","fukuoka.jp","fukushima.jp","gifu.jp","gunma.jp","hiroshima.jp","hokkaido.jp","hyogo.jp","ibaraki.jp","ishikawa.jp","iwate.jp","kagawa.jp","kagoshima.jp","kanagawa.jp","kochi.jp","kumamoto.jp","kyoto.jp","mie.jp","miyagi.jp","miyazaki.jp","nagano.jp","nagasaki.jp","nara.jp","niigata.jp","oita.jp","okayama.jp","okinawa.jp","osaka.jp","saga.jp","saitama.jp","shiga.jp","shimane.jp","shizuoka.jp","tochigi.jp","tokushima.jp","tokyo.jp","tottori.jp","toyama.jp","wakayama.jp","yamagata.jp","yamaguchi.jp","yamanashi.jp","栃木.jp","愛知.jp","愛媛.jp","兵庫.jp","熊本.jp","茨城.jp","北海道.jp","千葉.jp","和歌山.jp","長崎.jp","長野.jp","新潟.jp","青森.jp","静岡.jp","東京.jp","石川.jp","埼玉.jp","三重.jp","京都.jp","佐賀.jp","大分.jp","大阪.jp","奈良.jp","宮城.jp","宮崎.jp","富山.jp","山口.jp","山形.jp","山梨.jp","岩手.jp","岐阜.jp","岡山.jp","島根.jp","広島.jp","徳島.jp","沖縄.jp","滋賀.jp","神奈川.jp","福井.jp","福岡.jp","福島.jp","秋田.jp","群馬.jp","香川.jp","高知.jp","鳥取.jp","鹿児島.jp","*.kawasaki.jp","*.kitakyushu.jp","*.kobe.jp","*.nagoya.jp","*.sapporo.jp","*.sendai.jp","*.yokohama.jp","!city.kawasaki.jp","!city.kitakyushu.jp","!city.kobe.jp","!city.nagoya.jp","!city.sapporo.jp","!city.sendai.jp","!city.yokohama.jp","aisai.aichi.jp","ama.aichi.jp","anjo.aichi.jp","asuke.aichi.jp","chiryu.aichi.jp","chita.aichi.jp","fuso.aichi.jp","gamagori.aichi.jp","handa.aichi.jp","hazu.aichi.jp","hekinan.aichi.jp","higashiura.aichi.jp","ichinomiya.aichi.jp","inazawa.aichi.jp","inuyama.aichi.jp","isshiki.aichi.jp","iwakura.aichi.jp","kanie.aichi.jp","kariya.aichi.jp","kasugai.aichi.jp","kira.aichi.jp","kiyosu.aichi.jp","komaki.aichi.jp","konan.aichi.jp","kota.aichi.jp","mihama.aichi.jp","miyoshi.aichi.jp","nishio.aichi.jp","nisshin.aichi.jp","obu.aichi.jp","oguchi.aichi.jp","oharu.aichi.jp","okazaki.aichi.jp","owariasahi.aichi.jp","seto.aichi.jp","shikatsu.aichi.jp","shinshiro.aichi.jp","shitara.aichi.jp","tahara.aichi.jp","takahama.aichi.jp","tobishima.aichi.jp","toei.aichi.jp","togo.aichi.jp","tokai.aichi.jp","tokoname.aichi.jp","toyoake.aichi.jp","toyohashi.aichi.jp","toyokawa.aichi.jp","toyone.aichi.jp","toyota.aichi.jp","tsushima.aichi.jp","yatomi.aichi.jp","akita.akita.jp","daisen.akita.jp","fujisato.akita.jp","gojome.akita.jp","hachirogata.akita.jp","happou.akita.jp","higashinaruse.akita.jp","honjo.akita.jp","honjyo.akita.jp","ikawa.akita.jp","kamikoani.akita.jp","kamioka.akita.jp","katagami.akita.jp","kazuno.akita.jp","kitaakita.akita.jp","kosaka.akita.jp","kyowa.akita.jp","misato.akita.jp","mitane.akita.jp","moriyoshi.akita.jp","nikaho.akita.jp","noshiro.akita.jp","odate.akita.jp","oga.akita.jp","ogata.akita.jp","semboku.akita.jp","yokote.akita.jp","yurihonjo.akita.jp","aomori.aomori.jp","gonohe.aomori.jp","hachinohe.aomori.jp","hashikami.aomori.jp","hiranai.aomori.jp","hirosaki.aomori.jp","itayanagi.aomori.jp","kuroishi.aomori.jp","misawa.aomori.jp","mutsu.aomori.jp","nakadomari.aomori.jp","noheji.aomori.jp","oirase.aomori.jp","owani.aomori.jp","rokunohe.aomori.jp","sannohe.aomori.jp","shichinohe.aomori.jp","shingo.aomori.jp","takko.aomori.jp","towada.aomori.jp","tsugaru.aomori.jp","tsuruta.aomori.jp","abiko.chiba.jp","asahi.chiba.jp","chonan.chiba.jp","chosei.chiba.jp","choshi.chiba.jp","chuo.chiba.jp","funabashi.chiba.jp","futtsu.chiba.jp","hanamigawa.chiba.jp","ichihara.chiba.jp","ichikawa.chiba.jp","ichinomiya.chiba.jp","inzai.chiba.jp","isumi.chiba.jp","kamagaya.chiba.jp","kamogawa.chiba.jp","kashiwa.chiba.jp","katori.chiba.jp","katsuura.chiba.jp","kimitsu.chiba.jp","kisarazu.chiba.jp","kozaki.chiba.jp","kujukuri.chiba.jp","kyonan.chiba.jp","matsudo.chiba.jp","midori.chiba.jp","mihama.chiba.jp","minamiboso.chiba.jp","mobara.chiba.jp","mutsuzawa.chiba.jp","nagara.chiba.jp","nagareyama.chiba.jp","narashino.chiba.jp","narita.chiba.jp","noda.chiba.jp","oamishirasato.chiba.jp","omigawa.chiba.jp","onjuku.chiba.jp","otaki.chiba.jp","sakae.chiba.jp","sakura.chiba.jp","shimofusa.chiba.jp","shirako.chiba.jp","shiroi.chiba.jp","shisui.chiba.jp","sodegaura.chiba.jp","sosa.chiba.jp","tako.chiba.jp","tateyama.chiba.jp","togane.chiba.jp","tohnosho.chiba.jp","tomisato.chiba.jp","urayasu.chiba.jp","yachimata.chiba.jp","yachiyo.chiba.jp","yokaichiba.chiba.jp","yokoshibahikari.chiba.jp","yotsukaido.chiba.jp","ainan.ehime.jp","honai.ehime.jp","ikata.ehime.jp","imabari.ehime.jp","iyo.ehime.jp","kamijima.ehime.jp","kihoku.ehime.jp","kumakogen.ehime.jp","masaki.ehime.jp","matsuno.ehime.jp","matsuyama.ehime.jp","namikata.ehime.jp","niihama.ehime.jp","ozu.ehime.jp","saijo.ehime.jp","seiyo.ehime.jp","shikokuchuo.ehime.jp","tobe.ehime.jp","toon.ehime.jp","uchiko.ehime.jp","uwajima.ehime.jp","yawatahama.ehime.jp","echizen.fukui.jp","eiheiji.fukui.jp","fukui.fukui.jp","ikeda.fukui.jp","katsuyama.fukui.jp","mihama.fukui.jp","minamiechizen.fukui.jp","obama.fukui.jp","ohi.fukui.jp","ono.fukui.jp","sabae.fukui.jp","sakai.fukui.jp","takahama.fukui.jp","tsuruga.fukui.jp","wakasa.fukui.jp","ashiya.fukuoka.jp","buzen.fukuoka.jp","chikugo.fukuoka.jp","chikuho.fukuoka.jp","chikujo.fukuoka.jp","chikushino.fukuoka.jp","chikuzen.fukuoka.jp","chuo.fukuoka.jp","dazaifu.fukuoka.jp","fukuchi.fukuoka.jp","hakata.fukuoka.jp","higashi.fukuoka.jp","hirokawa.fukuoka.jp","hisayama.fukuoka.jp","iizuka.fukuoka.jp","inatsuki.fukuoka.jp","kaho.fukuoka.jp","kasuga.fukuoka.jp","kasuya.fukuoka.jp","kawara.fukuoka.jp","keisen.fukuoka.jp","koga.fukuoka.jp","kurate.fukuoka.jp","kurogi.fukuoka.jp","kurume.fukuoka.jp","minami.fukuoka.jp","miyako.fukuoka.jp","miyama.fukuoka.jp","miyawaka.fukuoka.jp","mizumaki.fukuoka.jp","munakata.fukuoka.jp","nakagawa.fukuoka.jp","nakama.fukuoka.jp","nishi.fukuoka.jp","nogata.fukuoka.jp","ogori.fukuoka.jp","okagaki.fukuoka.jp","okawa.fukuoka.jp","oki.fukuoka.jp","omuta.fukuoka.jp","onga.fukuoka.jp","onojo.fukuoka.jp","oto.fukuoka.jp","saigawa.fukuoka.jp","sasaguri.fukuoka.jp","shingu.fukuoka.jp","shinyoshitomi.fukuoka.jp","shonai.fukuoka.jp","soeda.fukuoka.jp","sue.fukuoka.jp","tachiarai.fukuoka.jp","tagawa.fukuoka.jp","takata.fukuoka.jp","toho.fukuoka.jp","toyotsu.fukuoka.jp","tsuiki.fukuoka.jp","ukiha.fukuoka.jp","umi.fukuoka.jp","usui.fukuoka.jp","yamada.fukuoka.jp","yame.fukuoka.jp","yanagawa.fukuoka.jp","yukuhashi.fukuoka.jp","aizubange.fukushima.jp","aizumisato.fukushima.jp","aizuwakamatsu.fukushima.jp","asakawa.fukushima.jp","bandai.fukushima.jp","date.fukushima.jp","fukushima.fukushima.jp","furudono.fukushima.jp","futaba.fukushima.jp","hanawa.fukushima.jp","higashi.fukushima.jp","hirata.fukushima.jp","hirono.fukushima.jp","iitate.fukushima.jp","inawashiro.fukushima.jp","ishikawa.fukushima.jp","iwaki.fukushima.jp","izumizaki.fukushima.jp","kagamiishi.fukushima.jp","kaneyama.fukushima.jp","kawamata.fukushima.jp","kitakata.fukushima.jp","kitashiobara.fukushima.jp","koori.fukushima.jp","koriyama.fukushima.jp","kunimi.fukushima.jp","miharu.fukushima.jp","mishima.fukushima.jp","namie.fukushima.jp","nango.fukushima.jp","nishiaizu.fukushima.jp","nishigo.fukushima.jp","okuma.fukushima.jp","omotego.fukushima.jp","ono.fukushima.jp","otama.fukushima.jp","samegawa.fukushima.jp","shimogo.fukushima.jp","shirakawa.fukushima.jp","showa.fukushima.jp","soma.fukushima.jp","sukagawa.fukushima.jp","taishin.fukushima.jp","tamakawa.fukushima.jp","tanagura.fukushima.jp","tenei.fukushima.jp","yabuki.fukushima.jp","yamato.fukushima.jp","yamatsuri.fukushima.jp","yanaizu.fukushima.jp","yugawa.fukushima.jp","anpachi.gifu.jp","ena.gifu.jp","gifu.gifu.jp","ginan.gifu.jp","godo.gifu.jp","gujo.gifu.jp","hashima.gifu.jp","hichiso.gifu.jp","hida.gifu.jp","higashishirakawa.gifu.jp","ibigawa.gifu.jp","ikeda.gifu.jp","kakamigahara.gifu.jp","kani.gifu.jp","kasahara.gifu.jp","kasamatsu.gifu.jp","kawaue.gifu.jp","kitagata.gifu.jp","mino.gifu.jp","minokamo.gifu.jp","mitake.gifu.jp","mizunami.gifu.jp","motosu.gifu.jp","nakatsugawa.gifu.jp","ogaki.gifu.jp","sakahogi.gifu.jp","seki.gifu.jp","sekigahara.gifu.jp","shirakawa.gifu.jp","tajimi.gifu.jp","takayama.gifu.jp","tarui.gifu.jp","toki.gifu.jp","tomika.gifu.jp","wanouchi.gifu.jp","yamagata.gifu.jp","yaotsu.gifu.jp","yoro.gifu.jp","annaka.gunma.jp","chiyoda.gunma.jp","fujioka.gunma.jp","higashiagatsuma.gunma.jp","isesaki.gunma.jp","itakura.gunma.jp","kanna.gunma.jp","kanra.gunma.jp","katashina.gunma.jp","kawaba.gunma.jp","kiryu.gunma.jp","kusatsu.gunma.jp","maebashi.gunma.jp","meiwa.gunma.jp","midori.gunma.jp","minakami.gunma.jp","naganohara.gunma.jp","nakanojo.gunma.jp","nanmoku.gunma.jp","numata.gunma.jp","oizumi.gunma.jp","ora.gunma.jp","ota.gunma.jp","shibukawa.gunma.jp","shimonita.gunma.jp","shinto.gunma.jp","showa.gunma.jp","takasaki.gunma.jp","takayama.gunma.jp","tamamura.gunma.jp","tatebayashi.gunma.jp","tomioka.gunma.jp","tsukiyono.gunma.jp","tsumagoi.gunma.jp","ueno.gunma.jp","yoshioka.gunma.jp","asaminami.hiroshima.jp","daiwa.hiroshima.jp","etajima.hiroshima.jp","fuchu.hiroshima.jp","fukuyama.hiroshima.jp","hatsukaichi.hiroshima.jp","higashihiroshima.hiroshima.jp","hongo.hiroshima.jp","jinsekikogen.hiroshima.jp","kaita.hiroshima.jp","kui.hiroshima.jp","kumano.hiroshima.jp","kure.hiroshima.jp","mihara.hiroshima.jp","miyoshi.hiroshima.jp","naka.hiroshima.jp","onomichi.hiroshima.jp","osakikamijima.hiroshima.jp","otake.hiroshima.jp","saka.hiroshima.jp","sera.hiroshima.jp","seranishi.hiroshima.jp","shinichi.hiroshima.jp","shobara.hiroshima.jp","takehara.hiroshima.jp","abashiri.hokkaido.jp","abira.hokkaido.jp","aibetsu.hokkaido.jp","akabira.hokkaido.jp","akkeshi.hokkaido.jp","asahikawa.hokkaido.jp","ashibetsu.hokkaido.jp","ashoro.hokkaido.jp","assabu.hokkaido.jp","atsuma.hokkaido.jp","bibai.hokkaido.jp","biei.hokkaido.jp","bifuka.hokkaido.jp","bihoro.hokkaido.jp","biratori.hokkaido.jp","chippubetsu.hokkaido.jp","chitose.hokkaido.jp","date.hokkaido.jp","ebetsu.hokkaido.jp","embetsu.hokkaido.jp","eniwa.hokkaido.jp","erimo.hokkaido.jp","esan.hokkaido.jp","esashi.hokkaido.jp","fukagawa.hokkaido.jp","fukushima.hokkaido.jp","furano.hokkaido.jp","furubira.hokkaido.jp","haboro.hokkaido.jp","hakodate.hokkaido.jp","hamatonbetsu.hokkaido.jp","hidaka.hokkaido.jp","higashikagura.hokkaido.jp","higashikawa.hokkaido.jp","hiroo.hokkaido.jp","hokuryu.hokkaido.jp","hokuto.hokkaido.jp","honbetsu.hokkaido.jp","horokanai.hokkaido.jp","horonobe.hokkaido.jp","ikeda.hokkaido.jp","imakane.hokkaido.jp","ishikari.hokkaido.jp","iwamizawa.hokkaido.jp","iwanai.hokkaido.jp","kamifurano.hokkaido.jp","kamikawa.hokkaido.jp","kamishihoro.hokkaido.jp","kamisunagawa.hokkaido.jp","kamoenai.hokkaido.jp","kayabe.hokkaido.jp","kembuchi.hokkaido.jp","kikonai.hokkaido.jp","kimobetsu.hokkaido.jp","kitahiroshima.hokkaido.jp","kitami.hokkaido.jp","kiyosato.hokkaido.jp","koshimizu.hokkaido.jp","kunneppu.hokkaido.jp","kuriyama.hokkaido.jp","kuromatsunai.hokkaido.jp","kushiro.hokkaido.jp","kutchan.hokkaido.jp","kyowa.hokkaido.jp","mashike.hokkaido.jp","matsumae.hokkaido.jp","mikasa.hokkaido.jp","minamifurano.hokkaido.jp","mombetsu.hokkaido.jp","moseushi.hokkaido.jp","mukawa.hokkaido.jp","muroran.hokkaido.jp","naie.hokkaido.jp","nakagawa.hokkaido.jp","nakasatsunai.hokkaido.jp","nakatombetsu.hokkaido.jp","nanae.hokkaido.jp","nanporo.hokkaido.jp","nayoro.hokkaido.jp","nemuro.hokkaido.jp","niikappu.hokkaido.jp","niki.hokkaido.jp","nishiokoppe.hokkaido.jp","noboribetsu.hokkaido.jp","numata.hokkaido.jp","obihiro.hokkaido.jp","obira.hokkaido.jp","oketo.hokkaido.jp","okoppe.hokkaido.jp","otaru.hokkaido.jp","otobe.hokkaido.jp","otofuke.hokkaido.jp","otoineppu.hokkaido.jp","oumu.hokkaido.jp","ozora.hokkaido.jp","pippu.hokkaido.jp","rankoshi.hokkaido.jp","rebun.hokkaido.jp","rikubetsu.hokkaido.jp","rishiri.hokkaido.jp","rishirifuji.hokkaido.jp","saroma.hokkaido.jp","sarufutsu.hokkaido.jp","shakotan.hokkaido.jp","shari.hokkaido.jp","shibecha.hokkaido.jp","shibetsu.hokkaido.jp","shikabe.hokkaido.jp","shikaoi.hokkaido.jp","shimamaki.hokkaido.jp","shimizu.hokkaido.jp","shimokawa.hokkaido.jp","shinshinotsu.hokkaido.jp","shintoku.hokkaido.jp","shiranuka.hokkaido.jp","shiraoi.hokkaido.jp","shiriuchi.hokkaido.jp","sobetsu.hokkaido.jp","sunagawa.hokkaido.jp","taiki.hokkaido.jp","takasu.hokkaido.jp","takikawa.hokkaido.jp","takinoue.hokkaido.jp","teshikaga.hokkaido.jp","tobetsu.hokkaido.jp","tohma.hokkaido.jp","tomakomai.hokkaido.jp","tomari.hokkaido.jp","toya.hokkaido.jp","toyako.hokkaido.jp","toyotomi.hokkaido.jp","toyoura.hokkaido.jp","tsubetsu.hokkaido.jp","tsukigata.hokkaido.jp","urakawa.hokkaido.jp","urausu.hokkaido.jp","uryu.hokkaido.jp","utashinai.hokkaido.jp","wakkanai.hokkaido.jp","wassamu.hokkaido.jp","yakumo.hokkaido.jp","yoichi.hokkaido.jp","aioi.hyogo.jp","akashi.hyogo.jp","ako.hyogo.jp","amagasaki.hyogo.jp","aogaki.hyogo.jp","asago.hyogo.jp","ashiya.hyogo.jp","awaji.hyogo.jp","fukusaki.hyogo.jp","goshiki.hyogo.jp","harima.hyogo.jp","himeji.hyogo.jp","ichikawa.hyogo.jp","inagawa.hyogo.jp","itami.hyogo.jp","kakogawa.hyogo.jp","kamigori.hyogo.jp","kamikawa.hyogo.jp","kasai.hyogo.jp","kasuga.hyogo.jp","kawanishi.hyogo.jp","miki.hyogo.jp","minamiawaji.hyogo.jp","nishinomiya.hyogo.jp","nishiwaki.hyogo.jp","ono.hyogo.jp","sanda.hyogo.jp","sannan.hyogo.jp","sasayama.hyogo.jp","sayo.hyogo.jp","shingu.hyogo.jp","shinonsen.hyogo.jp","shiso.hyogo.jp","sumoto.hyogo.jp","taishi.hyogo.jp","taka.hyogo.jp","takarazuka.hyogo.jp","takasago.hyogo.jp","takino.hyogo.jp","tamba.hyogo.jp","tatsuno.hyogo.jp","toyooka.hyogo.jp","yabu.hyogo.jp","yashiro.hyogo.jp","yoka.hyogo.jp","yokawa.hyogo.jp","ami.ibaraki.jp","asahi.ibaraki.jp","bando.ibaraki.jp","chikusei.ibaraki.jp","daigo.ibaraki.jp","fujishiro.ibaraki.jp","hitachi.ibaraki.jp","hitachinaka.ibaraki.jp","hitachiomiya.ibaraki.jp","hitachiota.ibaraki.jp","ibaraki.ibaraki.jp","ina.ibaraki.jp","inashiki.ibaraki.jp","itako.ibaraki.jp","iwama.ibaraki.jp","joso.ibaraki.jp","kamisu.ibaraki.jp","kasama.ibaraki.jp","kashima.ibaraki.jp","kasumigaura.ibaraki.jp","koga.ibaraki.jp","miho.ibaraki.jp","mito.ibaraki.jp","moriya.ibaraki.jp","naka.ibaraki.jp","namegata.ibaraki.jp","oarai.ibaraki.jp","ogawa.ibaraki.jp","omitama.ibaraki.jp","ryugasaki.ibaraki.jp","sakai.ibaraki.jp","sakuragawa.ibaraki.jp","shimodate.ibaraki.jp","shimotsuma.ibaraki.jp","shirosato.ibaraki.jp","sowa.ibaraki.jp","suifu.ibaraki.jp","takahagi.ibaraki.jp","tamatsukuri.ibaraki.jp","tokai.ibaraki.jp","tomobe.ibaraki.jp","tone.ibaraki.jp","toride.ibaraki.jp","tsuchiura.ibaraki.jp","tsukuba.ibaraki.jp","uchihara.ibaraki.jp","ushiku.ibaraki.jp","yachiyo.ibaraki.jp","yamagata.ibaraki.jp","yawara.ibaraki.jp","yuki.ibaraki.jp","anamizu.ishikawa.jp","hakui.ishikawa.jp","hakusan.ishikawa.jp","kaga.ishikawa.jp","kahoku.ishikawa.jp","kanazawa.ishikawa.jp","kawakita.ishikawa.jp","komatsu.ishikawa.jp","nakanoto.ishikawa.jp","nanao.ishikawa.jp","nomi.ishikawa.jp","nonoichi.ishikawa.jp","noto.ishikawa.jp","shika.ishikawa.jp","suzu.ishikawa.jp","tsubata.ishikawa.jp","tsurugi.ishikawa.jp","uchinada.ishikawa.jp","wajima.ishikawa.jp","fudai.iwate.jp","fujisawa.iwate.jp","hanamaki.iwate.jp","hiraizumi.iwate.jp","hirono.iwate.jp","ichinohe.iwate.jp","ichinoseki.iwate.jp","iwaizumi.iwate.jp","iwate.iwate.jp","joboji.iwate.jp","kamaishi.iwate.jp","kanegasaki.iwate.jp","karumai.iwate.jp","kawai.iwate.jp","kitakami.iwate.jp","kuji.iwate.jp","kunohe.iwate.jp","kuzumaki.iwate.jp","miyako.iwate.jp","mizusawa.iwate.jp","morioka.iwate.jp","ninohe.iwate.jp","noda.iwate.jp","ofunato.iwate.jp","oshu.iwate.jp","otsuchi.iwate.jp","rikuzentakata.iwate.jp","shiwa.iwate.jp","shizukuishi.iwate.jp","sumita.iwate.jp","tanohata.iwate.jp","tono.iwate.jp","yahaba.iwate.jp","yamada.iwate.jp","ayagawa.kagawa.jp","higashikagawa.kagawa.jp","kanonji.kagawa.jp","kotohira.kagawa.jp","manno.kagawa.jp","marugame.kagawa.jp","mitoyo.kagawa.jp","naoshima.kagawa.jp","sanuki.kagawa.jp","tadotsu.kagawa.jp","takamatsu.kagawa.jp","tonosho.kagawa.jp","uchinomi.kagawa.jp","utazu.kagawa.jp","zentsuji.kagawa.jp","akune.kagoshima.jp","amami.kagoshima.jp","hioki.kagoshima.jp","isa.kagoshima.jp","isen.kagoshima.jp","izumi.kagoshima.jp","kagoshima.kagoshima.jp","kanoya.kagoshima.jp","kawanabe.kagoshima.jp","kinko.kagoshima.jp","kouyama.kagoshima.jp","makurazaki.kagoshima.jp","matsumoto.kagoshima.jp","minamitane.kagoshima.jp","nakatane.kagoshima.jp","nishinoomote.kagoshima.jp","satsumasendai.kagoshima.jp","soo.kagoshima.jp","tarumizu.kagoshima.jp","yusui.kagoshima.jp","aikawa.kanagawa.jp","atsugi.kanagawa.jp","ayase.kanagawa.jp","chigasaki.kanagawa.jp","ebina.kanagawa.jp","fujisawa.kanagawa.jp","hadano.kanagawa.jp","hakone.kanagawa.jp","hiratsuka.kanagawa.jp","isehara.kanagawa.jp","kaisei.kanagawa.jp","kamakura.kanagawa.jp","kiyokawa.kanagawa.jp","matsuda.kanagawa.jp","minamiashigara.kanagawa.jp","miura.kanagawa.jp","nakai.kanagawa.jp","ninomiya.kanagawa.jp","odawara.kanagawa.jp","oi.kanagawa.jp","oiso.kanagawa.jp","sagamihara.kanagawa.jp","samukawa.kanagawa.jp","tsukui.kanagawa.jp","yamakita.kanagawa.jp","yamato.kanagawa.jp","yokosuka.kanagawa.jp","yugawara.kanagawa.jp","zama.kanagawa.jp","zushi.kanagawa.jp","aki.kochi.jp","geisei.kochi.jp","hidaka.kochi.jp","higashitsuno.kochi.jp","ino.kochi.jp","kagami.kochi.jp","kami.kochi.jp","kitagawa.kochi.jp","kochi.kochi.jp","mihara.kochi.jp","motoyama.kochi.jp","muroto.kochi.jp","nahari.kochi.jp","nakamura.kochi.jp","nankoku.kochi.jp","nishitosa.kochi.jp","niyodogawa.kochi.jp","ochi.kochi.jp","okawa.kochi.jp","otoyo.kochi.jp","otsuki.kochi.jp","sakawa.kochi.jp","sukumo.kochi.jp","susaki.kochi.jp","tosa.kochi.jp","tosashimizu.kochi.jp","toyo.kochi.jp","tsuno.kochi.jp","umaji.kochi.jp","yasuda.kochi.jp","yusuhara.kochi.jp","amakusa.kumamoto.jp","arao.kumamoto.jp","aso.kumamoto.jp","choyo.kumamoto.jp","gyokuto.kumamoto.jp","kamiamakusa.kumamoto.jp","kikuchi.kumamoto.jp","kumamoto.kumamoto.jp","mashiki.kumamoto.jp","mifune.kumamoto.jp","minamata.kumamoto.jp","minamioguni.kumamoto.jp","nagasu.kumamoto.jp","nishihara.kumamoto.jp","oguni.kumamoto.jp","ozu.kumamoto.jp","sumoto.kumamoto.jp","takamori.kumamoto.jp","uki.kumamoto.jp","uto.kumamoto.jp","yamaga.kumamoto.jp","yamato.kumamoto.jp","yatsushiro.kumamoto.jp","ayabe.kyoto.jp","fukuchiyama.kyoto.jp","higashiyama.kyoto.jp","ide.kyoto.jp","ine.kyoto.jp","joyo.kyoto.jp","kameoka.kyoto.jp","kamo.kyoto.jp","kita.kyoto.jp","kizu.kyoto.jp","kumiyama.kyoto.jp","kyotamba.kyoto.jp","kyotanabe.kyoto.jp","kyotango.kyoto.jp","maizuru.kyoto.jp","minami.kyoto.jp","minamiyamashiro.kyoto.jp","miyazu.kyoto.jp","muko.kyoto.jp","nagaokakyo.kyoto.jp","nakagyo.kyoto.jp","nantan.kyoto.jp","oyamazaki.kyoto.jp","sakyo.kyoto.jp","seika.kyoto.jp","tanabe.kyoto.jp","uji.kyoto.jp","ujitawara.kyoto.jp","wazuka.kyoto.jp","yamashina.kyoto.jp","yawata.kyoto.jp","asahi.mie.jp","inabe.mie.jp","ise.mie.jp","kameyama.mie.jp","kawagoe.mie.jp","kiho.mie.jp","kisosaki.mie.jp","kiwa.mie.jp","komono.mie.jp","kumano.mie.jp","kuwana.mie.jp","matsusaka.mie.jp","meiwa.mie.jp","mihama.mie.jp","minamiise.mie.jp","misugi.mie.jp","miyama.mie.jp","nabari.mie.jp","shima.mie.jp","suzuka.mie.jp","tado.mie.jp","taiki.mie.jp","taki.mie.jp","tamaki.mie.jp","toba.mie.jp","tsu.mie.jp","udono.mie.jp","ureshino.mie.jp","watarai.mie.jp","yokkaichi.mie.jp","furukawa.miyagi.jp","higashimatsushima.miyagi.jp","ishinomaki.miyagi.jp","iwanuma.miyagi.jp","kakuda.miyagi.jp","kami.miyagi.jp","kawasaki.miyagi.jp","marumori.miyagi.jp","matsushima.miyagi.jp","minamisanriku.miyagi.jp","misato.miyagi.jp","murata.miyagi.jp","natori.miyagi.jp","ogawara.miyagi.jp","ohira.miyagi.jp","onagawa.miyagi.jp","osaki.miyagi.jp","rifu.miyagi.jp","semine.miyagi.jp","shibata.miyagi.jp","shichikashuku.miyagi.jp","shikama.miyagi.jp","shiogama.miyagi.jp","shiroishi.miyagi.jp","tagajo.miyagi.jp","taiwa.miyagi.jp","tome.miyagi.jp","tomiya.miyagi.jp","wakuya.miyagi.jp","watari.miyagi.jp","yamamoto.miyagi.jp","zao.miyagi.jp","aya.miyazaki.jp","ebino.miyazaki.jp","gokase.miyazaki.jp","hyuga.miyazaki.jp","kadogawa.miyazaki.jp","kawaminami.miyazaki.jp","kijo.miyazaki.jp","kitagawa.miyazaki.jp","kitakata.miyazaki.jp","kitaura.miyazaki.jp","kobayashi.miyazaki.jp","kunitomi.miyazaki.jp","kushima.miyazaki.jp","mimata.miyazaki.jp","miyakonojo.miyazaki.jp","miyazaki.miyazaki.jp","morotsuka.miyazaki.jp","nichinan.miyazaki.jp","nishimera.miyazaki.jp","nobeoka.miyazaki.jp","saito.miyazaki.jp","shiiba.miyazaki.jp","shintomi.miyazaki.jp","takaharu.miyazaki.jp","takanabe.miyazaki.jp","takazaki.miyazaki.jp","tsuno.miyazaki.jp","achi.nagano.jp","agematsu.nagano.jp","anan.nagano.jp","aoki.nagano.jp","asahi.nagano.jp","azumino.nagano.jp","chikuhoku.nagano.jp","chikuma.nagano.jp","chino.nagano.jp","fujimi.nagano.jp","hakuba.nagano.jp","hara.nagano.jp","hiraya.nagano.jp","iida.nagano.jp","iijima.nagano.jp","iiyama.nagano.jp","iizuna.nagano.jp","ikeda.nagano.jp","ikusaka.nagano.jp","ina.nagano.jp","karuizawa.nagano.jp","kawakami.nagano.jp","kiso.nagano.jp","kisofukushima.nagano.jp","kitaaiki.nagano.jp","komagane.nagano.jp","komoro.nagano.jp","matsukawa.nagano.jp","matsumoto.nagano.jp","miasa.nagano.jp","minamiaiki.nagano.jp","minamimaki.nagano.jp","minamiminowa.nagano.jp","minowa.nagano.jp","miyada.nagano.jp","miyota.nagano.jp","mochizuki.nagano.jp","nagano.nagano.jp","nagawa.nagano.jp","nagiso.nagano.jp","nakagawa.nagano.jp","nakano.nagano.jp","nozawaonsen.nagano.jp","obuse.nagano.jp","ogawa.nagano.jp","okaya.nagano.jp","omachi.nagano.jp","omi.nagano.jp","ookuwa.nagano.jp","ooshika.nagano.jp","otaki.nagano.jp","otari.nagano.jp","sakae.nagano.jp","sakaki.nagano.jp","saku.nagano.jp","sakuho.nagano.jp","shimosuwa.nagano.jp","shinanomachi.nagano.jp","shiojiri.nagano.jp","suwa.nagano.jp","suzaka.nagano.jp","takagi.nagano.jp","takamori.nagano.jp","takayama.nagano.jp","tateshina.nagano.jp","tatsuno.nagano.jp","togakushi.nagano.jp","togura.nagano.jp","tomi.nagano.jp","ueda.nagano.jp","wada.nagano.jp","yamagata.nagano.jp","yamanouchi.nagano.jp","yasaka.nagano.jp","yasuoka.nagano.jp","chijiwa.nagasaki.jp","futsu.nagasaki.jp","goto.nagasaki.jp","hasami.nagasaki.jp","hirado.nagasaki.jp","iki.nagasaki.jp","isahaya.nagasaki.jp","kawatana.nagasaki.jp","kuchinotsu.nagasaki.jp","matsuura.nagasaki.jp","nagasaki.nagasaki.jp","obama.nagasaki.jp","omura.nagasaki.jp","oseto.nagasaki.jp","saikai.nagasaki.jp","sasebo.nagasaki.jp","seihi.nagasaki.jp","shimabara.nagasaki.jp","shinkamigoto.nagasaki.jp","togitsu.nagasaki.jp","tsushima.nagasaki.jp","unzen.nagasaki.jp","ando.nara.jp","gose.nara.jp","heguri.nara.jp","higashiyoshino.nara.jp","ikaruga.nara.jp","ikoma.nara.jp","kamikitayama.nara.jp","kanmaki.nara.jp","kashiba.nara.jp","kashihara.nara.jp","katsuragi.nara.jp","kawai.nara.jp","kawakami.nara.jp","kawanishi.nara.jp","koryo.nara.jp","kurotaki.nara.jp","mitsue.nara.jp","miyake.nara.jp","nara.nara.jp","nosegawa.nara.jp","oji.nara.jp","ouda.nara.jp","oyodo.nara.jp","sakurai.nara.jp","sango.nara.jp","shimoichi.nara.jp","shimokitayama.nara.jp","shinjo.nara.jp","soni.nara.jp","takatori.nara.jp","tawaramoto.nara.jp","tenkawa.nara.jp","tenri.nara.jp","uda.nara.jp","yamatokoriyama.nara.jp","yamatotakada.nara.jp","yamazoe.nara.jp","yoshino.nara.jp","aga.niigata.jp","agano.niigata.jp","gosen.niigata.jp","itoigawa.niigata.jp","izumozaki.niigata.jp","joetsu.niigata.jp","kamo.niigata.jp","kariwa.niigata.jp","kashiwazaki.niigata.jp","minamiuonuma.niigata.jp","mitsuke.niigata.jp","muika.niigata.jp","murakami.niigata.jp","myoko.niigata.jp","nagaoka.niigata.jp","niigata.niigata.jp","ojiya.niigata.jp","omi.niigata.jp","sado.niigata.jp","sanjo.niigata.jp","seiro.niigata.jp","seirou.niigata.jp","sekikawa.niigata.jp","shibata.niigata.jp","tagami.niigata.jp","tainai.niigata.jp","tochio.niigata.jp","tokamachi.niigata.jp","tsubame.niigata.jp","tsunan.niigata.jp","uonuma.niigata.jp","yahiko.niigata.jp","yoita.niigata.jp","yuzawa.niigata.jp","beppu.oita.jp","bungoono.oita.jp","bungotakada.oita.jp","hasama.oita.jp","hiji.oita.jp","himeshima.oita.jp","hita.oita.jp","kamitsue.oita.jp","kokonoe.oita.jp","kuju.oita.jp","kunisaki.oita.jp","kusu.oita.jp","oita.oita.jp","saiki.oita.jp","taketa.oita.jp","tsukumi.oita.jp","usa.oita.jp","usuki.oita.jp","yufu.oita.jp","akaiwa.okayama.jp","asakuchi.okayama.jp","bizen.okayama.jp","hayashima.okayama.jp","ibara.okayama.jp","kagamino.okayama.jp","kasaoka.okayama.jp","kibichuo.okayama.jp","kumenan.okayama.jp","kurashiki.okayama.jp","maniwa.okayama.jp","misaki.okayama.jp","nagi.okayama.jp","niimi.okayama.jp","nishiawakura.okayama.jp","okayama.okayama.jp","satosho.okayama.jp","setouchi.okayama.jp","shinjo.okayama.jp","shoo.okayama.jp","soja.okayama.jp","takahashi.okayama.jp","tamano.okayama.jp","tsuyama.okayama.jp","wake.okayama.jp","yakage.okayama.jp","aguni.okinawa.jp","ginowan.okinawa.jp","ginoza.okinawa.jp","gushikami.okinawa.jp","haebaru.okinawa.jp","higashi.okinawa.jp","hirara.okinawa.jp","iheya.okinawa.jp","ishigaki.okinawa.jp","ishikawa.okinawa.jp","itoman.okinawa.jp","izena.okinawa.jp","kadena.okinawa.jp","kin.okinawa.jp","kitadaito.okinawa.jp","kitanakagusuku.okinawa.jp","kumejima.okinawa.jp","kunigami.okinawa.jp","minamidaito.okinawa.jp","motobu.okinawa.jp","nago.okinawa.jp","naha.okinawa.jp","nakagusuku.okinawa.jp","nakijin.okinawa.jp","nanjo.okinawa.jp","nishihara.okinawa.jp","ogimi.okinawa.jp","okinawa.okinawa.jp","onna.okinawa.jp","shimoji.okinawa.jp","taketomi.okinawa.jp","tarama.okinawa.jp","tokashiki.okinawa.jp","tomigusuku.okinawa.jp","tonaki.okinawa.jp","urasoe.okinawa.jp","uruma.okinawa.jp","yaese.okinawa.jp","yomitan.okinawa.jp","yonabaru.okinawa.jp","yonaguni.okinawa.jp","zamami.okinawa.jp","abeno.osaka.jp","chihayaakasaka.osaka.jp","chuo.osaka.jp","daito.osaka.jp","fujiidera.osaka.jp","habikino.osaka.jp","hannan.osaka.jp","higashiosaka.osaka.jp","higashisumiyoshi.osaka.jp","higashiyodogawa.osaka.jp","hirakata.osaka.jp","ibaraki.osaka.jp","ikeda.osaka.jp","izumi.osaka.jp","izumiotsu.osaka.jp","izumisano.osaka.jp","kadoma.osaka.jp","kaizuka.osaka.jp","kanan.osaka.jp","kashiwara.osaka.jp","katano.osaka.jp","kawachinagano.osaka.jp","kishiwada.osaka.jp","kita.osaka.jp","kumatori.osaka.jp","matsubara.osaka.jp","minato.osaka.jp","minoh.osaka.jp","misaki.osaka.jp","moriguchi.osaka.jp","neyagawa.osaka.jp","nishi.osaka.jp","nose.osaka.jp","osakasayama.osaka.jp","sakai.osaka.jp","sayama.osaka.jp","sennan.osaka.jp","settsu.osaka.jp","shijonawate.osaka.jp","shimamoto.osaka.jp","suita.osaka.jp","tadaoka.osaka.jp","taishi.osaka.jp","tajiri.osaka.jp","takaishi.osaka.jp","takatsuki.osaka.jp","tondabayashi.osaka.jp","toyonaka.osaka.jp","toyono.osaka.jp","yao.osaka.jp","ariake.saga.jp","arita.saga.jp","fukudomi.saga.jp","genkai.saga.jp","hamatama.saga.jp","hizen.saga.jp","imari.saga.jp","kamimine.saga.jp","kanzaki.saga.jp","karatsu.saga.jp","kashima.saga.jp","kitagata.saga.jp","kitahata.saga.jp","kiyama.saga.jp","kouhoku.saga.jp","kyuragi.saga.jp","nishiarita.saga.jp","ogi.saga.jp","omachi.saga.jp","ouchi.saga.jp","saga.saga.jp","shiroishi.saga.jp","taku.saga.jp","tara.saga.jp","tosu.saga.jp","yoshinogari.saga.jp","arakawa.saitama.jp","asaka.saitama.jp","chichibu.saitama.jp","fujimi.saitama.jp","fujimino.saitama.jp","fukaya.saitama.jp","hanno.saitama.jp","hanyu.saitama.jp","hasuda.saitama.jp","hatogaya.saitama.jp","hatoyama.saitama.jp","hidaka.saitama.jp","higashichichibu.saitama.jp","higashimatsuyama.saitama.jp","honjo.saitama.jp","ina.saitama.jp","iruma.saitama.jp","iwatsuki.saitama.jp","kamiizumi.saitama.jp","kamikawa.saitama.jp","kamisato.saitama.jp","kasukabe.saitama.jp","kawagoe.saitama.jp","kawaguchi.saitama.jp","kawajima.saitama.jp","kazo.saitama.jp","kitamoto.saitama.jp","koshigaya.saitama.jp","kounosu.saitama.jp","kuki.saitama.jp","kumagaya.saitama.jp","matsubushi.saitama.jp","minano.saitama.jp","misato.saitama.jp","miyashiro.saitama.jp","miyoshi.saitama.jp","moroyama.saitama.jp","nagatoro.saitama.jp","namegawa.saitama.jp","niiza.saitama.jp","ogano.saitama.jp","ogawa.saitama.jp","ogose.saitama.jp","okegawa.saitama.jp","omiya.saitama.jp","otaki.saitama.jp","ranzan.saitama.jp","ryokami.saitama.jp","saitama.saitama.jp","sakado.saitama.jp","satte.saitama.jp","sayama.saitama.jp","shiki.saitama.jp","shiraoka.saitama.jp","soka.saitama.jp","sugito.saitama.jp","toda.saitama.jp","tokigawa.saitama.jp","tokorozawa.saitama.jp","tsurugashima.saitama.jp","urawa.saitama.jp","warabi.saitama.jp","yashio.saitama.jp","yokoze.saitama.jp","yono.saitama.jp","yorii.saitama.jp","yoshida.saitama.jp","yoshikawa.saitama.jp","yoshimi.saitama.jp","aisho.shiga.jp","gamo.shiga.jp","higashiomi.shiga.jp","hikone.shiga.jp","koka.shiga.jp","konan.shiga.jp","kosei.shiga.jp","koto.shiga.jp","kusatsu.shiga.jp","maibara.shiga.jp","moriyama.shiga.jp","nagahama.shiga.jp","nishiazai.shiga.jp","notogawa.shiga.jp","omihachiman.shiga.jp","otsu.shiga.jp","ritto.shiga.jp","ryuoh.shiga.jp","takashima.shiga.jp","takatsuki.shiga.jp","torahime.shiga.jp","toyosato.shiga.jp","yasu.shiga.jp","akagi.shimane.jp","ama.shimane.jp","gotsu.shimane.jp","hamada.shimane.jp","higashiizumo.shimane.jp","hikawa.shimane.jp","hikimi.shimane.jp","izumo.shimane.jp","kakinoki.shimane.jp","masuda.shimane.jp","matsue.shimane.jp","misato.shimane.jp","nishinoshima.shimane.jp","ohda.shimane.jp","okinoshima.shimane.jp","okuizumo.shimane.jp","shimane.shimane.jp","tamayu.shimane.jp","tsuwano.shimane.jp","unnan.shimane.jp","yakumo.shimane.jp","yasugi.shimane.jp","yatsuka.shimane.jp","arai.shizuoka.jp","atami.shizuoka.jp","fuji.shizuoka.jp","fujieda.shizuoka.jp","fujikawa.shizuoka.jp","fujinomiya.shizuoka.jp","fukuroi.shizuoka.jp","gotemba.shizuoka.jp","haibara.shizuoka.jp","hamamatsu.shizuoka.jp","higashiizu.shizuoka.jp","ito.shizuoka.jp","iwata.shizuoka.jp","izu.shizuoka.jp","izunokuni.shizuoka.jp","kakegawa.shizuoka.jp","kannami.shizuoka.jp","kawanehon.shizuoka.jp","kawazu.shizuoka.jp","kikugawa.shizuoka.jp","kosai.shizuoka.jp","makinohara.shizuoka.jp","matsuzaki.shizuoka.jp","minamiizu.shizuoka.jp","mishima.shizuoka.jp","morimachi.shizuoka.jp","nishiizu.shizuoka.jp","numazu.shizuoka.jp","omaezaki.shizuoka.jp","shimada.shizuoka.jp","shimizu.shizuoka.jp","shimoda.shizuoka.jp","shizuoka.shizuoka.jp","susono.shizuoka.jp","yaizu.shizuoka.jp","yoshida.shizuoka.jp","ashikaga.tochigi.jp","bato.tochigi.jp","haga.tochigi.jp","ichikai.tochigi.jp","iwafune.tochigi.jp","kaminokawa.tochigi.jp","kanuma.tochigi.jp","karasuyama.tochigi.jp","kuroiso.tochigi.jp","mashiko.tochigi.jp","mibu.tochigi.jp","moka.tochigi.jp","motegi.tochigi.jp","nasu.tochigi.jp","nasushiobara.tochigi.jp","nikko.tochigi.jp","nishikata.tochigi.jp","nogi.tochigi.jp","ohira.tochigi.jp","ohtawara.tochigi.jp","oyama.tochigi.jp","sakura.tochigi.jp","sano.tochigi.jp","shimotsuke.tochigi.jp","shioya.tochigi.jp","takanezawa.tochigi.jp","tochigi.tochigi.jp","tsuga.tochigi.jp","ujiie.tochigi.jp","utsunomiya.tochigi.jp","yaita.tochigi.jp","aizumi.tokushima.jp","anan.tokushima.jp","ichiba.tokushima.jp","itano.tokushima.jp","kainan.tokushima.jp","komatsushima.tokushima.jp","matsushige.tokushima.jp","mima.tokushima.jp","minami.tokushima.jp","miyoshi.tokushima.jp","mugi.tokushima.jp","nakagawa.tokushima.jp","naruto.tokushima.jp","sanagochi.tokushima.jp","shishikui.tokushima.jp","tokushima.tokushima.jp","wajiki.tokushima.jp","adachi.tokyo.jp","akiruno.tokyo.jp","akishima.tokyo.jp","aogashima.tokyo.jp","arakawa.tokyo.jp","bunkyo.tokyo.jp","chiyoda.tokyo.jp","chofu.tokyo.jp","chuo.tokyo.jp","edogawa.tokyo.jp","fuchu.tokyo.jp","fussa.tokyo.jp","hachijo.tokyo.jp","hachioji.tokyo.jp","hamura.tokyo.jp","higashikurume.tokyo.jp","higashimurayama.tokyo.jp","higashiyamato.tokyo.jp","hino.tokyo.jp","hinode.tokyo.jp","hinohara.tokyo.jp","inagi.tokyo.jp","itabashi.tokyo.jp","katsushika.tokyo.jp","kita.tokyo.jp","kiyose.tokyo.jp","kodaira.tokyo.jp","koganei.tokyo.jp","kokubunji.tokyo.jp","komae.tokyo.jp","koto.tokyo.jp","kouzushima.tokyo.jp","kunitachi.tokyo.jp","machida.tokyo.jp","meguro.tokyo.jp","minato.tokyo.jp","mitaka.tokyo.jp","mizuho.tokyo.jp","musashimurayama.tokyo.jp","musashino.tokyo.jp","nakano.tokyo.jp","nerima.tokyo.jp","ogasawara.tokyo.jp","okutama.tokyo.jp","ome.tokyo.jp","oshima.tokyo.jp","ota.tokyo.jp","setagaya.tokyo.jp","shibuya.tokyo.jp","shinagawa.tokyo.jp","shinjuku.tokyo.jp","suginami.tokyo.jp","sumida.tokyo.jp","tachikawa.tokyo.jp","taito.tokyo.jp","tama.tokyo.jp","toshima.tokyo.jp","chizu.tottori.jp","hino.tottori.jp","kawahara.tottori.jp","koge.tottori.jp","kotoura.tottori.jp","misasa.tottori.jp","nanbu.tottori.jp","nichinan.tottori.jp","sakaiminato.tottori.jp","tottori.tottori.jp","wakasa.tottori.jp","yazu.tottori.jp","yonago.tottori.jp","asahi.toyama.jp","fuchu.toyama.jp","fukumitsu.toyama.jp","funahashi.toyama.jp","himi.toyama.jp","imizu.toyama.jp","inami.toyama.jp","johana.toyama.jp","kamiichi.toyama.jp","kurobe.toyama.jp","nakaniikawa.toyama.jp","namerikawa.toyama.jp","nanto.toyama.jp","nyuzen.toyama.jp","oyabe.toyama.jp","taira.toyama.jp","takaoka.toyama.jp","tateyama.toyama.jp","toga.toyama.jp","tonami.toyama.jp","toyama.toyama.jp","unazuki.toyama.jp","uozu.toyama.jp","yamada.toyama.jp","arida.wakayama.jp","aridagawa.wakayama.jp","gobo.wakayama.jp","hashimoto.wakayama.jp","hidaka.wakayama.jp","hirogawa.wakayama.jp","inami.wakayama.jp","iwade.wakayama.jp","kainan.wakayama.jp","kamitonda.wakayama.jp","katsuragi.wakayama.jp","kimino.wakayama.jp","kinokawa.wakayama.jp","kitayama.wakayama.jp","koya.wakayama.jp","koza.wakayama.jp","kozagawa.wakayama.jp","kudoyama.wakayama.jp","kushimoto.wakayama.jp","mihama.wakayama.jp","misato.wakayama.jp","nachikatsuura.wakayama.jp","shingu.wakayama.jp","shirahama.wakayama.jp","taiji.wakayama.jp","tanabe.wakayama.jp","wakayama.wakayama.jp","yuasa.wakayama.jp","yura.wakayama.jp","asahi.yamagata.jp","funagata.yamagata.jp","higashine.yamagata.jp","iide.yamagata.jp","kahoku.yamagata.jp","kaminoyama.yamagata.jp","kaneyama.yamagata.jp","kawanishi.yamagata.jp","mamurogawa.yamagata.jp","mikawa.yamagata.jp","murayama.yamagata.jp","nagai.yamagata.jp","nakayama.yamagata.jp","nanyo.yamagata.jp","nishikawa.yamagata.jp","obanazawa.yamagata.jp","oe.yamagata.jp","oguni.yamagata.jp","ohkura.yamagata.jp","oishida.yamagata.jp","sagae.yamagata.jp","sakata.yamagata.jp","sakegawa.yamagata.jp","shinjo.yamagata.jp","shirataka.yamagata.jp","shonai.yamagata.jp","takahata.yamagata.jp","tendo.yamagata.jp","tozawa.yamagata.jp","tsuruoka.yamagata.jp","yamagata.yamagata.jp","yamanobe.yamagata.jp","yonezawa.yamagata.jp","yuza.yamagata.jp","abu.yamaguchi.jp","hagi.yamaguchi.jp","hikari.yamaguchi.jp","hofu.yamaguchi.jp","iwakuni.yamaguchi.jp","kudamatsu.yamaguchi.jp","mitou.yamaguchi.jp","nagato.yamaguchi.jp","oshima.yamaguchi.jp","shimonoseki.yamaguchi.jp","shunan.yamaguchi.jp","tabuse.yamaguchi.jp","tokuyama.yamaguchi.jp","toyota.yamaguchi.jp","ube.yamaguchi.jp","yuu.yamaguchi.jp","chuo.yamanashi.jp","doshi.yamanashi.jp","fuefuki.yamanashi.jp","fujikawa.yamanashi.jp","fujikawaguchiko.yamanashi.jp","fujiyoshida.yamanashi.jp","hayakawa.yamanashi.jp","hokuto.yamanashi.jp","ichikawamisato.yamanashi.jp","kai.yamanashi.jp","kofu.yamanashi.jp","koshu.yamanashi.jp","kosuge.yamanashi.jp","minami-alps.yamanashi.jp","minobu.yamanashi.jp","nakamichi.yamanashi.jp","nanbu.yamanashi.jp","narusawa.yamanashi.jp","nirasaki.yamanashi.jp","nishikatsura.yamanashi.jp","oshino.yamanashi.jp","otsuki.yamanashi.jp","showa.yamanashi.jp","tabayama.yamanashi.jp","tsuru.yamanashi.jp","uenohara.yamanashi.jp","yamanakako.yamanashi.jp","yamanashi.yamanashi.jp","ke","ac.ke","co.ke","go.ke","info.ke","me.ke","mobi.ke","ne.ke","or.ke","sc.ke","kg","org.kg","net.kg","com.kg","edu.kg","gov.kg","mil.kg","*.kh","ki","edu.ki","biz.ki","net.ki","org.ki","gov.ki","info.ki","com.ki","km","org.km","nom.km","gov.km","prd.km","tm.km","edu.km","mil.km","ass.km","com.km","coop.km","asso.km","presse.km","medecin.km","notaires.km","pharmaciens.km","veterinaire.km","gouv.km","kn","net.kn","org.kn","edu.kn","gov.kn","kp","com.kp","edu.kp","gov.kp","org.kp","rep.kp","tra.kp","kr","ac.kr","co.kr","es.kr","go.kr","hs.kr","kg.kr","mil.kr","ms.kr","ne.kr","or.kr","pe.kr","re.kr","sc.kr","busan.kr","chungbuk.kr","chungnam.kr","daegu.kr","daejeon.kr","gangwon.kr","gwangju.kr","gyeongbuk.kr","gyeonggi.kr","gyeongnam.kr","incheon.kr","jeju.kr","jeonbuk.kr","jeonnam.kr","seoul.kr","ulsan.kr","kw","com.kw","edu.kw","emb.kw","gov.kw","ind.kw","net.kw","org.kw","ky","com.ky","edu.ky","net.ky","org.ky","kz","org.kz","edu.kz","net.kz","gov.kz","mil.kz","com.kz","la","int.la","net.la","info.la","edu.la","gov.la","per.la","com.la","org.la","lb","com.lb","edu.lb","gov.lb","net.lb","org.lb","lc","com.lc","net.lc","co.lc","org.lc","edu.lc","gov.lc","li","lk","gov.lk","sch.lk","net.lk","int.lk","com.lk","org.lk","edu.lk","ngo.lk","soc.lk","web.lk","ltd.lk","assn.lk","grp.lk","hotel.lk","ac.lk","lr","com.lr","edu.lr","gov.lr","org.lr","net.lr","ls","ac.ls","biz.ls","co.ls","edu.ls","gov.ls","info.ls","net.ls","org.ls","sc.ls","lt","gov.lt","lu","lv","com.lv","edu.lv","gov.lv","org.lv","mil.lv","id.lv","net.lv","asn.lv","conf.lv","ly","com.ly","net.ly","gov.ly","plc.ly","edu.ly","sch.ly","med.ly","org.ly","id.ly","ma","co.ma","net.ma","gov.ma","org.ma","ac.ma","press.ma","mc","tm.mc","asso.mc","md","me","co.me","net.me","org.me","edu.me","ac.me","gov.me","its.me","priv.me","mg","org.mg","nom.mg","gov.mg","prd.mg","tm.mg","edu.mg","mil.mg","com.mg","co.mg","mh","mil","mk","com.mk","org.mk","net.mk","edu.mk","gov.mk","inf.mk","name.mk","ml","com.ml","edu.ml","gouv.ml","gov.ml","net.ml","org.ml","presse.ml","*.mm","mn","gov.mn","edu.mn","org.mn","mo","com.mo","net.mo","org.mo","edu.mo","gov.mo","mobi","mp","mq","mr","gov.mr","ms","com.ms","edu.ms","gov.ms","net.ms","org.ms","mt","com.mt","edu.mt","net.mt","org.mt","mu","com.mu","net.mu","org.mu","gov.mu","ac.mu","co.mu","or.mu","museum","academy.museum","agriculture.museum","air.museum","airguard.museum","alabama.museum","alaska.museum","amber.museum","ambulance.museum","american.museum","americana.museum","americanantiques.museum","americanart.museum","amsterdam.museum","and.museum","annefrank.museum","anthro.museum","anthropology.museum","antiques.museum","aquarium.museum","arboretum.museum","archaeological.museum","archaeology.museum","architecture.museum","art.museum","artanddesign.museum","artcenter.museum","artdeco.museum","arteducation.museum","artgallery.museum","arts.museum","artsandcrafts.museum","asmatart.museum","assassination.museum","assisi.museum","association.museum","astronomy.museum","atlanta.museum","austin.museum","australia.museum","automotive.museum","aviation.museum","axis.museum","badajoz.museum","baghdad.museum","bahn.museum","bale.museum","baltimore.museum","barcelona.museum","baseball.museum","basel.museum","baths.museum","bauern.museum","beauxarts.museum","beeldengeluid.museum","bellevue.museum","bergbau.museum","berkeley.museum","berlin.museum","bern.museum","bible.museum","bilbao.museum","bill.museum","birdart.museum","birthplace.museum","bonn.museum","boston.museum","botanical.museum","botanicalgarden.museum","botanicgarden.museum","botany.museum","brandywinevalley.museum","brasil.museum","bristol.museum","british.museum","britishcolumbia.museum","broadcast.museum","brunel.museum","brussel.museum","brussels.museum","bruxelles.museum","building.museum","burghof.museum","bus.museum","bushey.museum","cadaques.museum","california.museum","cambridge.museum","can.museum","canada.museum","capebreton.museum","carrier.museum","cartoonart.museum","casadelamoneda.museum","castle.museum","castres.museum","celtic.museum","center.museum","chattanooga.museum","cheltenham.museum","chesapeakebay.museum","chicago.museum","children.museum","childrens.museum","childrensgarden.museum","chiropractic.museum","chocolate.museum","christiansburg.museum","cincinnati.museum","cinema.museum","circus.museum","civilisation.museum","civilization.museum","civilwar.museum","clinton.museum","clock.museum","coal.museum","coastaldefence.museum","cody.museum","coldwar.museum","collection.museum","colonialwilliamsburg.museum","coloradoplateau.museum","columbia.museum","columbus.museum","communication.museum","communications.museum","community.museum","computer.museum","computerhistory.museum","comunicações.museum","contemporary.museum","contemporaryart.museum","convent.museum","copenhagen.museum","corporation.museum","correios-e-telecomunicações.museum","corvette.museum","costume.museum","countryestate.museum","county.museum","crafts.museum","cranbrook.museum","creation.museum","cultural.museum","culturalcenter.museum","culture.museum","cyber.museum","cymru.museum","dali.museum","dallas.museum","database.museum","ddr.museum","decorativearts.museum","delaware.museum","delmenhorst.museum","denmark.museum","depot.museum","design.museum","detroit.museum","dinosaur.museum","discovery.museum","dolls.museum","donostia.museum","durham.museum","eastafrica.museum","eastcoast.museum","education.museum","educational.museum","egyptian.museum","eisenbahn.museum","elburg.museum","elvendrell.museum","embroidery.museum","encyclopedic.museum","england.museum","entomology.museum","environment.museum","environmentalconservation.museum","epilepsy.museum","essex.museum","estate.museum","ethnology.museum","exeter.museum","exhibition.museum","family.museum","farm.museum","farmequipment.museum","farmers.museum","farmstead.museum","field.museum","figueres.museum","filatelia.museum","film.museum","fineart.museum","finearts.museum","finland.museum","flanders.museum","florida.museum","force.museum","fortmissoula.museum","fortworth.museum","foundation.museum","francaise.museum","frankfurt.museum","franziskaner.museum","freemasonry.museum","freiburg.museum","fribourg.museum","frog.museum","fundacio.museum","furniture.museum","gallery.museum","garden.museum","gateway.museum","geelvinck.museum","gemological.museum","geology.museum","georgia.museum","giessen.museum","glas.museum","glass.museum","gorge.museum","grandrapids.museum","graz.museum","guernsey.museum","halloffame.museum","hamburg.museum","handson.museum","harvestcelebration.museum","hawaii.museum","health.museum","heimatunduhren.museum","hellas.museum","helsinki.museum","hembygdsforbund.museum","heritage.museum","histoire.museum","historical.museum","historicalsociety.museum","historichouses.museum","historisch.museum","historisches.museum","history.museum","historyofscience.museum","horology.museum","house.museum","humanities.museum","illustration.museum","imageandsound.museum","indian.museum","indiana.museum","indianapolis.museum","indianmarket.museum","intelligence.museum","interactive.museum","iraq.museum","iron.museum","isleofman.museum","jamison.museum","jefferson.museum","jerusalem.museum","jewelry.museum","jewish.museum","jewishart.museum","jfk.museum","journalism.museum","judaica.museum","judygarland.museum","juedisches.museum","juif.museum","karate.museum","karikatur.museum","kids.museum","koebenhavn.museum","koeln.museum","kunst.museum","kunstsammlung.museum","kunstunddesign.museum","labor.museum","labour.museum","lajolla.museum","lancashire.museum","landes.museum","lans.museum","läns.museum","larsson.museum","lewismiller.museum","lincoln.museum","linz.museum","living.museum","livinghistory.museum","localhistory.museum","london.museum","losangeles.museum","louvre.museum","loyalist.museum","lucerne.museum","luxembourg.museum","luzern.museum","mad.museum","madrid.museum","mallorca.museum","manchester.museum","mansion.museum","mansions.museum","manx.museum","marburg.museum","maritime.museum","maritimo.museum","maryland.museum","marylhurst.museum","media.museum","medical.museum","medizinhistorisches.museum","meeres.museum","memorial.museum","mesaverde.museum","michigan.museum","midatlantic.museum","military.museum","mill.museum","miners.museum","mining.museum","minnesota.museum","missile.museum","missoula.museum","modern.museum","moma.museum","money.museum","monmouth.museum","monticello.museum","montreal.museum","moscow.museum","motorcycle.museum","muenchen.museum","muenster.museum","mulhouse.museum","muncie.museum","museet.museum","museumcenter.museum","museumvereniging.museum","music.museum","national.museum","nationalfirearms.museum","nationalheritage.museum","nativeamerican.museum","naturalhistory.museum","naturalhistorymuseum.museum","naturalsciences.museum","nature.museum","naturhistorisches.museum","natuurwetenschappen.museum","naumburg.museum","naval.museum","nebraska.museum","neues.museum","newhampshire.museum","newjersey.museum","newmexico.museum","newport.museum","newspaper.museum","newyork.museum","niepce.museum","norfolk.museum","north.museum","nrw.museum","nyc.museum","nyny.museum","oceanographic.museum","oceanographique.museum","omaha.museum","online.museum","ontario.museum","openair.museum","oregon.museum","oregontrail.museum","otago.museum","oxford.museum","pacific.museum","paderborn.museum","palace.museum","paleo.museum","palmsprings.museum","panama.museum","paris.museum","pasadena.museum","pharmacy.museum","philadelphia.museum","philadelphiaarea.museum","philately.museum","phoenix.museum","photography.museum","pilots.museum","pittsburgh.museum","planetarium.museum","plantation.museum","plants.museum","plaza.museum","portal.museum","portland.museum","portlligat.museum","posts-and-telecommunications.museum","preservation.museum","presidio.museum","press.museum","project.museum","public.museum","pubol.museum","quebec.museum","railroad.museum","railway.museum","research.museum","resistance.museum","riodejaneiro.museum","rochester.museum","rockart.museum","roma.museum","russia.museum","saintlouis.museum","salem.museum","salvadordali.museum","salzburg.museum","sandiego.museum","sanfrancisco.museum","santabarbara.museum","santacruz.museum","santafe.museum","saskatchewan.museum","satx.museum","savannahga.museum","schlesisches.museum","schoenbrunn.museum","schokoladen.museum","school.museum","schweiz.museum","science.museum","scienceandhistory.museum","scienceandindustry.museum","sciencecenter.museum","sciencecenters.museum","science-fiction.museum","sciencehistory.museum","sciences.museum","sciencesnaturelles.museum","scotland.museum","seaport.museum","settlement.museum","settlers.museum","shell.museum","sherbrooke.museum","sibenik.museum","silk.museum","ski.museum","skole.museum","society.museum","sologne.museum","soundandvision.museum","southcarolina.museum","southwest.museum","space.museum","spy.museum","square.museum","stadt.museum","stalbans.museum","starnberg.museum","state.museum","stateofdelaware.museum","station.museum","steam.museum","steiermark.museum","stjohn.museum","stockholm.museum","stpetersburg.museum","stuttgart.museum","suisse.museum","surgeonshall.museum","surrey.museum","svizzera.museum","sweden.museum","sydney.museum","tank.museum","tcm.museum","technology.museum","telekommunikation.museum","television.museum","texas.museum","textile.museum","theater.museum","time.museum","timekeeping.museum","topology.museum","torino.museum","touch.museum","town.museum","transport.museum","tree.museum","trolley.museum","trust.museum","trustee.museum","uhren.museum","ulm.museum","undersea.museum","university.museum","usa.museum","usantiques.museum","usarts.museum","uscountryestate.museum","usculture.museum","usdecorativearts.museum","usgarden.museum","ushistory.museum","ushuaia.museum","uslivinghistory.museum","utah.museum","uvic.museum","valley.museum","vantaa.museum","versailles.museum","viking.museum","village.museum","virginia.museum","virtual.museum","virtuel.museum","vlaanderen.museum","volkenkunde.museum","wales.museum","wallonie.museum","war.museum","washingtondc.museum","watchandclock.museum","watch-and-clock.museum","western.museum","westfalen.museum","whaling.museum","wildlife.museum","williamsburg.museum","windmill.museum","workshop.museum","york.museum","yorkshire.museum","yosemite.museum","youth.museum","zoological.museum","zoology.museum","ירושלים.museum","иком.museum","mv","aero.mv","biz.mv","com.mv","coop.mv","edu.mv","gov.mv","info.mv","int.mv","mil.mv","museum.mv","name.mv","net.mv","org.mv","pro.mv","mw","ac.mw","biz.mw","co.mw","com.mw","coop.mw","edu.mw","gov.mw","int.mw","museum.mw","net.mw","org.mw","mx","com.mx","org.mx","gob.mx","edu.mx","net.mx","my","biz.my","com.my","edu.my","gov.my","mil.my","name.my","net.my","org.my","mz","ac.mz","adv.mz","co.mz","edu.mz","gov.mz","mil.mz","net.mz","org.mz","na","info.na","pro.na","name.na","school.na","or.na","dr.na","us.na","mx.na","ca.na","in.na","cc.na","tv.na","ws.na","mobi.na","co.na","com.na","org.na","name","nc","asso.nc","nom.nc","ne","net","nf","com.nf","net.nf","per.nf","rec.nf","web.nf","arts.nf","firm.nf","info.nf","other.nf","store.nf","ng","com.ng","edu.ng","gov.ng","i.ng","mil.ng","mobi.ng","name.ng","net.ng","org.ng","sch.ng","ni","ac.ni","biz.ni","co.ni","com.ni","edu.ni","gob.ni","in.ni","info.ni","int.ni","mil.ni","net.ni","nom.ni","org.ni","web.ni","nl","no","fhs.no","vgs.no","fylkesbibl.no","folkebibl.no","museum.no","idrett.no","priv.no","mil.no","stat.no","dep.no","kommune.no","herad.no","aa.no","ah.no","bu.no","fm.no","hl.no","hm.no","jan-mayen.no","mr.no","nl.no","nt.no","of.no","ol.no","oslo.no","rl.no","sf.no","st.no","svalbard.no","tm.no","tr.no","va.no","vf.no","gs.aa.no","gs.ah.no","gs.bu.no","gs.fm.no","gs.hl.no","gs.hm.no","gs.jan-mayen.no","gs.mr.no","gs.nl.no","gs.nt.no","gs.of.no","gs.ol.no","gs.oslo.no","gs.rl.no","gs.sf.no","gs.st.no","gs.svalbard.no","gs.tm.no","gs.tr.no","gs.va.no","gs.vf.no","akrehamn.no","åkrehamn.no","algard.no","ålgård.no","arna.no","brumunddal.no","bryne.no","bronnoysund.no","brønnøysund.no","drobak.no","drøbak.no","egersund.no","fetsund.no","floro.no","florø.no","fredrikstad.no","hokksund.no","honefoss.no","hønefoss.no","jessheim.no","jorpeland.no","jørpeland.no","kirkenes.no","kopervik.no","krokstadelva.no","langevag.no","langevåg.no","leirvik.no","mjondalen.no","mjøndalen.no","mo-i-rana.no","mosjoen.no","mosjøen.no","nesoddtangen.no","orkanger.no","osoyro.no","osøyro.no","raholt.no","råholt.no","sandnessjoen.no","sandnessjøen.no","skedsmokorset.no","slattum.no","spjelkavik.no","stathelle.no","stavern.no","stjordalshalsen.no","stjørdalshalsen.no","tananger.no","tranby.no","vossevangen.no","afjord.no","åfjord.no","agdenes.no","al.no","ål.no","alesund.no","ålesund.no","alstahaug.no","alta.no","áltá.no","alaheadju.no","álaheadju.no","alvdal.no","amli.no","åmli.no","amot.no","åmot.no","andebu.no","andoy.no","andøy.no","andasuolo.no","ardal.no","årdal.no","aremark.no","arendal.no","ås.no","aseral.no","åseral.no","asker.no","askim.no","askvoll.no","askoy.no","askøy.no","asnes.no","åsnes.no","audnedaln.no","aukra.no","aure.no","aurland.no","aurskog-holand.no","aurskog-høland.no","austevoll.no","austrheim.no","averoy.no","averøy.no","balestrand.no","ballangen.no","balat.no","bálát.no","balsfjord.no","bahccavuotna.no","báhccavuotna.no","bamble.no","bardu.no","beardu.no","beiarn.no","bajddar.no","bájddar.no","baidar.no","báidár.no","berg.no","bergen.no","berlevag.no","berlevåg.no","bearalvahki.no","bearalváhki.no","bindal.no","birkenes.no","bjarkoy.no","bjarkøy.no","bjerkreim.no","bjugn.no","bodo.no","bodø.no","badaddja.no","bådåddjå.no","budejju.no","bokn.no","bremanger.no","bronnoy.no","brønnøy.no","bygland.no","bykle.no","barum.no","bærum.no","bo.telemark.no","bø.telemark.no","bo.nordland.no","bø.nordland.no","bievat.no","bievát.no","bomlo.no","bømlo.no","batsfjord.no","båtsfjord.no","bahcavuotna.no","báhcavuotna.no","dovre.no","drammen.no","drangedal.no","dyroy.no","dyrøy.no","donna.no","dønna.no","eid.no","eidfjord.no","eidsberg.no","eidskog.no","eidsvoll.no","eigersund.no","elverum.no","enebakk.no","engerdal.no","etne.no","etnedal.no","evenes.no","evenassi.no","evenášši.no","evje-og-hornnes.no","farsund.no","fauske.no","fuossko.no","fuoisku.no","fedje.no","fet.no","finnoy.no","finnøy.no","fitjar.no","fjaler.no","fjell.no","flakstad.no","flatanger.no","flekkefjord.no","flesberg.no","flora.no","fla.no","flå.no","folldal.no","forsand.no","fosnes.no","frei.no","frogn.no","froland.no","frosta.no","frana.no","fræna.no","froya.no","frøya.no","fusa.no","fyresdal.no","forde.no","førde.no","gamvik.no","gangaviika.no","gáŋgaviika.no","gaular.no","gausdal.no","gildeskal.no","gildeskål.no","giske.no","gjemnes.no","gjerdrum.no","gjerstad.no","gjesdal.no","gjovik.no","gjøvik.no","gloppen.no","gol.no","gran.no","grane.no","granvin.no","gratangen.no","grimstad.no","grong.no","kraanghke.no","kråanghke.no","grue.no","gulen.no","hadsel.no","halden.no","halsa.no","hamar.no","hamaroy.no","habmer.no","hábmer.no","hapmir.no","hápmir.no","hammerfest.no","hammarfeasta.no","hámmárfeasta.no","haram.no","hareid.no","harstad.no","hasvik.no","aknoluokta.no","ákŋoluokta.no","hattfjelldal.no","aarborte.no","haugesund.no","hemne.no","hemnes.no","hemsedal.no","heroy.more-og-romsdal.no","herøy.møre-og-romsdal.no","heroy.nordland.no","herøy.nordland.no","hitra.no","hjartdal.no","hjelmeland.no","hobol.no","hobøl.no","hof.no","hol.no","hole.no","holmestrand.no","holtalen.no","holtålen.no","hornindal.no","horten.no","hurdal.no","hurum.no","hvaler.no","hyllestad.no","hagebostad.no","hægebostad.no","hoyanger.no","høyanger.no","hoylandet.no","høylandet.no","ha.no","hå.no","ibestad.no","inderoy.no","inderøy.no","iveland.no","jevnaker.no","jondal.no","jolster.no","jølster.no","karasjok.no","karasjohka.no","kárášjohka.no","karlsoy.no","galsa.no","gálsá.no","karmoy.no","karmøy.no","kautokeino.no","guovdageaidnu.no","klepp.no","klabu.no","klæbu.no","kongsberg.no","kongsvinger.no","kragero.no","kragerø.no","kristiansand.no","kristiansund.no","krodsherad.no","krødsherad.no","kvalsund.no","rahkkeravju.no","ráhkkerávju.no","kvam.no","kvinesdal.no","kvinnherad.no","kviteseid.no","kvitsoy.no","kvitsøy.no","kvafjord.no","kvæfjord.no","giehtavuoatna.no","kvanangen.no","kvænangen.no","navuotna.no","návuotna.no","kafjord.no","kåfjord.no","gaivuotna.no","gáivuotna.no","larvik.no","lavangen.no","lavagis.no","loabat.no","loabát.no","lebesby.no","davvesiida.no","leikanger.no","leirfjord.no","leka.no","leksvik.no","lenvik.no","leangaviika.no","leaŋgaviika.no","lesja.no","levanger.no","lier.no","lierne.no","lillehammer.no","lillesand.no","lindesnes.no","lindas.no","lindås.no","lom.no","loppa.no","lahppi.no","láhppi.no","lund.no","lunner.no","luroy.no","lurøy.no","luster.no","lyngdal.no","lyngen.no","ivgu.no","lardal.no","lerdal.no","lærdal.no","lodingen.no","lødingen.no","lorenskog.no","lørenskog.no","loten.no","løten.no","malvik.no","masoy.no","måsøy.no","muosat.no","muosát.no","mandal.no","marker.no","marnardal.no","masfjorden.no","meland.no","meldal.no","melhus.no","meloy.no","meløy.no","meraker.no","meråker.no","moareke.no","moåreke.no","midsund.no","midtre-gauldal.no","modalen.no","modum.no","molde.no","moskenes.no","moss.no","mosvik.no","malselv.no","målselv.no","malatvuopmi.no","málatvuopmi.no","namdalseid.no","aejrie.no","namsos.no","namsskogan.no","naamesjevuemie.no","nååmesjevuemie.no","laakesvuemie.no","nannestad.no","narvik.no","narviika.no","naustdal.no","nedre-eiker.no","nes.akershus.no","nes.buskerud.no","nesna.no","nesodden.no","nesseby.no","unjarga.no","unjárga.no","nesset.no","nissedal.no","nittedal.no","nord-aurdal.no","nord-fron.no","nord-odal.no","norddal.no","nordkapp.no","davvenjarga.no","davvenjárga.no","nordre-land.no","nordreisa.no","raisa.no","ráisa.no","nore-og-uvdal.no","notodden.no","naroy.no","nærøy.no","notteroy.no","nøtterøy.no","odda.no","oksnes.no","øksnes.no","oppdal.no","oppegard.no","oppegård.no","orkdal.no","orland.no","ørland.no","orskog.no","ørskog.no","orsta.no","ørsta.no","os.hedmark.no","os.hordaland.no","osen.no","osteroy.no","osterøy.no","ostre-toten.no","østre-toten.no","overhalla.no","ovre-eiker.no","øvre-eiker.no","oyer.no","øyer.no","oygarden.no","øygarden.no","oystre-slidre.no","øystre-slidre.no","porsanger.no","porsangu.no","porsáŋgu.no","porsgrunn.no","radoy.no","radøy.no","rakkestad.no","rana.no","ruovat.no","randaberg.no","rauma.no","rendalen.no","rennebu.no","rennesoy.no","rennesøy.no","rindal.no","ringebu.no","ringerike.no","ringsaker.no","rissa.no","risor.no","risør.no","roan.no","rollag.no","rygge.no","ralingen.no","rælingen.no","rodoy.no","rødøy.no","romskog.no","rømskog.no","roros.no","røros.no","rost.no","røst.no","royken.no","røyken.no","royrvik.no","røyrvik.no","rade.no","råde.no","salangen.no","siellak.no","saltdal.no","salat.no","sálát.no","sálat.no","samnanger.no","sande.more-og-romsdal.no","sande.møre-og-romsdal.no","sande.vestfold.no","sandefjord.no","sandnes.no","sandoy.no","sandøy.no","sarpsborg.no","sauda.no","sauherad.no","sel.no","selbu.no","selje.no","seljord.no","sigdal.no","siljan.no","sirdal.no","skaun.no","skedsmo.no","ski.no","skien.no","skiptvet.no","skjervoy.no","skjervøy.no","skierva.no","skiervá.no","skjak.no","skjåk.no","skodje.no","skanland.no","skånland.no","skanit.no","skánit.no","smola.no","smøla.no","snillfjord.no","snasa.no","snåsa.no","snoasa.no","snaase.no","snåase.no","sogndal.no","sokndal.no","sola.no","solund.no","songdalen.no","sortland.no","spydeberg.no","stange.no","stavanger.no","steigen.no","steinkjer.no","stjordal.no","stjørdal.no","stokke.no","stor-elvdal.no","stord.no","stordal.no","storfjord.no","omasvuotna.no","strand.no","stranda.no","stryn.no","sula.no","suldal.no","sund.no","sunndal.no","surnadal.no","sveio.no","svelvik.no","sykkylven.no","sogne.no","søgne.no","somna.no","sømna.no","sondre-land.no","søndre-land.no","sor-aurdal.no","sør-aurdal.no","sor-fron.no","sør-fron.no","sor-odal.no","sør-odal.no","sor-varanger.no","sør-varanger.no","matta-varjjat.no","mátta-várjjat.no","sorfold.no","sørfold.no","sorreisa.no","sørreisa.no","sorum.no","sørum.no","tana.no","deatnu.no","time.no","tingvoll.no","tinn.no","tjeldsund.no","dielddanuorri.no","tjome.no","tjøme.no","tokke.no","tolga.no","torsken.no","tranoy.no","tranøy.no","tromso.no","tromsø.no","tromsa.no","romsa.no","trondheim.no","troandin.no","trysil.no","trana.no","træna.no","trogstad.no","trøgstad.no","tvedestrand.no","tydal.no","tynset.no","tysfjord.no","divtasvuodna.no","divttasvuotna.no","tysnes.no","tysvar.no","tysvær.no","tonsberg.no","tønsberg.no","ullensaker.no","ullensvang.no","ulvik.no","utsira.no","vadso.no","vadsø.no","cahcesuolo.no","čáhcesuolo.no","vaksdal.no","valle.no","vang.no","vanylven.no","vardo.no","vardø.no","varggat.no","várggát.no","vefsn.no","vaapste.no","vega.no","vegarshei.no","vegårshei.no","vennesla.no","verdal.no","verran.no","vestby.no","vestnes.no","vestre-slidre.no","vestre-toten.no","vestvagoy.no","vestvågøy.no","vevelstad.no","vik.no","vikna.no","vindafjord.no","volda.no","voss.no","varoy.no","værøy.no","vagan.no","vågan.no","voagat.no","vagsoy.no","vågsøy.no","vaga.no","vågå.no","valer.ostfold.no","våler.østfold.no","valer.hedmark.no","våler.hedmark.no","*.np","nr","biz.nr","info.nr","gov.nr","edu.nr","org.nr","net.nr","com.nr","nu","nz","ac.nz","co.nz","cri.nz","geek.nz","gen.nz","govt.nz","health.nz","iwi.nz","kiwi.nz","maori.nz","mil.nz","māori.nz","net.nz","org.nz","parliament.nz","school.nz","om","co.om","com.om","edu.om","gov.om","med.om","museum.om","net.om","org.om","pro.om","onion","org","pa","ac.pa","gob.pa","com.pa","org.pa","sld.pa","edu.pa","net.pa","ing.pa","abo.pa","med.pa","nom.pa","pe","edu.pe","gob.pe","nom.pe","mil.pe","org.pe","com.pe","net.pe","pf","com.pf","org.pf","edu.pf","*.pg","ph","com.ph","net.ph","org.ph","gov.ph","edu.ph","ngo.ph","mil.ph","i.ph","pk","com.pk","net.pk","edu.pk","org.pk","fam.pk","biz.pk","web.pk","gov.pk","gob.pk","gok.pk","gon.pk","gop.pk","gos.pk","info.pk","pl","com.pl","net.pl","org.pl","aid.pl","agro.pl","atm.pl","auto.pl","biz.pl","edu.pl","gmina.pl","gsm.pl","info.pl","mail.pl","miasta.pl","media.pl","mil.pl","nieruchomosci.pl","nom.pl","pc.pl","powiat.pl","priv.pl","realestate.pl","rel.pl","sex.pl","shop.pl","sklep.pl","sos.pl","szkola.pl","targi.pl","tm.pl","tourism.pl","travel.pl","turystyka.pl","gov.pl","ap.gov.pl","ic.gov.pl","is.gov.pl","us.gov.pl","kmpsp.gov.pl","kppsp.gov.pl","kwpsp.gov.pl","psp.gov.pl","wskr.gov.pl","kwp.gov.pl","mw.gov.pl","ug.gov.pl","um.gov.pl","umig.gov.pl","ugim.gov.pl","upow.gov.pl","uw.gov.pl","starostwo.gov.pl","pa.gov.pl","po.gov.pl","psse.gov.pl","pup.gov.pl","rzgw.gov.pl","sa.gov.pl","so.gov.pl","sr.gov.pl","wsa.gov.pl","sko.gov.pl","uzs.gov.pl","wiih.gov.pl","winb.gov.pl","pinb.gov.pl","wios.gov.pl","witd.gov.pl","wzmiuw.gov.pl","piw.gov.pl","wiw.gov.pl","griw.gov.pl","wif.gov.pl","oum.gov.pl","sdn.gov.pl","zp.gov.pl","uppo.gov.pl","mup.gov.pl","wuoz.gov.pl","konsulat.gov.pl","oirm.gov.pl","augustow.pl","babia-gora.pl","bedzin.pl","beskidy.pl","bialowieza.pl","bialystok.pl","bielawa.pl","bieszczady.pl","boleslawiec.pl","bydgoszcz.pl","bytom.pl","cieszyn.pl","czeladz.pl","czest.pl","dlugoleka.pl","elblag.pl","elk.pl","glogow.pl","gniezno.pl","gorlice.pl","grajewo.pl","ilawa.pl","jaworzno.pl","jelenia-gora.pl","jgora.pl","kalisz.pl","kazimierz-dolny.pl","karpacz.pl","kartuzy.pl","kaszuby.pl","katowice.pl","kepno.pl","ketrzyn.pl","klodzko.pl","kobierzyce.pl","kolobrzeg.pl","konin.pl","konskowola.pl","kutno.pl","lapy.pl","lebork.pl","legnica.pl","lezajsk.pl","limanowa.pl","lomza.pl","lowicz.pl","lubin.pl","lukow.pl","malbork.pl","malopolska.pl","mazowsze.pl","mazury.pl","mielec.pl","mielno.pl","mragowo.pl","naklo.pl","nowaruda.pl","nysa.pl","olawa.pl","olecko.pl","olkusz.pl","olsztyn.pl","opoczno.pl","opole.pl","ostroda.pl","ostroleka.pl","ostrowiec.pl","ostrowwlkp.pl","pila.pl","pisz.pl","podhale.pl","podlasie.pl","polkowice.pl","pomorze.pl","pomorskie.pl","prochowice.pl","pruszkow.pl","przeworsk.pl","pulawy.pl","radom.pl","rawa-maz.pl","rybnik.pl","rzeszow.pl","sanok.pl","sejny.pl","slask.pl","slupsk.pl","sosnowiec.pl","stalowa-wola.pl","skoczow.pl","starachowice.pl","stargard.pl","suwalki.pl","swidnica.pl","swiebodzin.pl","swinoujscie.pl","szczecin.pl","szczytno.pl","tarnobrzeg.pl","tgory.pl","turek.pl","tychy.pl","ustka.pl","walbrzych.pl","warmia.pl","warszawa.pl","waw.pl","wegrow.pl","wielun.pl","wlocl.pl","wloclawek.pl","wodzislaw.pl","wolomin.pl","wroclaw.pl","zachpomor.pl","zagan.pl","zarow.pl","zgora.pl","zgorzelec.pl","pm","pn","gov.pn","co.pn","org.pn","edu.pn","net.pn","post","pr","com.pr","net.pr","org.pr","gov.pr","edu.pr","isla.pr","pro.pr","biz.pr","info.pr","name.pr","est.pr","prof.pr","ac.pr","pro","aaa.pro","aca.pro","acct.pro","avocat.pro","bar.pro","cpa.pro","eng.pro","jur.pro","law.pro","med.pro","recht.pro","ps","edu.ps","gov.ps","sec.ps","plo.ps","com.ps","org.ps","net.ps","pt","net.pt","gov.pt","org.pt","edu.pt","int.pt","publ.pt","com.pt","nome.pt","pw","co.pw","ne.pw","or.pw","ed.pw","go.pw","belau.pw","py","com.py","coop.py","edu.py","gov.py","mil.py","net.py","org.py","qa","com.qa","edu.qa","gov.qa","mil.qa","name.qa","net.qa","org.qa","sch.qa","re","asso.re","com.re","nom.re","ro","arts.ro","com.ro","firm.ro","info.ro","nom.ro","nt.ro","org.ro","rec.ro","store.ro","tm.ro","www.ro","rs","ac.rs","co.rs","edu.rs","gov.rs","in.rs","org.rs","ru","rw","ac.rw","co.rw","coop.rw","gov.rw","mil.rw","net.rw","org.rw","sa","com.sa","net.sa","org.sa","gov.sa","med.sa","pub.sa","edu.sa","sch.sa","sb","com.sb","edu.sb","gov.sb","net.sb","org.sb","sc","com.sc","gov.sc","net.sc","org.sc","edu.sc","sd","com.sd","net.sd","org.sd","edu.sd","med.sd","tv.sd","gov.sd","info.sd","se","a.se","ac.se","b.se","bd.se","brand.se","c.se","d.se","e.se","f.se","fh.se","fhsk.se","fhv.se","g.se","h.se","i.se","k.se","komforb.se","kommunalforbund.se","komvux.se","l.se","lanbib.se","m.se","n.se","naturbruksgymn.se","o.se","org.se","p.se","parti.se","pp.se","press.se","r.se","s.se","t.se","tm.se","u.se","w.se","x.se","y.se","z.se","sg","com.sg","net.sg","org.sg","gov.sg","edu.sg","per.sg","sh","com.sh","net.sh","gov.sh","org.sh","mil.sh","si","sj","sk","sl","com.sl","net.sl","edu.sl","gov.sl","org.sl","sm","sn","art.sn","com.sn","edu.sn","gouv.sn","org.sn","perso.sn","univ.sn","so","com.so","edu.so","gov.so","me.so","net.so","org.so","sr","ss","biz.ss","com.ss","edu.ss","gov.ss","me.ss","net.ss","org.ss","sch.ss","st","co.st","com.st","consulado.st","edu.st","embaixada.st","mil.st","net.st","org.st","principe.st","saotome.st","store.st","su","sv","com.sv","edu.sv","gob.sv","org.sv","red.sv","sx","gov.sx","sy","edu.sy","gov.sy","net.sy","mil.sy","com.sy","org.sy","sz","co.sz","ac.sz","org.sz","tc","td","tel","tf","tg","th","ac.th","co.th","go.th","in.th","mi.th","net.th","or.th","tj","ac.tj","biz.tj","co.tj","com.tj","edu.tj","go.tj","gov.tj","int.tj","mil.tj","name.tj","net.tj","nic.tj","org.tj","test.tj","web.tj","tk","tl","gov.tl","tm","com.tm","co.tm","org.tm","net.tm","nom.tm","gov.tm","mil.tm","edu.tm","tn","com.tn","ens.tn","fin.tn","gov.tn","ind.tn","info.tn","intl.tn","mincom.tn","nat.tn","net.tn","org.tn","perso.tn","tourism.tn","to","com.to","gov.to","net.to","org.to","edu.to","mil.to","tr","av.tr","bbs.tr","bel.tr","biz.tr","com.tr","dr.tr","edu.tr","gen.tr","gov.tr","info.tr","mil.tr","k12.tr","kep.tr","name.tr","net.tr","org.tr","pol.tr","tel.tr","tsk.tr","tv.tr","web.tr","nc.tr","gov.nc.tr","tt","co.tt","com.tt","org.tt","net.tt","biz.tt","info.tt","pro.tt","int.tt","coop.tt","jobs.tt","mobi.tt","travel.tt","museum.tt","aero.tt","name.tt","gov.tt","edu.tt","tv","tw","edu.tw","gov.tw","mil.tw","com.tw","net.tw","org.tw","idv.tw","game.tw","ebiz.tw","club.tw","網路.tw","組織.tw","商業.tw","tz","ac.tz","co.tz","go.tz","hotel.tz","info.tz","me.tz","mil.tz","mobi.tz","ne.tz","or.tz","sc.tz","tv.tz","ua","com.ua","edu.ua","gov.ua","in.ua","net.ua","org.ua","cherkassy.ua","cherkasy.ua","chernigov.ua","chernihiv.ua","chernivtsi.ua","chernovtsy.ua","ck.ua","cn.ua","cr.ua","crimea.ua","cv.ua","dn.ua","dnepropetrovsk.ua","dnipropetrovsk.ua","donetsk.ua","dp.ua","if.ua","ivano-frankivsk.ua","kh.ua","kharkiv.ua","kharkov.ua","kherson.ua","khmelnitskiy.ua","khmelnytskyi.ua","kiev.ua","kirovograd.ua","km.ua","kr.ua","krym.ua","ks.ua","kv.ua","kyiv.ua","lg.ua","lt.ua","lugansk.ua","lutsk.ua","lv.ua","lviv.ua","mk.ua","mykolaiv.ua","nikolaev.ua","od.ua","odesa.ua","odessa.ua","pl.ua","poltava.ua","rivne.ua","rovno.ua","rv.ua","sb.ua","sebastopol.ua","sevastopol.ua","sm.ua","sumy.ua","te.ua","ternopil.ua","uz.ua","uzhgorod.ua","vinnica.ua","vinnytsia.ua","vn.ua","volyn.ua","yalta.ua","zaporizhzhe.ua","zaporizhzhia.ua","zhitomir.ua","zhytomyr.ua","zp.ua","zt.ua","ug","co.ug","or.ug","ac.ug","sc.ug","go.ug","ne.ug","com.ug","org.ug","uk","ac.uk","co.uk","gov.uk","ltd.uk","me.uk","net.uk","nhs.uk","org.uk","plc.uk","police.uk","*.sch.uk","us","dni.us","fed.us","isa.us","kids.us","nsn.us","ak.us","al.us","ar.us","as.us","az.us","ca.us","co.us","ct.us","dc.us","de.us","fl.us","ga.us","gu.us","hi.us","ia.us","id.us","il.us","in.us","ks.us","ky.us","la.us","ma.us","md.us","me.us","mi.us","mn.us","mo.us","ms.us","mt.us","nc.us","nd.us","ne.us","nh.us","nj.us","nm.us","nv.us","ny.us","oh.us","ok.us","or.us","pa.us","pr.us","ri.us","sc.us","sd.us","tn.us","tx.us","ut.us","vi.us","vt.us","va.us","wa.us","wi.us","wv.us","wy.us","k12.ak.us","k12.al.us","k12.ar.us","k12.as.us","k12.az.us","k12.ca.us","k12.co.us","k12.ct.us","k12.dc.us","k12.de.us","k12.fl.us","k12.ga.us","k12.gu.us","k12.ia.us","k12.id.us","k12.il.us","k12.in.us","k12.ks.us","k12.ky.us","k12.la.us","k12.ma.us","k12.md.us","k12.me.us","k12.mi.us","k12.mn.us","k12.mo.us","k12.ms.us","k12.mt.us","k12.nc.us","k12.ne.us","k12.nh.us","k12.nj.us","k12.nm.us","k12.nv.us","k12.ny.us","k12.oh.us","k12.ok.us","k12.or.us","k12.pa.us","k12.pr.us","k12.sc.us","k12.tn.us","k12.tx.us","k12.ut.us","k12.vi.us","k12.vt.us","k12.va.us","k12.wa.us","k12.wi.us","k12.wy.us","cc.ak.us","cc.al.us","cc.ar.us","cc.as.us","cc.az.us","cc.ca.us","cc.co.us","cc.ct.us","cc.dc.us","cc.de.us","cc.fl.us","cc.ga.us","cc.gu.us","cc.hi.us","cc.ia.us","cc.id.us","cc.il.us","cc.in.us","cc.ks.us","cc.ky.us","cc.la.us","cc.ma.us","cc.md.us","cc.me.us","cc.mi.us","cc.mn.us","cc.mo.us","cc.ms.us","cc.mt.us","cc.nc.us","cc.nd.us","cc.ne.us","cc.nh.us","cc.nj.us","cc.nm.us","cc.nv.us","cc.ny.us","cc.oh.us","cc.ok.us","cc.or.us","cc.pa.us","cc.pr.us","cc.ri.us","cc.sc.us","cc.sd.us","cc.tn.us","cc.tx.us","cc.ut.us","cc.vi.us","cc.vt.us","cc.va.us","cc.wa.us","cc.wi.us","cc.wv.us","cc.wy.us","lib.ak.us","lib.al.us","lib.ar.us","lib.as.us","lib.az.us","lib.ca.us","lib.co.us","lib.ct.us","lib.dc.us","lib.fl.us","lib.ga.us","lib.gu.us","lib.hi.us","lib.ia.us","lib.id.us","lib.il.us","lib.in.us","lib.ks.us","lib.ky.us","lib.la.us","lib.ma.us","lib.md.us","lib.me.us","lib.mi.us","lib.mn.us","lib.mo.us","lib.ms.us","lib.mt.us","lib.nc.us","lib.nd.us","lib.ne.us","lib.nh.us","lib.nj.us","lib.nm.us","lib.nv.us","lib.ny.us","lib.oh.us","lib.ok.us","lib.or.us","lib.pa.us","lib.pr.us","lib.ri.us","lib.sc.us","lib.sd.us","lib.tn.us","lib.tx.us","lib.ut.us","lib.vi.us","lib.vt.us","lib.va.us","lib.wa.us","lib.wi.us","lib.wy.us","pvt.k12.ma.us","chtr.k12.ma.us","paroch.k12.ma.us","ann-arbor.mi.us","cog.mi.us","dst.mi.us","eaton.mi.us","gen.mi.us","mus.mi.us","tec.mi.us","washtenaw.mi.us","uy","com.uy","edu.uy","gub.uy","mil.uy","net.uy","org.uy","uz","co.uz","com.uz","net.uz","org.uz","va","vc","com.vc","net.vc","org.vc","gov.vc","mil.vc","edu.vc","ve","arts.ve","bib.ve","co.ve","com.ve","e12.ve","edu.ve","firm.ve","gob.ve","gov.ve","info.ve","int.ve","mil.ve","net.ve","nom.ve","org.ve","rar.ve","rec.ve","store.ve","tec.ve","web.ve","vg","vi","co.vi","com.vi","k12.vi","net.vi","org.vi","vn","com.vn","net.vn","org.vn","edu.vn","gov.vn","int.vn","ac.vn","biz.vn","info.vn","name.vn","pro.vn","health.vn","vu","com.vu","edu.vu","net.vu","org.vu","wf","ws","com.ws","net.ws","org.ws","gov.ws","edu.ws","yt","امارات","հայ","বাংলা","бг","البحرين","бел","中国","中國","الجزائر","مصر","ею","ευ","موريتانيا","გე","ελ","香港","公司.香港","教育.香港","政府.香港","個人.香港","網絡.香港","組織.香港","ಭಾರತ","ଭାରତ","ভাৰত","भारतम्","भारोत","ڀارت","ഭാരതം","भारत","بارت","بھارت","భారత్","ભારત","ਭਾਰਤ","ভারত","இந்தியா","ایران","ايران","عراق","الاردن","한국","қаз","ລາວ","ලංකා","இலங்கை","المغرب","мкд","мон","澳門","澳门","مليسيا","عمان","پاکستان","پاكستان","فلسطين","срб","пр.срб","орг.срб","обр.срб","од.срб","упр.срб","ак.срб","рф","قطر","السعودية","السعودیة","السعودیۃ","السعوديه","سودان","新加坡","சிங்கப்பூர்","سورية","سوريا","ไทย","ศึกษา.ไทย","ธุรกิจ.ไทย","รัฐบาล.ไทย","ทหาร.ไทย","เน็ต.ไทย","องค์กร.ไทย","تونس","台灣","台湾","臺灣","укр","اليمن","xxx","ye","com.ye","edu.ye","gov.ye","net.ye","mil.ye","org.ye","ac.za","agric.za","alt.za","co.za","edu.za","gov.za","grondar.za","law.za","mil.za","net.za","ngo.za","nic.za","nis.za","nom.za","org.za","school.za","tm.za","web.za","zm","ac.zm","biz.zm","co.zm","com.zm","edu.zm","gov.zm","info.zm","mil.zm","net.zm","org.zm","sch.zm","zw","ac.zw","co.zw","gov.zw","mil.zw","org.zw","aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","academy","accenture","accountant","accountants","aco","actor","adac","ads","adult","aeg","aetna","afl","africa","agakhan","agency","aig","airbus","airforce","airtel","akdn","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","aol","apartments","app","apple","aquarelle","arab","aramco","archi","army","art","arte","asda","associates","athleta","attorney","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aws","axa","azure","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bbc","bbt","bbva","bcg","bcn","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bharti","bible","bid","bike","bing","bingo","bio","black","blackfriday","blockbuster","blog","bloomberg","blue","bms","bmw","bnpparibas","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","bradesco","bridgestone","broadway","broker","brother","brussels","bugatti","build","builders","business","buy","buzz","bzh","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","catering","catholic","cba","cbn","cbre","cbs","center","ceo","cern","cfa","cfd","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","coach","codes","coffee","college","cologne","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","corsica","country","coupon","coupons","courses","cpa","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cuisinella","cymru","cyou","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dnp","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","earth","eat","eco","edeka","education","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","ericsson","erni","esq","estate","etisalat","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","flickr","flights","flir","florist","flowers","fly","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gbiz","gdn","gea","gent","genting","george","ggee","gift","gifts","gives","giving","glass","gle","global","globo","gmail","gmbh","gmo","gmx","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","grainger","graphics","gratis","green","gripe","grocery","group","guardian","gucci","guge","guide","guitars","guru","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hkt","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hsbc","hughes","hyatt","hyundai","ibm","icbc","ice","icu","ieee","ifm","ikano","imamat","imdb","immo","immobilien","inc","industries","infiniti","ing","ink","institute","insurance","insure","international","intuit","investments","ipiranga","irish","ismaili","ist","istanbul","itau","itv","jaguar","java","jcb","jeep","jetzt","jewelry","jio","jll","jmp","jnj","joburg","jot","joy","jpmorgan","jprs","juegos","juniper","kaufen","kddi","kerryhotels","kerrylogistics","kerryproperties","kfh","kia","kids","kim","kinder","kindle","kitchen","kiwi","koeln","komatsu","kosher","kpmg","kpn","krd","kred","kuokgroup","kyoto","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","ltd","ltda","lundbeck","luxe","luxury","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mckinsey","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","miami","microsoft","mini","mint","mit","mitsubishi","mlb","mls","mma","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","msd","mtn","mtr","music","mutual","nab","nagoya","natura","navy","nba","nec","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nfl","ngo","nhk","nico","nike","nikon","ninja","nissan","nissay","nokia","northwesternmutual","norton","now","nowruz","nowtv","nra","nrw","ntt","nyc","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","omega","one","ong","onl","online","ooo","open","oracle","orange","organic","origins","osaka","otsuka","ott","ovh","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pet","pfizer","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","place","play","playstation","plumbing","plus","pnc","pohl","poker","politie","porn","pramerica","praxi","press","prime","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","pub","pwc","qpon","quebec","quest","racing","radio","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rocher","rocks","rodeo","rogers","room","rsvp","rugby","ruhr","run","rwe","ryukyu","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sbi","sbs","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","silk","sina","singles","site","ski","skin","sky","skype","sling","smart","smile","sncf","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","srl","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","sucks","supplies","supply","support","surf","surgery","suzuki","swatch","swiss","sydney","systems","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tci","tdk","team","tech","technology","temasek","tennis","teva","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tjmaxx","tjx","tkmaxx","tmall","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tube","tui","tunes","tushu","tvs","ubank","ubs","unicom","university","uno","uol","ups","vacations","vana","vanguard","vegas","ventures","verisign","versicherung","vet","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vodka","volkswagen","volvo","vote","voting","voto","voyage","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wedding","weibo","weir","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","慈善","集团","在线","点看","คอม","八卦","موقع","公益","公司","香格里拉","网站","移动","我爱你","москва","католик","онлайн","сайт","联通","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","アマゾン","삼성","商标","商店","商城","дети","ポイント","新闻","家電","كوم","中文网","中信","娱乐","谷歌","電訊盈科","购物","クラウド","通販","网店","संगठन","餐厅","网络","ком","亚马逊","诺基亚","食品","飞利浦","手机","ارامكو","العليان","اتصالات","بازار","ابوظبي","كاثوليك","همراه","닷컴","政府","شبكة","بيتك","عرب","机构","组织机构","健康","招聘","рус","大拿","みんな","グーグル","世界","書籍","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","广东","政务","xyz","yachts","yahoo","yamaxun","yandex","yodobashi","yoga","yokohama","you","youtube","yun","zappos","zara","zero","zip","zone","zuerich","cc.ua","inf.ua","ltd.ua","611.to","graphox.us","*.devcdnaccesso.com","adobeaemcloud.com","*.dev.adobeaemcloud.com","hlx.live","adobeaemcloud.net","hlx.page","hlx3.page","beep.pl","airkitapps.com","airkitapps-au.com","airkitapps.eu","aivencloud.com","barsy.ca","*.compute.estate","*.alces.network","kasserver.com","altervista.org","alwaysdata.net","cloudfront.net","*.compute.amazonaws.com","*.compute-1.amazonaws.com","*.compute.amazonaws.com.cn","us-east-1.amazonaws.com","cn-north-1.eb.amazonaws.com.cn","cn-northwest-1.eb.amazonaws.com.cn","elasticbeanstalk.com","ap-northeast-1.elasticbeanstalk.com","ap-northeast-2.elasticbeanstalk.com","ap-northeast-3.elasticbeanstalk.com","ap-south-1.elasticbeanstalk.com","ap-southeast-1.elasticbeanstalk.com","ap-southeast-2.elasticbeanstalk.com","ca-central-1.elasticbeanstalk.com","eu-central-1.elasticbeanstalk.com","eu-west-1.elasticbeanstalk.com","eu-west-2.elasticbeanstalk.com","eu-west-3.elasticbeanstalk.com","sa-east-1.elasticbeanstalk.com","us-east-1.elasticbeanstalk.com","us-east-2.elasticbeanstalk.com","us-gov-west-1.elasticbeanstalk.com","us-west-1.elasticbeanstalk.com","us-west-2.elasticbeanstalk.com","*.elb.amazonaws.com","*.elb.amazonaws.com.cn","awsglobalaccelerator.com","s3.amazonaws.com","s3-ap-northeast-1.amazonaws.com","s3-ap-northeast-2.amazonaws.com","s3-ap-south-1.amazonaws.com","s3-ap-southeast-1.amazonaws.com","s3-ap-southeast-2.amazonaws.com","s3-ca-central-1.amazonaws.com","s3-eu-central-1.amazonaws.com","s3-eu-west-1.amazonaws.com","s3-eu-west-2.amazonaws.com","s3-eu-west-3.amazonaws.com","s3-external-1.amazonaws.com","s3-fips-us-gov-west-1.amazonaws.com","s3-sa-east-1.amazonaws.com","s3-us-gov-west-1.amazonaws.com","s3-us-east-2.amazonaws.com","s3-us-west-1.amazonaws.com","s3-us-west-2.amazonaws.com","s3.ap-northeast-2.amazonaws.com","s3.ap-south-1.amazonaws.com","s3.cn-north-1.amazonaws.com.cn","s3.ca-central-1.amazonaws.com","s3.eu-central-1.amazonaws.com","s3.eu-west-2.amazonaws.com","s3.eu-west-3.amazonaws.com","s3.us-east-2.amazonaws.com","s3.dualstack.ap-northeast-1.amazonaws.com","s3.dualstack.ap-northeast-2.amazonaws.com","s3.dualstack.ap-south-1.amazonaws.com","s3.dualstack.ap-southeast-1.amazonaws.com","s3.dualstack.ap-southeast-2.amazonaws.com","s3.dualstack.ca-central-1.amazonaws.com","s3.dualstack.eu-central-1.amazonaws.com","s3.dualstack.eu-west-1.amazonaws.com","s3.dualstack.eu-west-2.amazonaws.com","s3.dualstack.eu-west-3.amazonaws.com","s3.dualstack.sa-east-1.amazonaws.com","s3.dualstack.us-east-1.amazonaws.com","s3.dualstack.us-east-2.amazonaws.com","s3-website-us-east-1.amazonaws.com","s3-website-us-west-1.amazonaws.com","s3-website-us-west-2.amazonaws.com","s3-website-ap-northeast-1.amazonaws.com","s3-website-ap-southeast-1.amazonaws.com","s3-website-ap-southeast-2.amazonaws.com","s3-website-eu-west-1.amazonaws.com","s3-website-sa-east-1.amazonaws.com","s3-website.ap-northeast-2.amazonaws.com","s3-website.ap-south-1.amazonaws.com","s3-website.ca-central-1.amazonaws.com","s3-website.eu-central-1.amazonaws.com","s3-website.eu-west-2.amazonaws.com","s3-website.eu-west-3.amazonaws.com","s3-website.us-east-2.amazonaws.com","t3l3p0rt.net","tele.amune.org","apigee.io","siiites.com","appspacehosted.com","appspaceusercontent.com","appudo.net","on-aptible.com","user.aseinet.ne.jp","gv.vc","d.gv.vc","user.party.eus","pimienta.org","poivron.org","potager.org","sweetpepper.org","myasustor.com","cdn.prod.atlassian-dev.net","translated.page","myfritz.net","onavstack.net","*.awdev.ca","*.advisor.ws","ecommerce-shop.pl","b-data.io","backplaneapp.io","balena-devices.com","rs.ba","*.banzai.cloud","app.banzaicloud.io","*.backyards.banzaicloud.io","base.ec","official.ec","buyshop.jp","fashionstore.jp","handcrafted.jp","kawaiishop.jp","supersale.jp","theshop.jp","shopselect.net","base.shop","*.beget.app","betainabox.com","bnr.la","bitbucket.io","blackbaudcdn.net","of.je","bluebite.io","boomla.net","boutir.com","boxfuse.io","square7.ch","bplaced.com","bplaced.de","square7.de","bplaced.net","square7.net","shop.brendly.rs","browsersafetymark.io","uk0.bigv.io","dh.bytemark.co.uk","vm.bytemark.co.uk","cafjs.com","mycd.eu","drr.ac","uwu.ai","carrd.co","crd.co","ju.mp","ae.org","br.com","cn.com","com.de","com.se","de.com","eu.com","gb.net","hu.net","jp.net","jpn.com","mex.com","ru.com","sa.com","se.net","uk.com","uk.net","us.com","za.bz","za.com","ar.com","hu.com","kr.com","no.com","qc.com","uy.com","africa.com","gr.com","in.net","web.in","us.org","co.com","aus.basketball","nz.basketball","radio.am","radio.fm","c.la","certmgr.org","cx.ua","discourse.group","discourse.team","cleverapps.io","clerk.app","clerkstage.app","*.lcl.dev","*.lclstage.dev","*.stg.dev","*.stgstage.dev","clickrising.net","c66.me","cloud66.ws","cloud66.zone","jdevcloud.com","wpdevcloud.com","cloudaccess.host","freesite.host","cloudaccess.net","cloudcontrolled.com","cloudcontrolapp.com","*.cloudera.site","pages.dev","trycloudflare.com","workers.dev","wnext.app","co.ca","*.otap.co","co.cz","c.cdn77.org","cdn77-ssl.net","r.cdn77.net","rsc.cdn77.org","ssl.origin.cdn77-secure.org","cloudns.asia","cloudns.biz","cloudns.club","cloudns.cc","cloudns.eu","cloudns.in","cloudns.info","cloudns.org","cloudns.pro","cloudns.pw","cloudns.us","cnpy.gdn","codeberg.page","co.nl","co.no","webhosting.be","hosting-cluster.nl","ac.ru","edu.ru","gov.ru","int.ru","mil.ru","test.ru","dyn.cosidns.de","dynamisches-dns.de","dnsupdater.de","internet-dns.de","l-o-g-i-n.de","dynamic-dns.info","feste-ip.net","knx-server.net","static-access.net","realm.cz","*.cryptonomic.net","cupcake.is","curv.dev","*.customer-oci.com","*.oci.customer-oci.com","*.ocp.customer-oci.com","*.ocs.customer-oci.com","cyon.link","cyon.site","fnwk.site","folionetwork.site","platform0.app","daplie.me","localhost.daplie.me","dattolocal.com","dattorelay.com","dattoweb.com","mydatto.com","dattolocal.net","mydatto.net","biz.dk","co.dk","firm.dk","reg.dk","store.dk","dyndns.dappnode.io","*.dapps.earth","*.bzz.dapps.earth","builtwithdark.com","demo.datadetect.com","instance.datadetect.com","edgestack.me","ddns5.com","debian.net","deno.dev","deno-staging.dev","dedyn.io","deta.app","deta.dev","*.rss.my.id","*.diher.solutions","discordsays.com","discordsez.com","jozi.biz","dnshome.de","online.th","shop.th","drayddns.com","shoparena.pl","dreamhosters.com","mydrobo.com","drud.io","drud.us","duckdns.org","bip.sh","bitbridge.net","dy.fi","tunk.org","dyndns-at-home.com","dyndns-at-work.com","dyndns-blog.com","dyndns-free.com","dyndns-home.com","dyndns-ip.com","dyndns-mail.com","dyndns-office.com","dyndns-pics.com","dyndns-remote.com","dyndns-server.com","dyndns-web.com","dyndns-wiki.com","dyndns-work.com","dyndns.biz","dyndns.info","dyndns.org","dyndns.tv","at-band-camp.net","ath.cx","barrel-of-knowledge.info","barrell-of-knowledge.info","better-than.tv","blogdns.com","blogdns.net","blogdns.org","blogsite.org","boldlygoingnowhere.org","broke-it.net","buyshouses.net","cechire.com","dnsalias.com","dnsalias.net","dnsalias.org","dnsdojo.com","dnsdojo.net","dnsdojo.org","does-it.net","doesntexist.com","doesntexist.org","dontexist.com","dontexist.net","dontexist.org","doomdns.com","doomdns.org","dvrdns.org","dyn-o-saur.com","dynalias.com","dynalias.net","dynalias.org","dynathome.net","dyndns.ws","endofinternet.net","endofinternet.org","endoftheinternet.org","est-a-la-maison.com","est-a-la-masion.com","est-le-patron.com","est-mon-blogueur.com","for-better.biz","for-more.biz","for-our.info","for-some.biz","for-the.biz","forgot.her.name","forgot.his.name","from-ak.com","from-al.com","from-ar.com","from-az.net","from-ca.com","from-co.net","from-ct.com","from-dc.com","from-de.com","from-fl.com","from-ga.com","from-hi.com","from-ia.com","from-id.com","from-il.com","from-in.com","from-ks.com","from-ky.com","from-la.net","from-ma.com","from-md.com","from-me.org","from-mi.com","from-mn.com","from-mo.com","from-ms.com","from-mt.com","from-nc.com","from-nd.com","from-ne.com","from-nh.com","from-nj.com","from-nm.com","from-nv.com","from-ny.net","from-oh.com","from-ok.com","from-or.com","from-pa.com","from-pr.com","from-ri.com","from-sc.com","from-sd.com","from-tn.com","from-tx.com","from-ut.com","from-va.com","from-vt.com","from-wa.com","from-wi.com","from-wv.com","from-wy.com","ftpaccess.cc","fuettertdasnetz.de","game-host.org","game-server.cc","getmyip.com","gets-it.net","go.dyndns.org","gotdns.com","gotdns.org","groks-the.info","groks-this.info","ham-radio-op.net","here-for-more.info","hobby-site.com","hobby-site.org","home.dyndns.org","homedns.org","homeftp.net","homeftp.org","homeip.net","homelinux.com","homelinux.net","homelinux.org","homeunix.com","homeunix.net","homeunix.org","iamallama.com","in-the-band.net","is-a-anarchist.com","is-a-blogger.com","is-a-bookkeeper.com","is-a-bruinsfan.org","is-a-bulls-fan.com","is-a-candidate.org","is-a-caterer.com","is-a-celticsfan.org","is-a-chef.com","is-a-chef.net","is-a-chef.org","is-a-conservative.com","is-a-cpa.com","is-a-cubicle-slave.com","is-a-democrat.com","is-a-designer.com","is-a-doctor.com","is-a-financialadvisor.com","is-a-geek.com","is-a-geek.net","is-a-geek.org","is-a-green.com","is-a-guru.com","is-a-hard-worker.com","is-a-hunter.com","is-a-knight.org","is-a-landscaper.com","is-a-lawyer.com","is-a-liberal.com","is-a-libertarian.com","is-a-linux-user.org","is-a-llama.com","is-a-musician.com","is-a-nascarfan.com","is-a-nurse.com","is-a-painter.com","is-a-patsfan.org","is-a-personaltrainer.com","is-a-photographer.com","is-a-player.com","is-a-republican.com","is-a-rockstar.com","is-a-socialist.com","is-a-soxfan.org","is-a-student.com","is-a-teacher.com","is-a-techie.com","is-a-therapist.com","is-an-accountant.com","is-an-actor.com","is-an-actress.com","is-an-anarchist.com","is-an-artist.com","is-an-engineer.com","is-an-entertainer.com","is-by.us","is-certified.com","is-found.org","is-gone.com","is-into-anime.com","is-into-cars.com","is-into-cartoons.com","is-into-games.com","is-leet.com","is-lost.org","is-not-certified.com","is-saved.org","is-slick.com","is-uberleet.com","is-very-bad.org","is-very-evil.org","is-very-good.org","is-very-nice.org","is-very-sweet.org","is-with-theband.com","isa-geek.com","isa-geek.net","isa-geek.org","isa-hockeynut.com","issmarterthanyou.com","isteingeek.de","istmein.de","kicks-ass.net","kicks-ass.org","knowsitall.info","land-4-sale.us","lebtimnetz.de","leitungsen.de","likes-pie.com","likescandy.com","merseine.nu","mine.nu","misconfused.org","mypets.ws","myphotos.cc","neat-url.com","office-on-the.net","on-the-web.tv","podzone.net","podzone.org","readmyblog.org","saves-the-whales.com","scrapper-site.net","scrapping.cc","selfip.biz","selfip.com","selfip.info","selfip.net","selfip.org","sells-for-less.com","sells-for-u.com","sells-it.net","sellsyourhome.org","servebbs.com","servebbs.net","servebbs.org","serveftp.net","serveftp.org","servegame.org","shacknet.nu","simple-url.com","space-to-rent.com","stuff-4-sale.org","stuff-4-sale.us","teaches-yoga.com","thruhere.net","traeumtgerade.de","webhop.biz","webhop.info","webhop.net","webhop.org","worse-than.tv","writesthisblog.com","ddnss.de","dyn.ddnss.de","dyndns.ddnss.de","dyndns1.de","dyn-ip24.de","home-webserver.de","dyn.home-webserver.de","myhome-server.de","ddnss.org","definima.net","definima.io","ondigitalocean.app","*.digitaloceanspaces.com","bci.dnstrace.pro","ddnsfree.com","ddnsgeek.com","giize.com","gleeze.com","kozow.com","loseyourip.com","ooguy.com","theworkpc.com","casacam.net","dynu.net","accesscam.org","camdvr.org","freeddns.org","mywire.org","webredirect.org","myddns.rocks","blogsite.xyz","dynv6.net","e4.cz","eero.online","eero-stage.online","elementor.cloud","elementor.cool","en-root.fr","mytuleap.com","tuleap-partners.com","encr.app","encoreapi.com","onred.one","staging.onred.one","eu.encoway.cloud","eu.org","al.eu.org","asso.eu.org","at.eu.org","au.eu.org","be.eu.org","bg.eu.org","ca.eu.org","cd.eu.org","ch.eu.org","cn.eu.org","cy.eu.org","cz.eu.org","de.eu.org","dk.eu.org","edu.eu.org","ee.eu.org","es.eu.org","fi.eu.org","fr.eu.org","gr.eu.org","hr.eu.org","hu.eu.org","ie.eu.org","il.eu.org","in.eu.org","int.eu.org","is.eu.org","it.eu.org","jp.eu.org","kr.eu.org","lt.eu.org","lu.eu.org","lv.eu.org","mc.eu.org","me.eu.org","mk.eu.org","mt.eu.org","my.eu.org","net.eu.org","ng.eu.org","nl.eu.org","no.eu.org","nz.eu.org","paris.eu.org","pl.eu.org","pt.eu.org","q-a.eu.org","ro.eu.org","ru.eu.org","se.eu.org","si.eu.org","sk.eu.org","tr.eu.org","uk.eu.org","us.eu.org","eurodir.ru","eu-1.evennode.com","eu-2.evennode.com","eu-3.evennode.com","eu-4.evennode.com","us-1.evennode.com","us-2.evennode.com","us-3.evennode.com","us-4.evennode.com","twmail.cc","twmail.net","twmail.org","mymailer.com.tw","url.tw","onfabrica.com","apps.fbsbx.com","ru.net","adygeya.ru","bashkiria.ru","bir.ru","cbg.ru","com.ru","dagestan.ru","grozny.ru","kalmykia.ru","kustanai.ru","marine.ru","mordovia.ru","msk.ru","mytis.ru","nalchik.ru","nov.ru","pyatigorsk.ru","spb.ru","vladikavkaz.ru","vladimir.ru","abkhazia.su","adygeya.su","aktyubinsk.su","arkhangelsk.su","armenia.su","ashgabad.su","azerbaijan.su","balashov.su","bashkiria.su","bryansk.su","bukhara.su","chimkent.su","dagestan.su","east-kazakhstan.su","exnet.su","georgia.su","grozny.su","ivanovo.su","jambyl.su","kalmykia.su","kaluga.su","karacol.su","karaganda.su","karelia.su","khakassia.su","krasnodar.su","kurgan.su","kustanai.su","lenug.su","mangyshlak.su","mordovia.su","msk.su","murmansk.su","nalchik.su","navoi.su","north-kazakhstan.su","nov.su","obninsk.su","penza.su","pokrovsk.su","sochi.su","spb.su","tashkent.su","termez.su","togliatti.su","troitsk.su","tselinograd.su","tula.su","tuva.su","vladikavkaz.su","vladimir.su","vologda.su","channelsdvr.net","u.channelsdvr.net","edgecompute.app","fastly-terrarium.com","fastlylb.net","map.fastlylb.net","freetls.fastly.net","map.fastly.net","a.prod.fastly.net","global.prod.fastly.net","a.ssl.fastly.net","b.ssl.fastly.net","global.ssl.fastly.net","fastvps-server.com","fastvps.host","myfast.host","fastvps.site","myfast.space","fedorainfracloud.org","fedorapeople.org","cloud.fedoraproject.org","app.os.fedoraproject.org","app.os.stg.fedoraproject.org","conn.uk","copro.uk","hosp.uk","mydobiss.com","fh-muenster.io","filegear.me","filegear-au.me","filegear-de.me","filegear-gb.me","filegear-ie.me","filegear-jp.me","filegear-sg.me","firebaseapp.com","fireweb.app","flap.id","onflashdrive.app","fldrv.com","fly.dev","edgeapp.net","shw.io","flynnhosting.net","forgeblocks.com","id.forgerock.io","framer.app","framercanvas.com","*.frusky.de","ravpage.co.il","0e.vc","freebox-os.com","freeboxos.com","fbx-os.fr","fbxos.fr","freebox-os.fr","freeboxos.fr","freedesktop.org","freemyip.com","wien.funkfeuer.at","*.futurecms.at","*.ex.futurecms.at","*.in.futurecms.at","futurehosting.at","futuremailing.at","*.ex.ortsinfo.at","*.kunden.ortsinfo.at","*.statics.cloud","independent-commission.uk","independent-inquest.uk","independent-inquiry.uk","independent-panel.uk","independent-review.uk","public-inquiry.uk","royal-commission.uk","campaign.gov.uk","service.gov.uk","api.gov.uk","gehirn.ne.jp","usercontent.jp","gentapps.com","gentlentapis.com","lab.ms","cdn-edges.net","ghost.io","gsj.bz","githubusercontent.com","githubpreview.dev","github.io","gitlab.io","gitapp.si","gitpage.si","glitch.me","nog.community","co.ro","shop.ro","lolipop.io","angry.jp","babyblue.jp","babymilk.jp","backdrop.jp","bambina.jp","bitter.jp","blush.jp","boo.jp","boy.jp","boyfriend.jp","but.jp","candypop.jp","capoo.jp","catfood.jp","cheap.jp","chicappa.jp","chillout.jp","chips.jp","chowder.jp","chu.jp","ciao.jp","cocotte.jp","coolblog.jp","cranky.jp","cutegirl.jp","daa.jp","deca.jp","deci.jp","digick.jp","egoism.jp","fakefur.jp","fem.jp","flier.jp","floppy.jp","fool.jp","frenchkiss.jp","girlfriend.jp","girly.jp","gloomy.jp","gonna.jp","greater.jp","hacca.jp","heavy.jp","her.jp","hiho.jp","hippy.jp","holy.jp","hungry.jp","icurus.jp","itigo.jp","jellybean.jp","kikirara.jp","kill.jp","kilo.jp","kuron.jp","littlestar.jp","lolipopmc.jp","lolitapunk.jp","lomo.jp","lovepop.jp","lovesick.jp","main.jp","mods.jp","mond.jp","mongolian.jp","moo.jp","namaste.jp","nikita.jp","nobushi.jp","noor.jp","oops.jp","parallel.jp","parasite.jp","pecori.jp","peewee.jp","penne.jp","pepper.jp","perma.jp","pigboat.jp","pinoko.jp","punyu.jp","pupu.jp","pussycat.jp","pya.jp","raindrop.jp","readymade.jp","sadist.jp","schoolbus.jp","secret.jp","staba.jp","stripper.jp","sub.jp","sunnyday.jp","thick.jp","tonkotsu.jp","under.jp","upper.jp","velvet.jp","verse.jp","versus.jp","vivian.jp","watson.jp","weblike.jp","whitesnow.jp","zombie.jp","heteml.net","cloudapps.digital","london.cloudapps.digital","pymnt.uk","homeoffice.gov.uk","ro.im","goip.de","run.app","a.run.app","web.app","*.0emm.com","appspot.com","*.r.appspot.com","codespot.com","googleapis.com","googlecode.com","pagespeedmobilizer.com","publishproxy.com","withgoogle.com","withyoutube.com","*.gateway.dev","cloud.goog","translate.goog","*.usercontent.goog","cloudfunctions.net","blogspot.ae","blogspot.al","blogspot.am","blogspot.ba","blogspot.be","blogspot.bg","blogspot.bj","blogspot.ca","blogspot.cf","blogspot.ch","blogspot.cl","blogspot.co.at","blogspot.co.id","blogspot.co.il","blogspot.co.ke","blogspot.co.nz","blogspot.co.uk","blogspot.co.za","blogspot.com","blogspot.com.ar","blogspot.com.au","blogspot.com.br","blogspot.com.by","blogspot.com.co","blogspot.com.cy","blogspot.com.ee","blogspot.com.eg","blogspot.com.es","blogspot.com.mt","blogspot.com.ng","blogspot.com.tr","blogspot.com.uy","blogspot.cv","blogspot.cz","blogspot.de","blogspot.dk","blogspot.fi","blogspot.fr","blogspot.gr","blogspot.hk","blogspot.hr","blogspot.hu","blogspot.ie","blogspot.in","blogspot.is","blogspot.it","blogspot.jp","blogspot.kr","blogspot.li","blogspot.lt","blogspot.lu","blogspot.md","blogspot.mk","blogspot.mr","blogspot.mx","blogspot.my","blogspot.nl","blogspot.no","blogspot.pe","blogspot.pt","blogspot.qa","blogspot.re","blogspot.ro","blogspot.rs","blogspot.ru","blogspot.se","blogspot.sg","blogspot.si","blogspot.sk","blogspot.sn","blogspot.td","blogspot.tw","blogspot.ug","blogspot.vn","goupile.fr","gov.nl","awsmppl.com","günstigbestellen.de","günstigliefern.de","fin.ci","free.hr","caa.li","ua.rs","conf.se","hs.zone","hs.run","hashbang.sh","hasura.app","hasura-app.io","pages.it.hs-heilbronn.de","hepforge.org","herokuapp.com","herokussl.com","ravendb.cloud","myravendb.com","ravendb.community","ravendb.me","development.run","ravendb.run","homesklep.pl","secaas.hk","hoplix.shop","orx.biz","biz.gl","col.ng","firm.ng","gen.ng","ltd.ng","ngo.ng","edu.scot","sch.so","hostyhosting.io","häkkinen.fi","*.moonscale.io","moonscale.net","iki.fi","ibxos.it","iliadboxos.it","impertrixcdn.com","impertrix.com","smushcdn.com","wphostedmail.com","wpmucdn.com","tempurl.host","wpmudev.host","dyn-berlin.de","in-berlin.de","in-brb.de","in-butter.de","in-dsl.de","in-dsl.net","in-dsl.org","in-vpn.de","in-vpn.net","in-vpn.org","biz.at","info.at","info.cx","ac.leg.br","al.leg.br","am.leg.br","ap.leg.br","ba.leg.br","ce.leg.br","df.leg.br","es.leg.br","go.leg.br","ma.leg.br","mg.leg.br","ms.leg.br","mt.leg.br","pa.leg.br","pb.leg.br","pe.leg.br","pi.leg.br","pr.leg.br","rj.leg.br","rn.leg.br","ro.leg.br","rr.leg.br","rs.leg.br","sc.leg.br","se.leg.br","sp.leg.br","to.leg.br","pixolino.com","na4u.ru","iopsys.se","ipifony.net","iservschule.de","mein-iserv.de","schulplattform.de","schulserver.de","test-iserv.de","iserv.dev","iobb.net","mel.cloudlets.com.au","cloud.interhostsolutions.be","users.scale.virtualcloud.com.br","mycloud.by","alp1.ae.flow.ch","appengine.flow.ch","es-1.axarnet.cloud","diadem.cloud","vip.jelastic.cloud","jele.cloud","it1.eur.aruba.jenv-aruba.cloud","it1.jenv-aruba.cloud","keliweb.cloud","cs.keliweb.cloud","oxa.cloud","tn.oxa.cloud","uk.oxa.cloud","primetel.cloud","uk.primetel.cloud","ca.reclaim.cloud","uk.reclaim.cloud","us.reclaim.cloud","ch.trendhosting.cloud","de.trendhosting.cloud","jele.club","amscompute.com","clicketcloud.com","dopaas.com","hidora.com","paas.hosted-by-previder.com","rag-cloud.hosteur.com","rag-cloud-ch.hosteur.com","jcloud.ik-server.com","jcloud-ver-jpc.ik-server.com","demo.jelastic.com","kilatiron.com","paas.massivegrid.com","jed.wafaicloud.com","lon.wafaicloud.com","ryd.wafaicloud.com","j.scaleforce.com.cy","jelastic.dogado.eu","fi.cloudplatform.fi","demo.datacenter.fi","paas.datacenter.fi","jele.host","mircloud.host","paas.beebyte.io","sekd1.beebyteapp.io","jele.io","cloud-fr1.unispace.io","jc.neen.it","cloud.jelastic.open.tim.it","jcloud.kz","upaas.kazteleport.kz","cloudjiffy.net","fra1-de.cloudjiffy.net","west1-us.cloudjiffy.net","jls-sto1.elastx.net","jls-sto2.elastx.net","jls-sto3.elastx.net","faststacks.net","fr-1.paas.massivegrid.net","lon-1.paas.massivegrid.net","lon-2.paas.massivegrid.net","ny-1.paas.massivegrid.net","ny-2.paas.massivegrid.net","sg-1.paas.massivegrid.net","jelastic.saveincloud.net","nordeste-idc.saveincloud.net","j.scaleforce.net","jelastic.tsukaeru.net","sdscloud.pl","unicloud.pl","mircloud.ru","jelastic.regruhosting.ru","enscaled.sg","jele.site","jelastic.team","orangecloud.tn","j.layershift.co.uk","phx.enscaled.us","mircloud.us","myjino.ru","*.hosting.myjino.ru","*.landing.myjino.ru","*.spectrum.myjino.ru","*.vps.myjino.ru","jotelulu.cloud","*.triton.zone","*.cns.joyent.com","js.org","kaas.gg","khplay.nl","ktistory.com","kapsi.fi","keymachine.de","kinghost.net","uni5.net","knightpoint.systems","koobin.events","oya.to","kuleuven.cloud","ezproxy.kuleuven.be","co.krd","edu.krd","krellian.net","webthings.io","git-repos.de","lcube-server.de","svn-repos.de","leadpages.co","lpages.co","lpusercontent.com","lelux.site","co.business","co.education","co.events","co.financial","co.network","co.place","co.technology","app.lmpm.com","linkyard.cloud","linkyard-cloud.ch","members.linode.com","*.nodebalancer.linode.com","*.linodeobjects.com","ip.linodeusercontent.com","we.bs","*.user.localcert.dev","localzone.xyz","loginline.app","loginline.dev","loginline.io","loginline.services","loginline.site","servers.run","lohmus.me","krasnik.pl","leczna.pl","lubartow.pl","lublin.pl","poniatowa.pl","swidnik.pl","glug.org.uk","lug.org.uk","lugs.org.uk","barsy.bg","barsy.co.uk","barsyonline.co.uk","barsycenter.com","barsyonline.com","barsy.club","barsy.de","barsy.eu","barsy.in","barsy.info","barsy.io","barsy.me","barsy.menu","barsy.mobi","barsy.net","barsy.online","barsy.org","barsy.pro","barsy.pub","barsy.ro","barsy.shop","barsy.site","barsy.support","barsy.uk","*.magentosite.cloud","mayfirst.info","mayfirst.org","hb.cldmail.ru","cn.vu","mazeplay.com","mcpe.me","mcdir.me","mcdir.ru","mcpre.ru","vps.mcdir.ru","mediatech.by","mediatech.dev","hra.health","miniserver.com","memset.net","messerli.app","*.cloud.metacentrum.cz","custom.metacentrum.cz","flt.cloud.muni.cz","usr.cloud.muni.cz","meteorapp.com","eu.meteorapp.com","co.pl","*.azurecontainer.io","azurewebsites.net","azure-mobile.net","cloudapp.net","azurestaticapps.net","1.azurestaticapps.net","centralus.azurestaticapps.net","eastasia.azurestaticapps.net","eastus2.azurestaticapps.net","westeurope.azurestaticapps.net","westus2.azurestaticapps.net","csx.cc","mintere.site","forte.id","mozilla-iot.org","bmoattachments.org","net.ru","org.ru","pp.ru","hostedpi.com","customer.mythic-beasts.com","caracal.mythic-beasts.com","fentiger.mythic-beasts.com","lynx.mythic-beasts.com","ocelot.mythic-beasts.com","oncilla.mythic-beasts.com","onza.mythic-beasts.com","sphinx.mythic-beasts.com","vs.mythic-beasts.com","x.mythic-beasts.com","yali.mythic-beasts.com","cust.retrosnub.co.uk","ui.nabu.casa","pony.club","of.fashion","in.london","of.london","from.marketing","with.marketing","for.men","repair.men","and.mom","for.mom","for.one","under.one","for.sale","that.win","from.work","to.work","cloud.nospamproxy.com","netlify.app","4u.com","ngrok.io","nh-serv.co.uk","nfshost.com","*.developer.app","noop.app","*.northflank.app","*.build.run","*.code.run","*.database.run","*.migration.run","noticeable.news","dnsking.ch","mypi.co","n4t.co","001www.com","ddnslive.com","myiphost.com","forumz.info","16-b.it","32-b.it","64-b.it","soundcast.me","tcp4.me","dnsup.net","hicam.net","now-dns.net","ownip.net","vpndns.net","dynserv.org","now-dns.org","x443.pw","now-dns.top","ntdll.top","freeddns.us","crafting.xyz","zapto.xyz","nsupdate.info","nerdpol.ovh","blogsyte.com","brasilia.me","cable-modem.org","ciscofreak.com","collegefan.org","couchpotatofries.org","damnserver.com","ddns.me","ditchyourip.com","dnsfor.me","dnsiskinky.com","dvrcam.info","dynns.com","eating-organic.net","fantasyleague.cc","geekgalaxy.com","golffan.us","health-carereform.com","homesecuritymac.com","homesecuritypc.com","hopto.me","ilovecollege.info","loginto.me","mlbfan.org","mmafan.biz","myactivedirectory.com","mydissent.net","myeffect.net","mymediapc.net","mypsx.net","mysecuritycamera.com","mysecuritycamera.net","mysecuritycamera.org","net-freaks.com","nflfan.org","nhlfan.net","no-ip.ca","no-ip.co.uk","no-ip.net","noip.us","onthewifi.com","pgafan.net","point2this.com","pointto.us","privatizehealthinsurance.net","quicksytes.com","read-books.org","securitytactics.com","serveexchange.com","servehumour.com","servep2p.com","servesarcasm.com","stufftoread.com","ufcfan.org","unusualperson.com","workisboring.com","3utilities.com","bounceme.net","ddns.net","ddnsking.com","gotdns.ch","hopto.org","myftp.biz","myftp.org","myvnc.com","no-ip.biz","no-ip.info","no-ip.org","noip.me","redirectme.net","servebeer.com","serveblog.net","servecounterstrike.com","serveftp.com","servegame.com","servehalflife.com","servehttp.com","serveirc.com","serveminecraft.net","servemp3.com","servepics.com","servequake.com","sytes.net","webhop.me","zapto.org","stage.nodeart.io","pcloud.host","nyc.mn","static.observableusercontent.com","cya.gg","omg.lol","cloudycluster.net","omniwe.site","service.one","nid.io","opensocial.site","opencraft.hosting","orsites.com","operaunite.com","tech.orange","authgear-staging.com","authgearapps.com","skygearapp.com","outsystemscloud.com","*.webpaas.ovh.net","*.hosting.ovh.net","ownprovider.com","own.pm","*.owo.codes","ox.rs","oy.lc","pgfog.com","pagefrontapp.com","pagexl.com","*.paywhirl.com","bar0.net","bar1.net","bar2.net","rdv.to","art.pl","gliwice.pl","krakow.pl","poznan.pl","wroc.pl","zakopane.pl","pantheonsite.io","gotpantheon.com","mypep.link","perspecta.cloud","lk3.ru","on-web.fr","bc.platform.sh","ent.platform.sh","eu.platform.sh","us.platform.sh","*.platformsh.site","*.tst.site","platter-app.com","platter-app.dev","platterp.us","pdns.page","plesk.page","pleskns.com","dyn53.io","onporter.run","co.bn","postman-echo.com","pstmn.io","mock.pstmn.io","httpbin.org","prequalifyme.today","xen.prgmr.com","priv.at","prvcy.page","*.dweb.link","protonet.io","chirurgiens-dentistes-en-france.fr","byen.site","pubtls.org","pythonanywhere.com","eu.pythonanywhere.com","qoto.io","qualifioapp.com","qbuser.com","cloudsite.builders","instances.spawn.cc","instantcloud.cn","ras.ru","qa2.com","qcx.io","*.sys.qcx.io","dev-myqnapcloud.com","alpha-myqnapcloud.com","myqnapcloud.com","*.quipelements.com","vapor.cloud","vaporcloud.io","rackmaze.com","rackmaze.net","g.vbrplsbx.io","*.on-k3s.io","*.on-rancher.cloud","*.on-rio.io","readthedocs.io","rhcloud.com","app.render.com","onrender.com","repl.co","id.repl.co","repl.run","resindevice.io","devices.resinstaging.io","hzc.io","wellbeingzone.eu","wellbeingzone.co.uk","adimo.co.uk","itcouldbewor.se","git-pages.rit.edu","rocky.page","биз.рус","ком.рус","крым.рус","мир.рус","мск.рус","орг.рус","самара.рус","сочи.рус","спб.рус","я.рус","*.builder.code.com","*.dev-builder.code.com","*.stg-builder.code.com","sandcats.io","logoip.de","logoip.com","fr-par-1.baremetal.scw.cloud","fr-par-2.baremetal.scw.cloud","nl-ams-1.baremetal.scw.cloud","fnc.fr-par.scw.cloud","functions.fnc.fr-par.scw.cloud","k8s.fr-par.scw.cloud","nodes.k8s.fr-par.scw.cloud","s3.fr-par.scw.cloud","s3-website.fr-par.scw.cloud","whm.fr-par.scw.cloud","priv.instances.scw.cloud","pub.instances.scw.cloud","k8s.scw.cloud","k8s.nl-ams.scw.cloud","nodes.k8s.nl-ams.scw.cloud","s3.nl-ams.scw.cloud","s3-website.nl-ams.scw.cloud","whm.nl-ams.scw.cloud","k8s.pl-waw.scw.cloud","nodes.k8s.pl-waw.scw.cloud","s3.pl-waw.scw.cloud","s3-website.pl-waw.scw.cloud","scalebook.scw.cloud","smartlabeling.scw.cloud","dedibox.fr","schokokeks.net","gov.scot","service.gov.scot","scrysec.com","firewall-gateway.com","firewall-gateway.de","my-gateway.de","my-router.de","spdns.de","spdns.eu","firewall-gateway.net","my-firewall.org","myfirewall.org","spdns.org","seidat.net","sellfy.store","senseering.net","minisite.ms","magnet.page","biz.ua","co.ua","pp.ua","shiftcrypto.dev","shiftcrypto.io","shiftedit.io","myshopblocks.com","myshopify.com","shopitsite.com","shopware.store","mo-siemens.io","1kapp.com","appchizi.com","applinzi.com","sinaapp.com","vipsinaapp.com","siteleaf.net","bounty-full.com","alpha.bounty-full.com","beta.bounty-full.com","small-web.org","vp4.me","try-snowplow.com","srht.site","stackhero-network.com","musician.io","novecore.site","static.land","dev.static.land","sites.static.land","storebase.store","vps-host.net","atl.jelastic.vps-host.net","njs.jelastic.vps-host.net","ric.jelastic.vps-host.net","playstation-cloud.com","apps.lair.io","*.stolos.io","spacekit.io","customer.speedpartner.de","myspreadshop.at","myspreadshop.com.au","myspreadshop.be","myspreadshop.ca","myspreadshop.ch","myspreadshop.com","myspreadshop.de","myspreadshop.dk","myspreadshop.es","myspreadshop.fi","myspreadshop.fr","myspreadshop.ie","myspreadshop.it","myspreadshop.net","myspreadshop.nl","myspreadshop.no","myspreadshop.pl","myspreadshop.se","myspreadshop.co.uk","api.stdlib.com","storj.farm","utwente.io","soc.srcf.net","user.srcf.net","temp-dns.com","supabase.co","supabase.in","supabase.net","su.paba.se","*.s5y.io","*.sensiosite.cloud","syncloud.it","dscloud.biz","direct.quickconnect.cn","dsmynas.com","familyds.com","diskstation.me","dscloud.me","i234.me","myds.me","synology.me","dscloud.mobi","dsmynas.net","familyds.net","dsmynas.org","familyds.org","vpnplus.to","direct.quickconnect.to","tabitorder.co.il","taifun-dns.de","beta.tailscale.net","ts.net","gda.pl","gdansk.pl","gdynia.pl","med.pl","sopot.pl","site.tb-hosting.com","edugit.io","s3.teckids.org","telebit.app","telebit.io","*.telebit.xyz","gwiddle.co.uk","*.firenet.ch","*.svc.firenet.ch","reservd.com","thingdustdata.com","cust.dev.thingdust.io","cust.disrec.thingdust.io","cust.prod.thingdust.io","cust.testing.thingdust.io","reservd.dev.thingdust.io","reservd.disrec.thingdust.io","reservd.testing.thingdust.io","tickets.io","arvo.network","azimuth.network","tlon.network","torproject.net","pages.torproject.net","bloxcms.com","townnews-staging.com","tbits.me","12hp.at","2ix.at","4lima.at","lima-city.at","12hp.ch","2ix.ch","4lima.ch","lima-city.ch","trafficplex.cloud","de.cool","12hp.de","2ix.de","4lima.de","lima-city.de","1337.pictures","clan.rip","lima-city.rocks","webspace.rocks","lima.zone","*.transurl.be","*.transurl.eu","*.transurl.nl","site.transip.me","tuxfamily.org","dd-dns.de","diskstation.eu","diskstation.org","dray-dns.de","draydns.de","dyn-vpn.de","dynvpn.de","mein-vigor.de","my-vigor.de","my-wan.de","syno-ds.de","synology-diskstation.de","synology-ds.de","typedream.app","pro.typeform.com","uber.space","*.uberspace.de","hk.com","hk.org","ltd.hk","inc.hk","name.pm","sch.tf","biz.wf","sch.wf","org.yt","virtualuser.de","virtual-user.de","upli.io","urown.cloud","dnsupdate.info","lib.de.us","2038.io","vercel.app","vercel.dev","now.sh","router.management","v-info.info","voorloper.cloud","neko.am","nyaa.am","be.ax","cat.ax","es.ax","eu.ax","gg.ax","mc.ax","us.ax","xy.ax","nl.ci","xx.gl","app.gp","blog.gt","de.gt","to.gt","be.gy","cc.hn","blog.kg","io.kg","jp.kg","tv.kg","uk.kg","us.kg","de.ls","at.md","de.md","jp.md","to.md","indie.porn","vxl.sh","ch.tc","me.tc","we.tc","nyan.to","at.vg","blog.vu","dev.vu","me.vu","v.ua","*.vultrobjects.com","wafflecell.com","*.webhare.dev","reserve-online.net","reserve-online.com","bookonline.app","hotelwithflight.com","wedeploy.io","wedeploy.me","wedeploy.sh","remotewd.com","pages.wiardweb.com","wmflabs.org","toolforge.org","wmcloud.org","panel.gg","daemon.panel.gg","messwithdns.com","woltlab-demo.com","myforum.community","community-pro.de","diskussionsbereich.de","community-pro.net","meinforum.net","affinitylottery.org.uk","raffleentry.org.uk","weeklylottery.org.uk","wpenginepowered.com","js.wpenginepowered.com","wixsite.com","editorx.io","half.host","xnbay.com","u2.xnbay.com","u2-local.xnbay.com","cistron.nl","demon.nl","xs4all.space","yandexcloud.net","storage.yandexcloud.net","website.yandexcloud.net","official.academy","yolasite.com","ybo.faith","yombo.me","homelink.one","ybo.party","ybo.review","ybo.science","ybo.trade","ynh.fr","nohost.me","noho.st","za.net","za.org","bss.design","basicserver.io","virtualserver.io","enterprisecloud.nu"]}}),require_psl=__commonJS({"node_modules/psl/index.js"(exports){var Punycode=require_punycode(),internals={};internals.rules=require_rules().map((function(rule){return{rule,suffix:rule.replace(/^(\*\.|\!)/,""),punySuffix:-1,wildcard:"*"===rule.charAt(0),exception:"!"===rule.charAt(0)}})),internals.endsWith=function(str,suffix){return-1!==str.indexOf(suffix,str.length-suffix.length)},internals.findRule=function(domain){var punyDomain=Punycode.toASCII(domain);return internals.rules.reduce((function(memo,rule){return-1===rule.punySuffix&&(rule.punySuffix=Punycode.toASCII(rule.suffix)),internals.endsWith(punyDomain,"."+rule.punySuffix)||punyDomain===rule.punySuffix?rule:memo}),null)},exports.errorCodes={DOMAIN_TOO_SHORT:"Domain name too short.",DOMAIN_TOO_LONG:"Domain name too long. It should be no more than 255 chars.",LABEL_STARTS_WITH_DASH:"Domain name label can not start with a dash.",LABEL_ENDS_WITH_DASH:"Domain name label can not end with a dash.",LABEL_TOO_LONG:"Domain name label should be at most 63 chars long.",LABEL_TOO_SHORT:"Domain name label should be at least 1 character long.",LABEL_INVALID_CHARS:"Domain name label can only contain alphanumeric characters or dashes."},internals.validate=function(input){var ascii=Punycode.toASCII(input);if(ascii.length<1)return"DOMAIN_TOO_SHORT";if(ascii.length>255)return"DOMAIN_TOO_LONG";for(var label,labels=ascii.split("."),i=0;i<labels.length;++i){if(!(label=labels[i]).length)return"LABEL_TOO_SHORT";if(label.length>63)return"LABEL_TOO_LONG";if("-"===label.charAt(0))return"LABEL_STARTS_WITH_DASH";if("-"===label.charAt(label.length-1))return"LABEL_ENDS_WITH_DASH";if(!/^[a-z0-9\-]+$/.test(label))return"LABEL_INVALID_CHARS"}},exports.parse=function(input){if("string"!=typeof input)throw new TypeError("Domain name must be a string.");var domain=input.slice(0).toLowerCase();"."===domain.charAt(domain.length-1)&&(domain=domain.slice(0,domain.length-1));var error=internals.validate(domain);if(error)return{input,error:{message:exports.errorCodes[error],code:error}};var parsed={input,tld:null,sld:null,domain:null,subdomain:null,listed:!1},domainParts=domain.split(".");if("local"===domainParts[domainParts.length-1])return parsed;var handlePunycode=function(){return/xn--/.test(domain)?(parsed.domain&&(parsed.domain=Punycode.toASCII(parsed.domain)),parsed.subdomain&&(parsed.subdomain=Punycode.toASCII(parsed.subdomain)),parsed):parsed},rule=internals.findRule(domain);if(!rule)return domainParts.length<2?parsed:(parsed.tld=domainParts.pop(),parsed.sld=domainParts.pop(),parsed.domain=[parsed.sld,parsed.tld].join("."),domainParts.length&&(parsed.subdomain=domainParts.pop()),handlePunycode());parsed.listed=!0;var tldParts=rule.suffix.split("."),privateParts=domainParts.slice(0,domainParts.length-tldParts.length);return rule.exception&&privateParts.push(tldParts.shift()),parsed.tld=tldParts.join("."),privateParts.length?(rule.wildcard&&(tldParts.unshift(privateParts.pop()),parsed.tld=tldParts.join(".")),privateParts.length?(parsed.sld=privateParts.pop(),parsed.domain=[parsed.sld,parsed.tld].join("."),privateParts.length&&(parsed.subdomain=privateParts.join(".")),handlePunycode()):handlePunycode()):handlePunycode()},exports.get=function(domain){return domain&&exports.parse(domain).domain||null},exports.isValid=function(domain){var parsed=exports.parse(domain);return Boolean(parsed.domain&&parsed.listed)}}}),require_pubsuffix_psl=__commonJS({"node_modules/tough-cookie/lib/pubsuffix-psl.js"(exports){var psl=require_psl(),SPECIAL_USE_DOMAINS=["local","example","invalid","localhost","test"],SPECIAL_TREATMENT_DOMAINS=["localhost","invalid"];exports.getPublicSuffix=function getPublicSuffix(domain,options={}){const domainParts=domain.split("."),topLevelDomain=domainParts[domainParts.length-1],allowSpecialUseDomain=!!options.allowSpecialUseDomain,ignoreError=!!options.ignoreError;if(allowSpecialUseDomain&&SPECIAL_USE_DOMAINS.includes(topLevelDomain)){if(domainParts.length>1){return`${domainParts[domainParts.length-2]}.${topLevelDomain}`}if(SPECIAL_TREATMENT_DOMAINS.includes(topLevelDomain))return`${topLevelDomain}`}if(!ignoreError&&SPECIAL_USE_DOMAINS.includes(topLevelDomain))throw new Error(`Cookie has domain set to the public suffix "${topLevelDomain}" which is a special use domain. To allow this, configure your CookieJar with {allowSpecialUseDomain:true, rejectPublicSuffixes: false}.`);return psl.get(domain)}}}),require_store=__commonJS({"node_modules/tough-cookie/lib/store.js"(exports){exports.Store=class{constructor(){this.synchronous=!1}findCookie(domain,path,key,cb){throw new Error("findCookie is not implemented")}findCookies(domain,path,allowSpecialUseDomain,cb){throw new Error("findCookies is not implemented")}putCookie(cookie,cb){throw new Error("putCookie is not implemented")}updateCookie(oldCookie,newCookie,cb){throw new Error("updateCookie is not implemented")}removeCookie(domain,path,key,cb){throw new Error("removeCookie is not implemented")}removeCookies(domain,path,cb){throw new Error("removeCookies is not implemented")}removeAllCookies(cb){throw new Error("removeAllCookies is not implemented")}getAllCookies(cb){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}}}}),require_universalify=__commonJS({"node_modules/universalify/index.js"(exports){exports.fromCallback=function(fn){return Object.defineProperty((function(){if("function"!=typeof arguments[arguments.length-1])return new Promise(((resolve,reject)=>{arguments[arguments.length]=(err,res)=>{if(err)return reject(err);resolve(res)},arguments.length++,fn.apply(this,arguments)}));fn.apply(this,arguments)}),"name",{value:fn.name})},exports.fromPromise=function(fn){return Object.defineProperty((function(){const cb=arguments[arguments.length-1];if("function"!=typeof cb)return fn.apply(this,arguments);delete arguments[arguments.length-1],arguments.length--,fn.apply(this,arguments).then((r=>cb(null,r)),cb)}),"name",{value:fn.name})}}}),require_permuteDomain=__commonJS({"node_modules/tough-cookie/lib/permuteDomain.js"(exports){var pubsuffix=require_pubsuffix_psl();exports.permuteDomain=function permuteDomain(domain,allowSpecialUseDomain){const pubSuf=pubsuffix.getPublicSuffix(domain,{allowSpecialUseDomain});if(!pubSuf)return null;if(pubSuf==domain)return[domain];"."==domain.slice(-1)&&(domain=domain.slice(0,-1));const parts=domain.slice(0,-(pubSuf.length+1)).split(".").reverse();let cur=pubSuf;const permutations=[cur];for(;parts.length;)cur=`${parts.shift()}.${cur}`,permutations.push(cur);return permutations}}}),require_pathMatch=__commonJS({"node_modules/tough-cookie/lib/pathMatch.js"(exports){exports.pathMatch=function pathMatch(reqPath,cookiePath){if(cookiePath===reqPath)return!0;if(0===reqPath.indexOf(cookiePath)){if("/"===cookiePath.substr(-1))return!0;if("/"===reqPath.substr(cookiePath.length,1))return!0}return!1}}}),require_utilHelper=__commonJS({"node_modules/tough-cookie/lib/utilHelper.js"(exports){function requireUtil(){try{return __require("util")}catch(e){return null}}function lookupCustomInspectSymbol(){return Symbol.for("nodejs.util.inspect.custom")}exports.getUtilInspect=function getUtilInspect(fallback,options={}){const util=(options.requireUtil||requireUtil)();return function inspect(value,showHidden,depth){return util?util.inspect(value,showHidden,depth):fallback(value)}},exports.getCustomInspectSymbol=function getCustomInspectSymbol(options={}){return(options.lookupCustomInspectSymbol||lookupCustomInspectSymbol)()||function tryReadingCustomSymbolFromUtilInspect(options){const util=(options.requireUtil||requireUtil)();return util?util.inspect.custom:null}(options)}}}),require_memstore=__commonJS({"node_modules/tough-cookie/lib/memstore.js"(exports){var{fromCallback}=require_universalify(),Store=require_store().Store,permuteDomain=require_permuteDomain().permuteDomain,pathMatch=require_pathMatch().pathMatch,{getCustomInspectSymbol,getUtilInspect}=require_utilHelper(),MemoryCookieStore=class extends Store{constructor(){super(),this.synchronous=!0,this.idx=Object.create(null);const customInspectSymbol=getCustomInspectSymbol();customInspectSymbol&&(this[customInspectSymbol]=this.inspect)}inspect(){return`{ idx: ${{inspect:getUtilInspect(inspectFallback)}.inspect(this.idx,!1,2)} }`}findCookie(domain,path,key,cb){return this.idx[domain]&&this.idx[domain][path]?cb(null,this.idx[domain][path][key]||null):cb(null,void 0)}findCookies(domain,path,allowSpecialUseDomain,cb){const results=[];if("function"==typeof allowSpecialUseDomain&&(cb=allowSpecialUseDomain,allowSpecialUseDomain=!0),!domain)return cb(null,[]);let pathMatcher;pathMatcher=path?function matchRFC(domainIndex){Object.keys(domainIndex).forEach((cookiePath=>{if(pathMatch(path,cookiePath)){const pathIndex=domainIndex[cookiePath];for(const key in pathIndex)results.push(pathIndex[key])}}))}:function matchAll(domainIndex){for(const curPath in domainIndex){const pathIndex=domainIndex[curPath];for(const key in pathIndex)results.push(pathIndex[key])}};const domains=permuteDomain(domain,allowSpecialUseDomain)||[domain],idx=this.idx;domains.forEach((curDomain=>{const domainIndex=idx[curDomain];domainIndex&&pathMatcher(domainIndex)})),cb(null,results)}putCookie(cookie,cb){this.idx[cookie.domain]||(this.idx[cookie.domain]=Object.create(null)),this.idx[cookie.domain][cookie.path]||(this.idx[cookie.domain][cookie.path]=Object.create(null)),this.idx[cookie.domain][cookie.path][cookie.key]=cookie,cb(null)}updateCookie(oldCookie,newCookie,cb){this.putCookie(newCookie,cb)}removeCookie(domain,path,key,cb){this.idx[domain]&&this.idx[domain][path]&&this.idx[domain][path][key]&&delete this.idx[domain][path][key],cb(null)}removeCookies(domain,path,cb){return this.idx[domain]&&(path?delete this.idx[domain][path]:delete this.idx[domain]),cb(null)}removeAllCookies(cb){return this.idx=Object.create(null),cb(null)}getAllCookies(cb){const cookies=[],idx=this.idx;Object.keys(idx).forEach((domain=>{Object.keys(idx[domain]).forEach((path=>{Object.keys(idx[domain][path]).forEach((key=>{null!==key&&cookies.push(idx[domain][path][key])}))}))})),cookies.sort(((a,b)=>(a.creationIndex||0)-(b.creationIndex||0))),cb(null,cookies)}};function inspectFallback(val){const domains=Object.keys(val);if(0===domains.length)return"[Object: null prototype] {}";let result="[Object: null prototype] {\n";return Object.keys(val).forEach(((domain,i)=>{result+=function formatDomain(domainName,domainValue){const indent="  ";let result=`${indent}'${domainName}': [Object: null prototype] {\n`;return Object.keys(domainValue).forEach(((path,i,paths)=>{result+=function formatPath(pathName,pathValue){const indent="    ";let result=`${indent}'${pathName}': [Object: null prototype] {\n`;return Object.keys(pathValue).forEach(((cookieName,i,cookieNames)=>{const cookie=pathValue[cookieName];result+=`      ${cookieName}: ${cookie.inspect()}`,i<cookieNames.length-1&&(result+=","),result+="\n"})),result+=`${indent}}`,result}(path,domainValue[path]),i<paths.length-1&&(result+=","),result+="\n"})),result+=`${indent}}`,result}(domain,val[domain]),i<domains.length-1&&(result+=","),result+="\n"})),result+="}",result}["findCookie","findCookies","putCookie","updateCookie","removeCookie","removeCookies","removeAllCookies","getAllCookies"].forEach((name=>{MemoryCookieStore.prototype[name]=fromCallback(MemoryCookieStore.prototype[name])})),exports.MemoryCookieStore=MemoryCookieStore,exports.inspectFallback=inspectFallback}}),require_validators=__commonJS({"node_modules/tough-cookie/lib/validators.js"(exports){var toString=Object.prototype.toString;function isFunction(data){return"function"==typeof data}function isNonEmptyString(data){return isString(data)&&""!==data}function isString(data){return"string"==typeof data||data instanceof String}function isObject(data){return"[object Object]"===toString.call(data)}function isInstanceStrict(data,prototype){try{return data instanceof prototype}catch(error){return!1}}var ParameterError=class extends Error{constructor(...params){super(...params)}};exports.ParameterError=ParameterError,exports.isFunction=isFunction,exports.isNonEmptyString=isNonEmptyString,exports.isDate=function isDate(data){return isInstanceStrict(data,Date)&&function isInteger(data){return"number"==typeof data&&data%1==0}(data.getTime())},exports.isEmptyString=function isEmptyString(data){return""===data||data instanceof String&&""===data.toString()},exports.isString=isString,exports.isObject=isObject,exports.isUrlStringOrObject=function isUrlStringOrObject(data){return isNonEmptyString(data)||isObject(data)&&"hostname"in data&&"pathname"in data&&"protocol"in data||isInstanceStrict(data,URL)},exports.validate=function validate(bool,cb,options){if(isFunction(cb)||(options=cb,cb=null),isObject(options)||(options={Error:"Failed Check"}),!bool){if(!cb)throw new ParameterError(options);cb(new ParameterError(options))}}}}),require_version=__commonJS({"node_modules/tough-cookie/lib/version.js"(exports,module){module.exports="4.1.4"}}),require_cookie=__commonJS({"node_modules/tough-cookie/lib/cookie.js"(exports){var punycode=require_punycode(),urlParse=require_url_parse(),pubsuffix=require_pubsuffix_psl(),Store=require_store().Store,MemoryCookieStore=require_memstore().MemoryCookieStore,pathMatch=require_pathMatch().pathMatch,validators=require_validators(),VERSION=require_version(),{fromCallback}=require_universalify(),{getCustomInspectSymbol}=require_utilHelper(),COOKIE_OCTETS=/^[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]+$/,CONTROL_CHARS=/[\x00-\x1F]/,TERMINATORS=["\n","\r","\0"],PATH_VALUE=/[\x20-\x3A\x3C-\x7E]+/,DATE_DELIM=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,MONTH_TO_NUM={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},SAME_SITE_CONTEXT_VAL_ERR='Invalid sameSiteContext option for getCookies(); expected one of "strict", "lax", or "none"';function checkSameSiteContext(value){validators.validate(validators.isNonEmptyString(value),value);const context=String(value).toLowerCase();return"none"===context||"lax"===context||"strict"===context?context:null}var PrefixSecurityEnum=Object.freeze({SILENT:"silent",STRICT:"strict",DISABLED:"unsafe-disabled"}),IP_REGEX_LOWERCASE=/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-f\d]{1,4}:){7}(?:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,2}|:)|(?:[a-f\d]{1,4}:){4}(?:(?::[a-f\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,3}|:)|(?:[a-f\d]{1,4}:){3}(?:(?::[a-f\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,4}|:)|(?:[a-f\d]{1,4}:){2}(?:(?::[a-f\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,5}|:)|(?:[a-f\d]{1,4}:){1}(?:(?::[a-f\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,6}|:)|(?::(?:(?::[a-f\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,7}|:)))$)/,IP_V6_REGEX="\n\\[?(?:\n(?:[a-fA-F\\d]{1,4}:){7}(?:[a-fA-F\\d]{1,4}|:)|\n(?:[a-fA-F\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-fA-F\\d]{1,4}|:)|\n(?:[a-fA-F\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,2}|:)|\n(?:[a-fA-F\\d]{1,4}:){4}(?:(?::[a-fA-F\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,3}|:)|\n(?:[a-fA-F\\d]{1,4}:){3}(?:(?::[a-fA-F\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,4}|:)|\n(?:[a-fA-F\\d]{1,4}:){2}(?:(?::[a-fA-F\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,5}|:)|\n(?:[a-fA-F\\d]{1,4}:){1}(?:(?::[a-fA-F\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,6}|:)|\n(?::(?:(?::[a-fA-F\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,7}|:))\n)(?:%[0-9a-zA-Z]{1,})?\\]?\n".replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),IP_V6_REGEX_OBJECT=new RegExp(`^${IP_V6_REGEX}$`);function parseDigits(token,minDigits,maxDigits,trailingOK){let count=0;for(;count<token.length;){const c=token.charCodeAt(count);if(c<=47||c>=58)break;count++}return count<minDigits||count>maxDigits?null:trailingOK||count==token.length?parseInt(token.substr(0,count),10):null}function parseTime(token){const parts=token.split(":"),result=[0,0,0];if(3!==parts.length)return null;for(let i=0;i<3;i++){const trailingOK=2==i,num=parseDigits(parts[i],1,2,trailingOK);if(null===num)return null;result[i]=num}return result}function parseMonth(token){token=String(token).substr(0,3).toLowerCase();const num=MONTH_TO_NUM[token];return num>=0?num:null}function parseDate(str){if(!str)return;const tokens=str.split(DATE_DELIM);if(!tokens)return;let hour=null,minute=null,second=null,dayOfMonth=null,month=null,year=null;for(let i=0;i<tokens.length;i++){const token=tokens[i].trim();if(!token.length)continue;let result;null===second&&(result=parseTime(token),result)?(hour=result[0],minute=result[1],second=result[2]):null!==dayOfMonth||(result=parseDigits(token,1,2,!0),null===result)?null!==month||(result=parseMonth(token),null===result)?null===year&&(result=parseDigits(token,2,4,!0),null!==result&&(year=result,year>=70&&year<=99?year+=1900:year>=0&&year<=69&&(year+=2e3))):month=result:dayOfMonth=result}return null===dayOfMonth||null===month||null===year||null===second||dayOfMonth<1||dayOfMonth>31||year<1601||hour>23||minute>59||second>59?void 0:new Date(Date.UTC(year,month,dayOfMonth,hour,minute,second))}function formatDate(date){return validators.validate(validators.isDate(date),date),date.toUTCString()}function canonicalDomain(str){return null==str?null:(str=str.trim().replace(/^\./,""),IP_V6_REGEX_OBJECT.test(str)&&(str=str.replace("[","").replace("]","")),punycode&&/[^\u0001-\u007f]/.test(str)&&(str=punycode.toASCII(str)),str.toLowerCase())}function domainMatch(str,domStr,canonicalize){if(null==str||null==domStr)return null;if(!1!==canonicalize&&(str=canonicalDomain(str),domStr=canonicalDomain(domStr)),str==domStr)return!0;const idx=str.lastIndexOf(domStr);return!(idx<=0)&&(str.length===domStr.length+idx&&("."===str.substr(idx-1,1)&&!IP_REGEX_LOWERCASE.test(str)))}function defaultPath(path){if(!path||"/"!==path.substr(0,1))return"/";if("/"===path)return path;const rightSlash=path.lastIndexOf("/");return 0===rightSlash?"/":path.slice(0,rightSlash)}function parseCookiePair(cookiePair,looseMode){cookiePair=function trimTerminator(str){if(validators.isEmptyString(str))return str;for(let t=0;t<TERMINATORS.length;t++){const terminatorIdx=str.indexOf(TERMINATORS[t]);-1!==terminatorIdx&&(str=str.substr(0,terminatorIdx))}return str}(cookiePair),validators.validate(validators.isString(cookiePair),cookiePair);let cookieName,cookieValue,firstEq=cookiePair.indexOf("=");if(looseMode)0===firstEq&&(firstEq=(cookiePair=cookiePair.substr(1)).indexOf("="));else if(firstEq<=0)return;if(firstEq<=0?(cookieName="",cookieValue=cookiePair.trim()):(cookieName=cookiePair.substr(0,firstEq).trim(),cookieValue=cookiePair.substr(firstEq+1).trim()),CONTROL_CHARS.test(cookieName)||CONTROL_CHARS.test(cookieValue))return;const c=new Cookie;return c.key=cookieName,c.value=cookieValue,c}function parse(str,options){if(options&&"object"==typeof options||(options={}),validators.isEmptyString(str)||!validators.isString(str))return null;const firstSemi=(str=str.trim()).indexOf(";"),c=parseCookiePair(-1===firstSemi?str:str.substr(0,firstSemi),!!options.loose);if(!c)return;if(-1===firstSemi)return c;const unparsed=str.slice(firstSemi+1).trim();if(0===unparsed.length)return c;const cookie_avs=unparsed.split(";");for(;cookie_avs.length;){const av=cookie_avs.shift().trim();if(0===av.length)continue;const av_sep=av.indexOf("=");let av_key,av_value;switch(-1===av_sep?(av_key=av,av_value=null):(av_key=av.substr(0,av_sep),av_value=av.substr(av_sep+1)),av_key=av_key.trim().toLowerCase(),av_value&&(av_value=av_value.trim()),av_key){case"expires":if(av_value){const exp=parseDate(av_value);exp&&(c.expires=exp)}break;case"max-age":if(av_value&&/^-?[0-9]+$/.test(av_value)){const delta=parseInt(av_value,10);c.setMaxAge(delta)}break;case"domain":if(av_value){const domain=av_value.trim().replace(/^\./,"");domain&&(c.domain=domain.toLowerCase())}break;case"path":c.path=av_value&&"/"===av_value[0]?av_value:null;break;case"secure":c.secure=!0;break;case"httponly":c.httpOnly=!0;break;case"samesite":switch(av_value?av_value.toLowerCase():""){case"strict":c.sameSite="strict";break;case"lax":c.sameSite="lax";break;case"none":c.sameSite="none";break;default:c.sameSite=void 0}break;default:c.extensions=c.extensions||[],c.extensions.push(av)}}return c}function jsonParse(str){let obj;try{obj=JSON.parse(str)}catch(e){return e}return obj}function fromJSON(str){if(!str||validators.isEmptyString(str))return null;let obj;if("string"==typeof str){if(obj=jsonParse(str),obj instanceof Error)return null}else obj=str;const c=new Cookie;for(let i=0;i<Cookie.serializableProperties.length;i++){const prop=Cookie.serializableProperties[i];void 0!==obj[prop]&&obj[prop]!==cookieDefaults[prop]&&("expires"===prop||"creation"===prop||"lastAccessed"===prop?null===obj[prop]?c[prop]=null:c[prop]="Infinity"==obj[prop]?"Infinity":new Date(obj[prop]):c[prop]=obj[prop])}return c}function cookieCompare(a,b){validators.validate(validators.isObject(a),a),validators.validate(validators.isObject(b),b);let cmp=0;const aPathLen=a.path?a.path.length:0;if(cmp=(b.path?b.path.length:0)-aPathLen,0!==cmp)return cmp;return cmp=(a.creation?a.creation.getTime():2147483647e3)-(b.creation?b.creation.getTime():2147483647e3),0!==cmp||(cmp=a.creationIndex-b.creationIndex),cmp}function getCookieContext(url){if(url instanceof Object)return url;try{url=decodeURI(url)}catch(err){}return urlParse(url)}var cookieDefaults={key:"",value:"",expires:"Infinity",maxAge:null,domain:null,path:null,secure:!1,httpOnly:!1,extensions:null,hostOnly:null,pathIsDefault:null,creation:null,lastAccessed:null,sameSite:void 0},Cookie=class _Cookie{constructor(options={}){const customInspectSymbol=getCustomInspectSymbol();customInspectSymbol&&(this[customInspectSymbol]=this.inspect),Object.assign(this,cookieDefaults,options),this.creation=this.creation||new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++_Cookie.cookiesCreated})}inspect(){const now=Date.now(),hostOnly=null!=this.hostOnly?this.hostOnly:"?",createAge=this.creation?now-this.creation.getTime()+"ms":"?",accessAge=this.lastAccessed?now-this.lastAccessed.getTime()+"ms":"?";return`Cookie="${this.toString()}; hostOnly=${hostOnly}; aAge=${accessAge}; cAge=${createAge}"`}toJSON(){const obj={};for(const prop of _Cookie.serializableProperties)this[prop]!==cookieDefaults[prop]&&("expires"===prop||"creation"===prop||"lastAccessed"===prop?null===this[prop]?obj[prop]=null:obj[prop]="Infinity"==this[prop]?"Infinity":this[prop].toISOString():"maxAge"===prop?null!==this[prop]&&(obj[prop]=this[prop]==1/0||this[prop]==-1/0?this[prop].toString():this[prop]):this[prop]!==cookieDefaults[prop]&&(obj[prop]=this[prop]));return obj}clone(){return fromJSON(this.toJSON())}validate(){if(!COOKIE_OCTETS.test(this.value))return!1;if(!(this.expires==1/0||this.expires instanceof Date||parseDate(this.expires)))return!1;if(null!=this.maxAge&&this.maxAge<=0)return!1;if(null!=this.path&&!PATH_VALUE.test(this.path))return!1;const cdomain=this.cdomain();if(cdomain){if(cdomain.match(/\.$/))return!1;if(null==pubsuffix.getPublicSuffix(cdomain))return!1}return!0}setExpires(exp){exp instanceof Date?this.expires=exp:this.expires=parseDate(exp)||"Infinity"}setMaxAge(age){this.maxAge=age===1/0||age===-1/0?age.toString():age}cookieString(){let val=this.value;return null==val&&(val=""),""===this.key?val:`${this.key}=${val}`}toString(){let str=this.cookieString();if(this.expires!=1/0&&(this.expires instanceof Date?str+=`; Expires=${formatDate(this.expires)}`:str+=`; Expires=${this.expires}`),null!=this.maxAge&&this.maxAge!=1/0&&(str+=`; Max-Age=${this.maxAge}`),this.domain&&!this.hostOnly&&(str+=`; Domain=${this.domain}`),this.path&&(str+=`; Path=${this.path}`),this.secure&&(str+="; Secure"),this.httpOnly&&(str+="; HttpOnly"),this.sameSite&&"none"!==this.sameSite){const ssCanon=_Cookie.sameSiteCanonical[this.sameSite.toLowerCase()];str+=`; SameSite=${ssCanon||this.sameSite}`}return this.extensions&&this.extensions.forEach((ext=>{str+=`; ${ext}`})),str}TTL(now){if(null!=this.maxAge)return this.maxAge<=0?0:1e3*this.maxAge;let expires=this.expires;return expires!=1/0?(expires instanceof Date||(expires=parseDate(expires)||1/0),expires==1/0?1/0:expires.getTime()-(now||Date.now())):1/0}expiryTime(now){if(null!=this.maxAge){const relativeTo=now||this.creation||new Date,age=this.maxAge<=0?-1/0:1e3*this.maxAge;return relativeTo.getTime()+age}return this.expires==1/0?1/0:this.expires.getTime()}expiryDate(now){const millisec=this.expiryTime(now);return millisec==1/0?new Date(2147483647e3):millisec==-1/0?new Date(0):new Date(millisec)}isPersistent(){return null!=this.maxAge||this.expires!=1/0}canonicalizedDomain(){return null==this.domain?null:canonicalDomain(this.domain)}cdomain(){return this.canonicalizedDomain()}};function getNormalizedPrefixSecurity(prefixSecurity){if(null!=prefixSecurity){const normalizedPrefixSecurity=prefixSecurity.toLowerCase();switch(normalizedPrefixSecurity){case PrefixSecurityEnum.STRICT:case PrefixSecurityEnum.SILENT:case PrefixSecurityEnum.DISABLED:return normalizedPrefixSecurity}}return PrefixSecurityEnum.SILENT}Cookie.cookiesCreated=0,Cookie.parse=parse,Cookie.fromJSON=fromJSON,Cookie.serializableProperties=Object.keys(cookieDefaults),Cookie.sameSiteLevel={strict:3,lax:2,none:1},Cookie.sameSiteCanonical={strict:"Strict",lax:"Lax"};var CookieJar=class _CookieJar{constructor(store,options={rejectPublicSuffixes:!0}){"boolean"==typeof options&&(options={rejectPublicSuffixes:options}),validators.validate(validators.isObject(options),options),this.rejectPublicSuffixes=options.rejectPublicSuffixes,this.enableLooseMode=!!options.looseMode,this.allowSpecialUseDomain="boolean"!=typeof options.allowSpecialUseDomain||options.allowSpecialUseDomain,this.store=store||new MemoryCookieStore,this.prefixSecurity=getNormalizedPrefixSecurity(options.prefixSecurity),this._cloneSync=syncWrap("clone"),this._importCookiesSync=syncWrap("_importCookies"),this.getCookiesSync=syncWrap("getCookies"),this.getCookieStringSync=syncWrap("getCookieString"),this.getSetCookieStringsSync=syncWrap("getSetCookieStrings"),this.removeAllCookiesSync=syncWrap("removeAllCookies"),this.setCookieSync=syncWrap("setCookie"),this.serializeSync=syncWrap("serialize")}setCookie(cookie,url,options,cb){let err;if(validators.validate(validators.isUrlStringOrObject(url),cb,options),validators.isFunction(url))return(cb=url)(new Error("No URL was specified"));const context=getCookieContext(url);if(validators.isFunction(options)&&(cb=options,options={}),validators.validate(validators.isFunction(cb),cb),!validators.isNonEmptyString(cookie)&&!validators.isObject(cookie)&&cookie instanceof String&&0==cookie.length)return cb(null);const host=canonicalDomain(context.hostname),loose=options.loose||this.enableLooseMode;let sameSiteContext=null;if(options.sameSiteContext&&(sameSiteContext=checkSameSiteContext(options.sameSiteContext),!sameSiteContext))return cb(new Error(SAME_SITE_CONTEXT_VAL_ERR));if("string"==typeof cookie||cookie instanceof String){if(!(cookie=Cookie.parse(cookie,{loose})))return err=new Error("Cookie failed to parse"),cb(options.ignoreError?null:err)}else if(!(cookie instanceof Cookie))return err=new Error("First argument to setCookie must be a Cookie object or string"),cb(options.ignoreError?null:err);const now=options.now||new Date;if(this.rejectPublicSuffixes&&cookie.domain){if(null==pubsuffix.getPublicSuffix(cookie.cdomain(),{allowSpecialUseDomain:this.allowSpecialUseDomain,ignoreError:options.ignoreError})&&!IP_V6_REGEX_OBJECT.test(cookie.domain))return err=new Error("Cookie has domain set to a public suffix"),cb(options.ignoreError?null:err)}if(cookie.domain){if(!domainMatch(host,cookie.cdomain(),!1))return err=new Error(`Cookie not in this host's domain. Cookie:${cookie.cdomain()} Request:${host}`),cb(options.ignoreError?null:err);null==cookie.hostOnly&&(cookie.hostOnly=!1)}else cookie.hostOnly=!0,cookie.domain=host;if(cookie.path&&"/"===cookie.path[0]||(cookie.path=defaultPath(context.pathname),cookie.pathIsDefault=!0),!1===options.http&&cookie.httpOnly)return err=new Error("Cookie is HttpOnly and this isn't an HTTP API"),cb(options.ignoreError?null:err);if("none"!==cookie.sameSite&&void 0!==cookie.sameSite&&sameSiteContext&&"none"===sameSiteContext)return err=new Error("Cookie is SameSite but this is a cross-origin request"),cb(options.ignoreError?null:err);const ignoreErrorForPrefixSecurity=this.prefixSecurity===PrefixSecurityEnum.SILENT;if(!(this.prefixSecurity===PrefixSecurityEnum.DISABLED)){let errorMsg,errorFound=!1;if(!function isSecurePrefixConditionMet(cookie){return validators.validate(validators.isObject(cookie),cookie),!cookie.key.startsWith("__Secure-")||cookie.secure}(cookie)?(errorFound=!0,errorMsg="Cookie has __Secure prefix but Secure attribute is not set"):function isHostPrefixConditionMet(cookie){return validators.validate(validators.isObject(cookie)),!cookie.key.startsWith("__Host-")||cookie.secure&&cookie.hostOnly&&null!=cookie.path&&"/"===cookie.path}(cookie)||(errorFound=!0,errorMsg="Cookie has __Host prefix but either Secure or HostOnly attribute is not set or Path is not '/'"),errorFound)return cb(options.ignoreError||ignoreErrorForPrefixSecurity?null:new Error(errorMsg))}const store=this.store;store.updateCookie||(store.updateCookie=function(oldCookie,newCookie,cb2){this.putCookie(newCookie,cb2)}),store.findCookie(cookie.domain,cookie.path,cookie.key,(function withCookie(err2,oldCookie){if(err2)return cb(err2);const next=function(err3){if(err3)return cb(err3);cb(null,cookie)};if(oldCookie){if(!1===options.http&&oldCookie.httpOnly)return err2=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),cb(options.ignoreError?null:err2);cookie.creation=oldCookie.creation,cookie.creationIndex=oldCookie.creationIndex,cookie.lastAccessed=now,store.updateCookie(oldCookie,cookie,next)}else cookie.creation=cookie.lastAccessed=now,store.putCookie(cookie,next)}))}getCookies(url,options,cb){validators.validate(validators.isUrlStringOrObject(url),cb,url);const context=getCookieContext(url);validators.isFunction(options)&&(cb=options,options={}),validators.validate(validators.isObject(options),cb,options),validators.validate(validators.isFunction(cb),cb);const host=canonicalDomain(context.hostname),path=context.pathname||"/";let secure=options.secure;null!=secure||!context.protocol||"https:"!=context.protocol&&"wss:"!=context.protocol||(secure=!0);let sameSiteLevel=0;if(options.sameSiteContext){const sameSiteContext=checkSameSiteContext(options.sameSiteContext);if(sameSiteLevel=Cookie.sameSiteLevel[sameSiteContext],!sameSiteLevel)return cb(new Error(SAME_SITE_CONTEXT_VAL_ERR))}let http=options.http;null==http&&(http=!0);const now=options.now||Date.now(),expireCheck=!1!==options.expire,allPaths=!!options.allPaths,store=this.store;function matchingCookie(c){if(c.hostOnly){if(c.domain!=host)return!1}else if(!domainMatch(host,c.domain,!1))return!1;if(!allPaths&&!pathMatch(path,c.path))return!1;if(c.secure&&!secure)return!1;if(c.httpOnly&&!http)return!1;if(sameSiteLevel){if(Cookie.sameSiteLevel[c.sameSite||"none"]>sameSiteLevel)return!1}return!(expireCheck&&c.expiryTime()<=now)||(store.removeCookie(c.domain,c.path,c.key,(()=>{})),!1)}store.findCookies(host,allPaths?null:path,this.allowSpecialUseDomain,((err,cookies)=>{if(err)return cb(err);cookies=cookies.filter(matchingCookie),!1!==options.sort&&(cookies=cookies.sort(cookieCompare));const now2=new Date;for(const cookie of cookies)cookie.lastAccessed=now2;cb(null,cookies)}))}getCookieString(...args){const cb=args.pop();validators.validate(validators.isFunction(cb),cb);args.push((function(err,cookies){err?cb(err):cb(null,cookies.sort(cookieCompare).map((c=>c.cookieString())).join("; "))})),this.getCookies.apply(this,args)}getSetCookieStrings(...args){const cb=args.pop();validators.validate(validators.isFunction(cb),cb);args.push((function(err,cookies){err?cb(err):cb(null,cookies.map((c=>c.toString())))})),this.getCookies.apply(this,args)}serialize(cb){validators.validate(validators.isFunction(cb),cb);let type=this.store.constructor.name;validators.isObject(type)&&(type=null);const serialized={version:`tough-cookie@${VERSION}`,storeType:type,rejectPublicSuffixes:!!this.rejectPublicSuffixes,enableLooseMode:!!this.enableLooseMode,allowSpecialUseDomain:!!this.allowSpecialUseDomain,prefixSecurity:getNormalizedPrefixSecurity(this.prefixSecurity),cookies:[]};if(!this.store.getAllCookies||"function"!=typeof this.store.getAllCookies)return cb(new Error("store does not support getAllCookies and cannot be serialized"));this.store.getAllCookies(((err,cookies)=>err?cb(err):(serialized.cookies=cookies.map((cookie=>(delete(cookie=cookie instanceof Cookie?cookie.toJSON():cookie).creationIndex,cookie))),cb(null,serialized))))}toJSON(){return this.serializeSync()}_importCookies(serialized,cb){let cookies=serialized.cookies;if(!cookies||!Array.isArray(cookies))return cb(new Error("serialized jar has no cookies array"));cookies=cookies.slice();const putNext=err=>{if(err)return cb(err);if(!cookies.length)return cb(err,this);let cookie;try{cookie=fromJSON(cookies.shift())}catch(e){return cb(e)}if(null===cookie)return putNext(null);this.store.putCookie(cookie,putNext)};putNext()}clone(newStore,cb){1===arguments.length&&(cb=newStore,newStore=null),this.serialize(((err,serialized)=>{if(err)return cb(err);_CookieJar.deserialize(serialized,newStore,cb)}))}cloneSync(newStore){if(0===arguments.length)return this._cloneSync();if(!newStore.synchronous)throw new Error("CookieJar clone destination store is not synchronous; use async API instead.");return this._cloneSync(newStore)}removeAllCookies(cb){validators.validate(validators.isFunction(cb),cb);const store=this.store;if("function"==typeof store.removeAllCookies&&store.removeAllCookies!==Store.prototype.removeAllCookies)return store.removeAllCookies(cb);store.getAllCookies(((err,cookies)=>{if(err)return cb(err);if(0===cookies.length)return cb(null);let completedCount=0;const removeErrors=[];function removeCookieCb(removeErr){if(removeErr&&removeErrors.push(removeErr),completedCount++,completedCount===cookies.length)return cb(removeErrors.length?removeErrors[0]:null)}cookies.forEach((cookie=>{store.removeCookie(cookie.domain,cookie.path,cookie.key,removeCookieCb)}))}))}static deserialize(strOrObj,store,cb){let serialized;if(3!==arguments.length&&(cb=store,store=null),validators.validate(validators.isFunction(cb),cb),"string"==typeof strOrObj){if(serialized=jsonParse(strOrObj),serialized instanceof Error)return cb(serialized)}else serialized=strOrObj;const jar=new _CookieJar(store,{rejectPublicSuffixes:serialized.rejectPublicSuffixes,looseMode:serialized.enableLooseMode,allowSpecialUseDomain:serialized.allowSpecialUseDomain,prefixSecurity:serialized.prefixSecurity});jar._importCookies(serialized,(err=>{if(err)return cb(err);cb(null,jar)}))}static deserializeSync(strOrObj,store){const serialized="string"==typeof strOrObj?JSON.parse(strOrObj):strOrObj,jar=new _CookieJar(store,{rejectPublicSuffixes:serialized.rejectPublicSuffixes,looseMode:serialized.enableLooseMode});if(!jar.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return jar._importCookiesSync(serialized),jar}};function syncWrap(method){return function(...args){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");let syncErr,syncResult;if(this[method](...args,((err,result)=>{syncErr=err,syncResult=result})),syncErr)throw syncErr;return syncResult}}CookieJar.fromJSON=CookieJar.deserializeSync,["_importCookies","clone","getCookies","getCookieString","getSetCookieStrings","removeAllCookies","serialize","setCookie"].forEach((name=>{CookieJar.prototype[name]=fromCallback(CookieJar.prototype[name])})),CookieJar.deserialize=fromCallback(CookieJar.deserialize),exports.version=VERSION,exports.CookieJar=CookieJar,exports.Cookie=Cookie,exports.Store=Store,exports.MemoryCookieStore=MemoryCookieStore,exports.parseDate=parseDate,exports.formatDate=formatDate,exports.parse=parse,exports.fromJSON=fromJSON,exports.domainMatch=domainMatch,exports.defaultPath=defaultPath,exports.pathMatch=pathMatch,exports.getPublicSuffix=pubsuffix.getPublicSuffix,exports.cookieCompare=cookieCompare,exports.permuteDomain=require_permuteDomain().permuteDomain,exports.permutePath=function permutePath(path){if(validators.validate(validators.isString(path)),"/"===path)return["/"];const permutations=[path];for(;path.length>1;){const lindex=path.lastIndexOf("/");if(0===lindex)break;path=path.substr(0,lindex),permutations.push(path)}return permutations.push("/"),permutations},exports.canonicalDomain=canonicalDomain,exports.PrefixSecurityEnum=PrefixSecurityEnum,exports.ParameterError=validators.ParameterError}}),source_default=(mod=require_cookie(),isNodeMode=1,target=null!=mod?__create(__getProtoOf(mod)):{},((to,from,except,desc)=>{if(from&&"object"==typeof from||"function"==typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to})(!isNodeMode&&mod&&mod.__esModule?target:__defProp(target,"default",{value:mod,enumerable:!0}),mod)).default;const{Cookie,CookieJar,Store,MemoryCookieStore,domainMatch,pathMatch}=source_default;const cookieStore=new CookieJar((0,is_node_process_lib.l)()?new MemoryCookieStore:new class WebStorageCookieStore extends Store{storage;storageKey;constructor(){super(),(0,lib.kG)("undefined"!=typeof localStorage,"Failed to create a WebStorageCookieStore: `localStorage` is not available in this environment. This is likely an issue with MSW. Please report it on GitHub: https://github.com/mswjs/msw/issues"),this.synchronous=!0,this.storage=localStorage,this.storageKey="__msw-cookie-store__"}findCookie(domain,path,key,callback){try{const store2=this.getStore();callback(null,this.filterCookiesFromList(store2,{domain,path,key})[0]||null)}catch(error){error instanceof Error&&callback(error,null)}}findCookies(domain,path,allowSpecialUseDomain,callback){if(domain)try{const store2=this.getStore();callback(null,this.filterCookiesFromList(store2,{domain,path}))}catch(error){error instanceof Error&&callback(error,[])}else callback(null,[])}putCookie(cookie,callback){try{const store2=this.getStore();store2.push(cookie),this.updateStore(store2)}catch(error){error instanceof Error&&callback(error)}}updateCookie(oldCookie,newCookie,callback){this.putCookie(newCookie,callback)}removeCookie(domain,path,key,callback){try{const store2=this.getStore(),nextStore=this.deleteCookiesFromList(store2,{domain,path,key});this.updateStore(nextStore),callback(null)}catch(error){error instanceof Error&&callback(error)}}removeCookies(domain,path,callback){try{const store2=this.getStore(),nextStore=this.deleteCookiesFromList(store2,{domain,path});this.updateStore(nextStore),callback(null)}catch(error){error instanceof Error&&callback(error)}}getAllCookies(callback){try{callback(null,this.getStore())}catch(error){error instanceof Error&&callback(error,[])}}getStore(){try{const json=this.storage.getItem(this.storageKey);if(null==json)return[];const rawCookies=JSON.parse(json),cookies=[];for(const rawCookie of rawCookies){const cookie=Cookie.fromJSON(rawCookie);null!=cookie&&cookies.push(cookie)}return cookies}catch{return[]}}updateStore(nextStore){this.storage.setItem(this.storageKey,JSON.stringify(nextStore.map((cookie=>cookie.toJSON()))))}filterCookiesFromList(cookies,matches){const result=[];for(const cookie of cookies)matches.domain&&!domainMatch(matches.domain,cookie.domain||"")||matches.path&&!pathMatch(matches.path,cookie.path||"")||matches.key&&cookie.key!==matches.key||result.push(cookie);return result}deleteCookiesFromList(cookies,matches){const matchingCookies=this.filterCookiesFromList(cookies,matches);return cookies.filter((cookie=>!matchingCookies.includes(cookie)))}})},"./node_modules/msw/lib/core/utils/internal/devUtils.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>InternalError,e:()=>devUtils});var outvariant__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/outvariant/lib/index.mjs"),console=__webpack_require__("./node_modules/console-browserify/index.js");const LIBRARY_PREFIX="[MSW]";function formatMessage(message,...positionals){const interpolatedMessage=(0,outvariant__WEBPACK_IMPORTED_MODULE_0__.WU)(message,...positionals);return`${LIBRARY_PREFIX} ${interpolatedMessage}`}const devUtils={formatMessage,warn:function warn(message,...positionals){console.warn(formatMessage(message,...positionals))},error:function error(message,...positionals){console.error(formatMessage(message,...positionals))}};class InternalError extends Error{constructor(message){super(message),this.name="InternalError"}}},"./node_modules/msw/lib/core/utils/request/toPublicUrl.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function toPublicUrl(url){if("undefined"==typeof location)return url.toString();const urlInstance=url instanceof URL?url:new URL(url);return urlInstance.origin===location.origin?urlInstance.pathname:urlInstance.origin+urlInstance.pathname}__webpack_require__.d(__webpack_exports__,{F:()=>toPublicUrl})},"./node_modules/outvariant/lib/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{WU:()=>format,kG:()=>invariant});var POSITIONALS_EXP=/(%?)(%([sdijo]))/g;function format(message,...positionals){if(0===positionals.length)return message;let positionalIndex=0,formattedMessage=message.replace(POSITIONALS_EXP,((match,isEscaped,_,flag)=>{const value=function serializePositional(positional,flag){switch(flag){case"s":return positional;case"d":case"i":return Number(positional);case"j":return JSON.stringify(positional);case"o":{if("string"==typeof positional)return positional;const json=JSON.stringify(positional);return"{}"===json||"[]"===json||/^\[object .+?\]$/.test(json)?positional:json}}}(positionals[positionalIndex],flag);return isEscaped?match:(positionalIndex++,value)}));return positionalIndex<positionals.length&&(formattedMessage+=` ${positionals.slice(positionalIndex).join(" ")}`),formattedMessage=formattedMessage.replace(/%{2,2}/g,"%"),formattedMessage}var InvariantError=class extends Error{constructor(message,...positionals){super(message),this.message=message,this.name="Invariant Violation",this.message=format(message,...positionals),function cleanErrorStack(error){if(!error.stack)return;const nextStack=error.stack.split("\n");nextStack.splice(1,2),error.stack=nextStack.join("\n")}(this)}},invariant=(predicate,message,...positionals)=>{if(!predicate)throw new InvariantError(message,...positionals)};invariant.as=(ErrorConstructor,predicate,message,...positionals)=>{if(!predicate){const formatMessage=0===positionals.length?message:format(message,...positionals);let error;try{error=Reflect.construct(ErrorConstructor,[formatMessage])}catch(err){error=ErrorConstructor(formatMessage)}throw error}}},"./node_modules/strict-event-emitter/lib/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>Emitter});var console=__webpack_require__("./node_modules/console-browserify/index.js"),MemoryLeakError=class extends Error{constructor(emitter,type,count){super(`Possible EventEmitter memory leak detected. ${count} ${type.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`),this.emitter=emitter,this.type=type,this.count=count,this.name="MaxListenersExceededWarning"}},_Emitter=class{static listenerCount(emitter,eventName){return emitter.listenerCount(eventName)}constructor(){this.events=new Map,this.maxListeners=_Emitter.defaultMaxListeners,this.hasWarnedAboutPotentialMemoryLeak=!1}_emitInternalEvent(internalEventName,eventName,listener){this.emit(internalEventName,eventName,listener)}_getListeners(eventName){return Array.prototype.concat.apply([],this.events.get(eventName))||[]}_removeListener(listeners,listener){const index=listeners.indexOf(listener);return index>-1&&listeners.splice(index,1),[]}_wrapOnceListener(eventName,listener){const onceListener=(...data)=>(this.removeListener(eventName,onceListener),listener.apply(this,data));return Object.defineProperty(onceListener,"name",{value:listener.name}),onceListener}setMaxListeners(maxListeners){return this.maxListeners=maxListeners,this}getMaxListeners(){return this.maxListeners}eventNames(){return Array.from(this.events.keys())}emit(eventName,...data){const listeners=this._getListeners(eventName);return listeners.forEach((listener=>{listener.apply(this,data)})),listeners.length>0}addListener(eventName,listener){this._emitInternalEvent("newListener",eventName,listener);const nextListeners=this._getListeners(eventName).concat(listener);if(this.events.set(eventName,nextListeners),this.maxListeners>0&&this.listenerCount(eventName)>this.maxListeners&&!this.hasWarnedAboutPotentialMemoryLeak){this.hasWarnedAboutPotentialMemoryLeak=!0;const memoryLeakWarning=new MemoryLeakError(this,eventName,this.listenerCount(eventName));console.warn(memoryLeakWarning)}return this}on(eventName,listener){return this.addListener(eventName,listener)}once(eventName,listener){return this.addListener(eventName,this._wrapOnceListener(eventName,listener))}prependListener(eventName,listener){const listeners=this._getListeners(eventName);if(listeners.length>0){const nextListeners=[listener].concat(listeners);this.events.set(eventName,nextListeners)}else this.events.set(eventName,listeners.concat(listener));return this}prependOnceListener(eventName,listener){return this.prependListener(eventName,this._wrapOnceListener(eventName,listener))}removeListener(eventName,listener){const listeners=this._getListeners(eventName);return listeners.length>0&&(this._removeListener(listeners,listener),this.events.set(eventName,listeners),this._emitInternalEvent("removeListener",eventName,listener)),this}off(eventName,listener){return this.removeListener(eventName,listener)}removeAllListeners(eventName){return eventName?this.events.delete(eventName):this.events.clear(),this}listeners(eventName){return Array.from(this._getListeners(eventName))}listenerCount(eventName){return this._getListeners(eventName).length}rawListeners(eventName){return this.listeners(eventName)}},Emitter=_Emitter;Emitter.defaultMaxListeners=10}}]);