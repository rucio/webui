"use strict";(self.webpackChunkrucio_webui=self.webpackChunkrucio_webui||[]).push([[5306],{"./src/component-library/pages/Rule/create/CreateRule.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FromOptions:()=>FromOptions,FromSummary:()=>FromSummary,Regular:()=>Regular,__namedExportsOrder:()=>__namedExportsOrder,default:()=>CreateRule_stories});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),react_namespaceObject=__webpack_require__.t(react,2),ToastedTemplate=__webpack_require__("./src/component-library/templates/ToastedTemplate/ToastedTemplate.tsx"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),CreateRuleGrouping=(__webpack_require__("./src/lib/core/entity/rucio.ts"),function(CreateRuleGrouping){return CreateRuleGrouping.ALL="All",CreateRuleGrouping.DATASET="Dataset",CreateRuleGrouping.NONE="None",CreateRuleGrouping}({})),Heading=__webpack_require__("./src/component-library/atoms/misc/Heading.tsx"),utils=__webpack_require__("./src/component-library/utils.ts"),CircleWithText=__webpack_require__("./src/component-library/atoms/misc/CircleWithText.tsx"),Divider=__webpack_require__("./src/component-library/atoms/misc/Divider.tsx"),__jsx=react.createElement,Timeline=function Timeline(_ref){var steps=_ref.steps,activeIndex=_ref.activeIndex,onSwitch=_ref.onSwitch;return __jsx("div",{className:"flex flex-row justify-between items-center overflow-x-auto"},steps.map((function(step,index){var color,indexStr=(index+1).toString();color=index===activeIndex?"bg-brand-500":index<activeIndex?"bg-base-success-500":"bg-neutral-0 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100";var isClickable=index<activeIndex&&onSwitch;return __jsx(react.Fragment,{key:step},__jsx("div",{className:"flex flex-row items-center space-x-2"},__jsx(CircleWithText.Z,{className:(0,utils.cn)("bg-opacity-80 font-semibold",color),text:indexStr,onClick:isClickable?function(){return onSwitch(index)}:void 0}),__jsx("span",{className:"text-neutral-900 dark:text-neutral-100 hidden md:inline"},step)),index<steps.length-1&&__jsx(Divider.i,{className:"height-fit mx-3",color:"bg-neutral-300 dark:bg-neutral-700"}))})))};Timeline.displayName="Timeline";const features_Timeline=Timeline;try{Timeline.displayName="Timeline",Timeline.__docgenInfo={description:"",displayName:"Timeline",props:{steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"string[]"}},activeIndex:{defaultValue:null,description:"",name:"activeIndex",required:!0,type:{name:"number"}},onSwitch:{defaultValue:null,description:"",name:"onSwitch",required:!1,type:{name:"((idx: number) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/Timeline.tsx#Timeline"]={docgenInfo:Timeline.__docgenInfo,name:"Timeline",path:"src/component-library/features/Timeline.tsx#Timeline"})}catch(__react_docgen_typescript_loader_error){}var index_esm=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),form_button=__webpack_require__("./src/component-library/atoms/form/button.tsx"),useTableStreaming=__webpack_require__("./src/lib/infrastructure/hooks/useTableStreaming.ts"),useStreamReader=__webpack_require__("./src/lib/infrastructure/hooks/useStreamReader.ts"),DIDSearchPanel=__webpack_require__("./src/component-library/features/search/DIDSearchPanel.tsx"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),StreamedTable=__webpack_require__("./src/component-library/features/table/StreamedTable/StreamedTable.tsx"),filter_parameters=__webpack_require__("./src/component-library/features/utils/filter-parameters.ts"),text_formatters=__webpack_require__("./src/component-library/features/utils/text-formatters.ts"),selection_cells_jsx=react.createElement,SelectableCell=function SelectableCell(props){return selection_cells_jsx("div",{className:"flex flex-row items-center space-x-2",onClick:props.onSelect},props.selected?selection_cells_jsx(index_esm.dZ6,{className:"flex-shrink-0 text-base-success-600 ".concat("h-5 w-5")}):selection_cells_jsx(index_esm.b9W,{className:"flex-shrink-0 text-brand-500 ".concat("h-5 w-5")}),selection_cells_jsx("span",null,props.value))};SelectableCell.displayName="SelectableCell";var RemovableCell=function RemovableCell(props){return selection_cells_jsx("div",{className:"flex flex-row items-center space-x-2",onClick:props.onClick},selection_cells_jsx(index_esm.bQR,{className:"flex-shrink-0 text-base-error-500 ".concat("h-5 w-5")}),selection_cells_jsx("span",null,props.value))};RemovableCell.displayName="RemovableCell";try{SelectableCell.displayName="SelectableCell",SelectableCell.__docgenInfo={description:"",displayName:"SelectableCell",props:{onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"() => void"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/table/cells/selection-cells.tsx#SelectableCell"]={docgenInfo:SelectableCell.__docgenInfo,name:"SelectableCell",path:"src/component-library/features/table/cells/selection-cells.tsx#SelectableCell"})}catch(__react_docgen_typescript_loader_error){}try{RemovableCell.displayName="RemovableCell",RemovableCell.__docgenInfo={description:"",displayName:"RemovableCell",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/table/cells/selection-cells.tsx#RemovableCell"]={docgenInfo:RemovableCell.__docgenInfo,name:"RemovableCell",path:"src/component-library/features/table/cells/selection-cells.tsx#RemovableCell"})}catch(__react_docgen_typescript_loader_error){}var _excluded=["addDID","removeDID","selectedItems"],CreateRuleStageDataTable_jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var CreateRuleStageDataTable=function CreateRuleStageDataTable(_ref){var addDID=_ref.addDID,removeDID=_ref.removeDID,selectedItems=_ref.selectedItems,props=(0,objectWithoutProperties.Z)(_ref,_excluded),tableRef=(0,react.useRef)(null),columnDefs=(0,react.useState)([{headerName:"Identifier",flex:1,valueGetter:function valueGetter(params){var _params$data,_params$data2;return"".concat(null===(_params$data=params.data)||void 0===_params$data?void 0:_params$data.scope,":").concat(null===(_params$data2=params.data)||void 0===_params$data2?void 0:_params$data2.name)},cellRenderer:function cellRenderer(params){var _did$selected,did=params.data;did.selected=null!==(_did$selected=did.selected)&&void 0!==_did$selected?_did$selected:selectedItems.some((function(item){return item.scope===did.scope&&item.name===did.name}));return CreateRuleStageDataTable_jsx(SelectableCell,(0,esm_extends.Z)({selected:did.selected,onSelect:function onSelect(){return did.selected?removeDID(did):addDID(did)}},params))},minWidth:250,filter:!0,filterParams:filter_parameters.Vn},{headerName:"Size",field:"bytes",valueFormatter:function valueFormatter(params){return(0,text_formatters.sS)(params.value)},minWidth:200}])[0],updateSelection=function updateSelection(){var _tableRef$current;null===(_tableRef$current=tableRef.current)||void 0===_tableRef$current||null===(_tableRef$current=_tableRef$current.api)||void 0===_tableRef$current||_tableRef$current.forEachNode((function(node){if(node.data){var did=node.data,selected=selectedItems.some((function(element){return element.scope===did.scope&&element.name===did.name}));node.setData(_objectSpread(_objectSpread({},did),{},{selected}))}}))};return(0,react.useEffect)((function(){updateSelection()}),[selectedItems]),CreateRuleStageDataTable_jsx(StreamedTable.o,(0,esm_extends.Z)({columnDefs,tableRef,onAsyncTransactionsFlushed:function onAsyncTransactionsFlushed(){return updateSelection()}},props))};CreateRuleStageDataTable.displayName="CreateRuleStageDataTable";try{CreateRuleStageDataTable.displayName="CreateRuleStageDataTable",CreateRuleStageDataTable.__docgenInfo={description:"",displayName:"CreateRuleStageDataTable",props:{streamingHook:{defaultValue:null,description:"",name:"streamingHook",required:!0,type:{name:"UseStreamReader<ListDIDsViewModel>"}},addDID:{defaultValue:null,description:"",name:"addDID",required:!0,type:{name:"(item: SelectableDIDViewModel) => void"}},removeDID:{defaultValue:null,description:"",name:"removeDID",required:!0,type:{name:"(item: SelectableDIDViewModel) => void"}},onGridReady:{defaultValue:null,description:"",name:"onGridReady",required:!0,type:{name:"(event: GridReadyEvent<any, any>) => void"}},selectedItems:{defaultValue:null,description:"",name:"selectedItems",required:!0,type:{name:"ListDIDsViewModel[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/pages/Rule/create/stage-dids/CreateRuleStageDataTable.tsx#CreateRuleStageDataTable"]={docgenInfo:CreateRuleStageDataTable.__docgenInfo,name:"CreateRuleStageDataTable",path:"src/component-library/pages/Rule/create/stage-dids/CreateRuleStageDataTable.tsx#CreateRuleStageDataTable"})}catch(__react_docgen_typescript_loader_error){}var RegularTable=__webpack_require__("./src/component-library/features/table/RegularTable/RegularTable.tsx"),DIDTypeBadge=__webpack_require__("./src/component-library/features/badges/DID/DIDTypeBadge.tsx"),badge_cell=__webpack_require__("./src/component-library/features/table/cells/badge-cell.ts"),CreateRuleStageDataSelectedTable_jsx=react.createElement,CreateRuleStageDataSelectedTable=function CreateRuleStageDataSelectedTable(props){var tableRef=(0,react.useRef)(null),columnDefs=(0,react.useState)([{headerName:"Identifier",flex:1,valueGetter:function valueGetter(params){var _params$data,_params$data2;return"".concat(null===(_params$data=params.data)||void 0===_params$data?void 0:_params$data.scope,":").concat(null===(_params$data2=params.data)||void 0===_params$data2?void 0:_params$data2.name)},cellRenderer:function cellRenderer(params){var did=params.data;return CreateRuleStageDataSelectedTable_jsx(RemovableCell,(0,esm_extends.Z)({onClick:function onClick(){return props.removeDID(did)}},params))},minWidth:250,sortable:!1},{headerName:"Type",field:"did_type",cellRenderer:DIDTypeBadge.q,minWidth:180,cellStyle:badge_cell.h,cellRendererParams:{className:badge_cell.I},sortable:!1},{headerName:"Size",field:"bytes",valueFormatter:function valueFormatter(params){return(0,text_formatters.sS)(params.value)},minWidth:200,sortable:!1}])[0];return CreateRuleStageDataSelectedTable_jsx(RegularTable.d,(0,esm_extends.Z)({columnDefs,tableRef},props))};CreateRuleStageDataSelectedTable.displayName="CreateRuleStageDataSelectedTable";try{CreateRuleStageDataSelectedTable.displayName="CreateRuleStageDataSelectedTable",CreateRuleStageDataSelectedTable.__docgenInfo={description:"",displayName:"CreateRuleStageDataSelectedTable",props:{rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"ListDIDsViewModel[]"}},removeDID:{defaultValue:null,description:"",name:"removeDID",required:!0,type:{name:"(item: ListDIDsViewModel) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/pages/Rule/create/stage-dids/CreateRuleStageDataSelectedTable.tsx#CreateRuleStageDataSelectedTable"]={docgenInfo:CreateRuleStageDataSelectedTable.__docgenInfo,name:"CreateRuleStageDataSelectedTable",path:"src/component-library/pages/Rule/create/stage-dids/CreateRuleStageDataSelectedTable.tsx#CreateRuleStageDataSelectedTable"})}catch(__react_docgen_typescript_loader_error){}var InfoField=__webpack_require__("./src/component-library/features/fields/InfoField.tsx"),CreateRuleTableWrapper_jsx=react.createElement,CreateRuleTableWrapper=function CreateRuleTableWrapper(_ref){var children=_ref.children;return CreateRuleTableWrapper_jsx("div",{className:"h-[450px] flex flex-col"},children)};CreateRuleTableWrapper.displayName="CreateRuleTableWrapper";try{CreateRuleTableWrapper.displayName="CreateRuleTableWrapper",CreateRuleTableWrapper.__docgenInfo={description:"",displayName:"CreateRuleTableWrapper",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/pages/Rule/create/CreateRuleTableWrapper.tsx#CreateRuleTableWrapper"]={docgenInfo:CreateRuleTableWrapper.__docgenInfo,name:"CreateRuleTableWrapper",path:"src/component-library/pages/Rule/create/CreateRuleTableWrapper.tsx#CreateRuleTableWrapper"})}catch(__react_docgen_typescript_loader_error){}var ToggleHeader_jsx=react.createElement,ToggleHeader=function ToggleHeader(_ref){var text=_ref.text,isOpen=_ref.isOpen,onClick=_ref.onClick;return ToggleHeader_jsx("div",{className:(0,utils.cn)("flex w-full justify-between items-center","cursor-pointer select-none","px-3 py-2","rounded-md border border-neutral-900 dark:border-neutral-100 border-opacity-10 dark:border-opacity-10","text-neutral-900 dark:text-neutral-100"),onClick},ToggleHeader_jsx(Heading.X,{text,size:"sm"}),ToggleHeader_jsx(isOpen?index_esm.ALZ:index_esm.kWQ,{className:"h-7 w-7"}))};ToggleHeader.displayName="ToggleHeader";const search_ToggleHeader=ToggleHeader;try{ToggleHeader.displayName="ToggleHeader",ToggleHeader.__docgenInfo={description:"",displayName:"ToggleHeader",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/search/ToggleHeader.tsx#ToggleHeader"]={docgenInfo:ToggleHeader.__docgenInfo,name:"ToggleHeader",path:"src/component-library/features/search/ToggleHeader.tsx#ToggleHeader"})}catch(__react_docgen_typescript_loader_error){}var CreateRuleStageData_jsx=react.createElement,CreateRuleStageData=function CreateRuleStageData(props){var selectedItems=props.parameters.dids,totalSize=selectedItems.reduce((function(accumulator,current){return accumulator+current.bytes}),0),_useTableStreaming=(0,useTableStreaming.Z)(),onGridReady=_useTableStreaming.onGridReady,streamingHook=_useTableStreaming.streamingHook,startStreaming=_useTableStreaming.startStreaming,stopStreaming=_useTableStreaming.stopStreaming,_useState=(0,react.useState)(0===selectedItems.length),isSearchOpen=_useState[0],setIsSearchOpen=_useState[1];return CreateRuleStageData_jsx("div",{className:(0,utils.cn)("flex flex-col space-y-3 w-full grow",props.visible?"visible":"hidden")},CreateRuleStageData_jsx(search_ToggleHeader,{text:"Search",isOpen:isSearchOpen,onClick:function onClick(){return setIsSearchOpen((function(prevState){return!prevState}))}}),CreateRuleStageData_jsx("div",{className:"space-y-3 ".concat(isSearchOpen?"visible":"hidden")},CreateRuleStageData_jsx(DIDSearchPanel.V,{startStreaming,stopStreaming,isRunning:streamingHook.status===useStreamReader.y0.RUNNING}),CreateRuleStageData_jsx(CreateRuleTableWrapper,null,CreateRuleStageData_jsx(CreateRuleStageDataTable,{streamingHook,onGridReady,addDID:function addDID(did){return props.addDID(did)},removeDID:function removeDID(did){return props.removeDID(did)},selectedItems}))),0!==selectedItems.length&&CreateRuleStageData_jsx(CreateRuleTableWrapper,null,CreateRuleStageData_jsx(CreateRuleStageDataSelectedTable,{rowData:selectedItems,removeDID:function removeDID(did){return props.removeDID(did)}})),function getInfoField(){var text;return text=0===selectedItems.length?CreateRuleStageData_jsx("span",null,"Please select at least one identifier"):CreateRuleStageData_jsx("span",null,selectedItems.length," chosen, ",(0,text_formatters.sS)(totalSize)," in total"),CreateRuleStageData_jsx(InfoField.a,null,text)}())};CreateRuleStageData.displayName="CreateRuleStageData";try{CreateRuleStageData.displayName="CreateRuleStageData",CreateRuleStageData.__docgenInfo={description:"",displayName:"CreateRuleStageData",props:{visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},parameters:{defaultValue:null,description:"",name:"parameters",required:!0,type:{name:"CreateRuleParameters"}},addDID:{defaultValue:null,description:"",name:"addDID",required:!0,type:{name:"(did: ListDIDsViewModel) => void"}},removeDID:{defaultValue:null,description:"",name:"removeDID",required:!0,type:{name:"(did: ListDIDsViewModel) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/pages/Rule/create/stage-dids/CreateRuleStageData.tsx#CreateRuleStageData"]={docgenInfo:CreateRuleStageData.__docgenInfo,name:"CreateRuleStageData",path:"src/component-library/pages/Rule/create/stage-dids/CreateRuleStageData.tsx#CreateRuleStageData"})}catch(__react_docgen_typescript_loader_error){}var objectDestructuringEmpty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js"),CreateRuleStageStorageTable_jsx=react.createElement,WarningCell=function WarningCell(props){var textColor=props.warn?"text-base-error-500 font-semibold":"";return CreateRuleStageStorageTable_jsx("span",{className:textColor},props.value)};WarningCell.displayName="WarningCell";var CreateRuleStageStorageTable=function CreateRuleStageStorageTable(_ref){var props=(0,esm_extends.Z)({},((0,objectDestructuringEmpty.Z)(_ref),_ref)),tableRef=(0,react.useRef)(null),columnDefs=(0,react.useState)([{headerName:"Name",field:"rse",minWidth:250,flex:1,filter:!0,filterParams:filter_parameters.Vn},{headerName:"Quota",cellRenderer:function cellRenderer(params){var item=params.data;if(-1===item.bytes_limit&&item.has_quota)return"Infinite";var value=item.bytes_limit<0?"No quota":(0,text_formatters.sS)(item.bytes_limit);return CreateRuleStageStorageTable_jsx(WarningCell,(0,esm_extends.Z)({warn:!item.has_quota},params,{value}))},colSpan:function colSpan(params){return params.data.bytes_limit<0?3:1},minWidth:200},{headerName:"Total usage",field:"used_bytes",cellRenderer:function cellRenderer(params){var item=params.data,value=(0,text_formatters.sS)(item.used_bytes+props.totalDataSize);return CreateRuleStageStorageTable_jsx(WarningCell,(0,esm_extends.Z)({warn:!item.has_quota},params,{value}))},minWidth:200},{headerName:"Remaining",field:"bytes_remaining",cellRenderer:function cellRenderer(params){var item=params.data,value=(0,text_formatters.sS)(item.bytes_remaining-props.totalDataSize);return CreateRuleStageStorageTable_jsx(WarningCell,(0,esm_extends.Z)({warn:!item.has_quota},params,{value}))},minWidth:200}])[0];return(0,react.useEffect)((function(){if(props.streamingHook.status===useStreamReader.y0.STOPPED){setTimeout((function updateSelection(){var _tableRef$current;null===(_tableRef$current=tableRef.current)||void 0===_tableRef$current||null===(_tableRef$current=_tableRef$current.api)||void 0===_tableRef$current||_tableRef$current.forEachNode((function(node){var model=node.data;if(model){var selected=props.selectedItems.some((function(element){return element.rse===model.rse}));node.setSelected(selected)}}))}),100)}}),[props.streamingHook.status]),CreateRuleStageStorageTable_jsx(StreamedTable.o,(0,esm_extends.Z)({columnDefs,rowSelection:"multiple",tableRef},props,{onGridReady:function onGridReady(event){props.onGridReady(event),event.api.applyColumnState({state:[{colId:"bytes_remaining",sort:"desc"}]})}}))};CreateRuleStageStorageTable.displayName="CreateRuleStageStorageTable";try{CreateRuleStageStorageTable.displayName="CreateRuleStageStorageTable",CreateRuleStageStorageTable.__docgenInfo={description:"",displayName:"CreateRuleStageStorageTable",props:{streamingHook:{defaultValue:null,description:"",name:"streamingHook",required:!0,type:{name:"UseStreamReader<RSEAccountUsageViewModel>"}},onSelectionChanged:{defaultValue:null,description:"",name:"onSelectionChanged",required:!0,type:{name:"(event: SelectionChangedEvent<any, any>) => void"}},onGridReady:{defaultValue:null,description:"",name:"onGridReady",required:!0,type:{name:"(event: GridReadyEvent<any, any>) => void"}},totalDataSize:{defaultValue:null,description:"",name:"totalDataSize",required:!0,type:{name:"number"}},selectedItems:{defaultValue:null,description:"",name:"selectedItems",required:!0,type:{name:"RSEAccountUsageLimitViewModel[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/pages/Rule/create/stage-rses/CreateRuleStageStorageTable.tsx#CreateRuleStageStorageTable"]={docgenInfo:CreateRuleStageStorageTable.__docgenInfo,name:"CreateRuleStageStorageTable",path:"src/component-library/pages/Rule/create/stage-rses/CreateRuleStageStorageTable.tsx#CreateRuleStageStorageTable"})}catch(__react_docgen_typescript_loader_error){}var WarningField=__webpack_require__("./src/component-library/features/fields/WarningField.tsx"),Checkbox=__webpack_require__("./src/component-library/atoms/form/Checkbox.tsx"),LabeledCheckbox_jsx=react.createElement,LabeledCheckbox=function LabeledCheckbox(_ref){var checked=_ref.checked,onChange=_ref.onChange,label=_ref.label,className=_ref.className;return LabeledCheckbox_jsx("div",{className:(0,utils.cn)("flex flex-row items-center space-x-3 w-fit cursor-pointer",className),onClick:onChange},LabeledCheckbox_jsx(Checkbox.Z,{checked}),LabeledCheckbox_jsx("span",{className:"select-none text-neutral-900 dark:text-neutral-100"},label))};LabeledCheckbox.displayName="LabeledCheckbox";try{LabeledCheckbox.displayName="LabeledCheckbox",LabeledCheckbox.__docgenInfo={description:"",displayName:"LabeledCheckbox",props:{checked:{defaultValue:null,description:"",name:"checked",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"() => void"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/form/LabeledCheckbox.tsx#LabeledCheckbox"]={docgenInfo:LabeledCheckbox.__docgenInfo,name:"LabeledCheckbox",path:"src/component-library/features/form/LabeledCheckbox.tsx#LabeledCheckbox"})}catch(__react_docgen_typescript_loader_error){}var RSESearchPanel=__webpack_require__("./src/component-library/features/search/RSESearchPanel.tsx"),CreateRuleStageStorage_jsx=react.createElement,CreateRuleStageStorage=function CreateRuleStageStorage(props){var totalDataSize=props.parameters.dids.reduce((function(accumulator,current){return accumulator+current.bytes}),0),selectedItems=props.parameters.rses,_useState=(0,react.useState)(props.parameters.needsApproval),needsApproval=_useState[0],setNeedsApproval=_useState[1],_useState2=(0,react.useState)(props.parameters.askApproval),askApproval=_useState2[0],setAskApproval=_useState2[1],_useTableStreaming=(0,useTableStreaming.Z)(),onGridReady=_useTableStreaming.onGridReady,streamingHook=_useTableStreaming.streamingHook,startStreaming=_useTableStreaming.startStreaming,stopStreaming=_useTableStreaming.stopStreaming,gridApi=_useTableStreaming.gridApi;(0,react.useEffect)((function(){var hasSingleSufficient=selectedItems.some((function(element){return element.bytes_remaining>=totalDataSize||!(-1!==element.bytes_limit||!element.has_quota)})),changeNeedsApproval=selectedItems.length>0&&!hasSingleSufficient;setNeedsApproval(changeNeedsApproval),props.updateNeedsApproval(changeNeedsApproval)}),[selectedItems]),(0,react.useEffect)((function(){props.updateAskApproval(askApproval)}),[askApproval]);var isChoiceInvalid=needsApproval&&!askApproval;return CreateRuleStageStorage_jsx("div",{className:"flex flex-col space-y-3 w-full grow"},CreateRuleStageStorage_jsx(RSESearchPanel.J,{onSearch:function onSearch(expression){startStreaming("/api/feature/list-account-rse-quotas",{method:"POST",body:JSON.stringify({rseExpression:null!=expression?expression:"*",requestedDIDs:props.parameters.dids})})},stopStreaming,isRunning:streamingHook.status===useStreamReader.y0.RUNNING,gridApi:null!=gridApi?gridApi:void 0}),CreateRuleStageStorage_jsx(CreateRuleTableWrapper,null,CreateRuleStageStorage_jsx(CreateRuleStageStorageTable,{streamingHook,onSelectionChanged:function onSelectionChanged(event){var selected=event.api.getSelectedRows();props.updateStorage({rses:selected})},onGridReady,totalDataSize,selectedItems})),isChoiceInvalid?function getWarningField(){var text;return text=1===selectedItems.length?CreateRuleStageStorage_jsx("span",null,"The chosen RSE does not have enough quota left. Please choose different RSEs or mark the rule as in need of approval."):CreateRuleStageStorage_jsx("span",null,"Out of ",CreateRuleStageStorage_jsx("b",null,selectedItems.length)," chosen RSEs, none have enough quota left. Please choose different RSEs or mark the rule as needing approval."),CreateRuleStageStorage_jsx(WarningField.K,null,text)}():function getInfoField(){var text;return text=0===selectedItems.length?CreateRuleStageStorage_jsx("span",null,"Please select at least one RSE"):CreateRuleStageStorage_jsx("span",null,CreateRuleStageStorage_jsx("b",null,selectedItems.length)," chosen"),CreateRuleStageStorage_jsx(InfoField.a,null,text)}(),CreateRuleStageStorage_jsx(LabeledCheckbox,{checked:askApproval,onChange:function onChange(){return setAskApproval((function(prevState){return!prevState}))},label:"Ask for approval"}))};CreateRuleStageStorage.displayName="CreateRuleStageStorage";try{CreateRuleStageStorage.displayName="CreateRuleStageStorage",CreateRuleStageStorage.__docgenInfo={description:"",displayName:"CreateRuleStageStorage",props:{parameters:{defaultValue:null,description:"",name:"parameters",required:!0,type:{name:"CreateRuleParameters"}},updateStorage:{defaultValue:null,description:"",name:"updateStorage",required:!0,type:{name:"(storage: CreateRuleStorage) => void"}},updateNeedsApproval:{defaultValue:null,description:"",name:"updateNeedsApproval",required:!0,type:{name:"(needsApproval: boolean) => void"}},updateAskApproval:{defaultValue:null,description:"",name:"updateAskApproval",required:!0,type:{name:"(askApproval: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/pages/Rule/create/stage-rses/CreateRuleStageStorage.tsx#CreateRuleStageStorage"]={docgenInfo:CreateRuleStageStorage.__docgenInfo,name:"CreateRuleStageStorage",path:"src/component-library/pages/Rule/create/stage-rses/CreateRuleStageStorage.tsx#CreateRuleStageStorage"})}catch(__react_docgen_typescript_loader_error){}var LoadingSpinner=__webpack_require__("./src/component-library/atoms/loading/LoadingSpinner.tsx"),input=__webpack_require__("./src/component-library/atoms/form/input.tsx"),form_select=__webpack_require__("./src/component-library/atoms/form/select.tsx");function composeEventHandlers(originalEventHandler,ourEventHandler,{checkForDefaultPrevented=!0}={}){return function handleEvent(event){if(originalEventHandler?.(event),!1===checkForDefaultPrevented||!event.defaultPrevented)return ourEventHandler?.(event)}}var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");function composeContextScopes(...scopes){const baseScope=scopes[0];if(1===scopes.length)return baseScope;const createScope=()=>{const scopeHooks=scopes.map((createScope2=>({useScope:createScope2(),scopeName:createScope2.scopeName})));return function useComposedScopes(overrideScopes){const nextScopes=scopeHooks.reduce(((nextScopes2,{useScope,scopeName})=>({...nextScopes2,...useScope(overrideScopes)[`__scope${scopeName}`]})),{});return react.useMemo((()=>({[`__scope${baseScope.scopeName}`]:nextScopes})),[nextScopes])}};return createScope.scopeName=baseScope.scopeName,createScope}function useCallbackRef(callback){const callbackRef=react.useRef(callback);return react.useEffect((()=>{callbackRef.current=callback})),react.useMemo((()=>(...args)=>callbackRef.current?.(...args)),[])}function useControllableState({prop,defaultProp,onChange=()=>{}}){const[uncontrolledProp,setUncontrolledProp]=function useUncontrolledState({defaultProp,onChange}){const uncontrolledState=react.useState(defaultProp),[value]=uncontrolledState,prevValueRef=react.useRef(value),handleChange=useCallbackRef(onChange);return react.useEffect((()=>{prevValueRef.current!==value&&(handleChange(value),prevValueRef.current=value)}),[value,prevValueRef,handleChange]),uncontrolledState}({defaultProp,onChange}),isControlled=void 0!==prop,value=isControlled?prop:uncontrolledProp,handleChange=useCallbackRef(onChange);return[value,react.useCallback((nextValue=>{if(isControlled){const value2="function"==typeof nextValue?nextValue(prop):nextValue;value2!==prop&&handleChange(value2)}else setUncontrolledProp(nextValue)}),[isControlled,prop,setUncontrolledProp,handleChange])]}var useLayoutEffect2=Boolean(globalThis?.document)?react.useLayoutEffect:()=>{};function composeRefs(...refs){return node=>refs.forEach((ref=>function setRef(ref,value){"function"==typeof ref?ref(value):null!=ref&&(ref.current=value)}(ref,node)))}__webpack_require__("./node_modules/next/dist/compiled/react-dom/index.js");var Slot=react.forwardRef(((props,forwardedRef)=>{const{children,...slotProps}=props,childrenArray=react.Children.toArray(children),slottable=childrenArray.find(isSlottable);if(slottable){const newElement=slottable.props.children,newChildren=childrenArray.map((child=>child===slottable?react.Children.count(newElement)>1?react.Children.only(null):react.isValidElement(newElement)?newElement.props.children:null:child));return(0,jsx_runtime.jsx)(SlotClone,{...slotProps,ref:forwardedRef,children:react.isValidElement(newElement)?react.cloneElement(newElement,void 0,newChildren):null})}return(0,jsx_runtime.jsx)(SlotClone,{...slotProps,ref:forwardedRef,children})}));Slot.displayName="Slot";var SlotClone=react.forwardRef(((props,forwardedRef)=>{const{children,...slotProps}=props;if(react.isValidElement(children)){const childrenRef=function getElementRef(element){let getter=Object.getOwnPropertyDescriptor(element.props,"ref")?.get,mayWarn=getter&&"isReactWarning"in getter&&getter.isReactWarning;if(mayWarn)return element.ref;if(getter=Object.getOwnPropertyDescriptor(element,"ref")?.get,mayWarn=getter&&"isReactWarning"in getter&&getter.isReactWarning,mayWarn)return element.props.ref;return element.props.ref||element.ref}(children);return react.cloneElement(children,{...mergeProps(slotProps,children.props),ref:forwardedRef?composeRefs(forwardedRef,childrenRef):childrenRef})}return react.Children.count(children)>1?react.Children.only(null):null}));SlotClone.displayName="SlotClone";var Slottable=({children})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children});function isSlottable(child){return react.isValidElement(child)&&child.type===Slottable}function mergeProps(slotProps,childProps){const overrideProps={...childProps};for(const propName in childProps){const slotPropValue=slotProps[propName],childPropValue=childProps[propName];/^on[A-Z]/.test(propName)?slotPropValue&&childPropValue?overrideProps[propName]=(...args)=>{childPropValue(...args),slotPropValue(...args)}:slotPropValue&&(overrideProps[propName]=slotPropValue):"style"===propName?overrideProps[propName]={...slotPropValue,...childPropValue}:"className"===propName&&(overrideProps[propName]=[slotPropValue,childPropValue].filter(Boolean).join(" "))}return{...slotProps,...overrideProps}}var Primitive=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((primitive,node)=>{const Node=react.forwardRef(((props,forwardedRef)=>{const{asChild,...primitiveProps}=props,Comp=asChild?Slot:node;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,jsx_runtime.jsx)(Comp,{...primitiveProps,ref:forwardedRef})}));return Node.displayName=`Primitive.${node}`,{...primitive,[node]:Node}}),{});var dist=__webpack_require__("./node_modules/@radix-ui/react-presence/dist/index.mjs"),useReactId=react_namespaceObject["useId".toString()]||(()=>{}),count=0;function useId(deterministicId){const[id,setId]=react.useState(useReactId());return useLayoutEffect2((()=>{deterministicId||setId((reactId=>reactId??String(count++)))}),[deterministicId]),deterministicId||(id?`radix-${id}`:"")}var[createCollapsibleContext,createCollapsibleScope]=function createContextScope(scopeName,createContextScopeDeps=[]){let defaultContexts=[];const createScope=()=>{const scopeContexts=defaultContexts.map((defaultContext=>react.createContext(defaultContext)));return function useScope(scope){const contexts=scope?.[scopeName]||scopeContexts;return react.useMemo((()=>({[`__scope${scopeName}`]:{...scope,[scopeName]:contexts}})),[scope,contexts])}};return createScope.scopeName=scopeName,[function createContext3(rootComponentName,defaultContext){const BaseContext=react.createContext(defaultContext),index=defaultContexts.length;function Provider(props){const{scope,children,...context}=props,Context=scope?.[scopeName][index]||BaseContext,value=react.useMemo((()=>context),Object.values(context));return(0,jsx_runtime.jsx)(Context.Provider,{value,children})}return defaultContexts=[...defaultContexts,defaultContext],Provider.displayName=rootComponentName+"Provider",[Provider,function useContext2(consumerName,scope){const Context=scope?.[scopeName][index]||BaseContext,context=react.useContext(Context);if(context)return context;if(void 0!==defaultContext)return defaultContext;throw new Error(`\`${consumerName}\` must be used within \`${rootComponentName}\``)}]},composeContextScopes(createScope,...createContextScopeDeps)]}("Collapsible"),[CollapsibleProvider,useCollapsibleContext]=createCollapsibleContext("Collapsible"),Collapsible=react.forwardRef(((props,forwardedRef)=>{const{__scopeCollapsible,open:openProp,defaultOpen,disabled,onOpenChange,...collapsibleProps}=props,[open=!1,setOpen]=useControllableState({prop:openProp,defaultProp:defaultOpen,onChange:onOpenChange});return(0,jsx_runtime.jsx)(CollapsibleProvider,{scope:__scopeCollapsible,disabled,contentId:useId(),open,onOpenToggle:react.useCallback((()=>setOpen((prevOpen=>!prevOpen))),[setOpen]),children:(0,jsx_runtime.jsx)(Primitive.div,{"data-state":getState(open),"data-disabled":disabled?"":void 0,...collapsibleProps,ref:forwardedRef})})}));Collapsible.displayName="Collapsible";var CollapsibleTrigger=react.forwardRef(((props,forwardedRef)=>{const{__scopeCollapsible,...triggerProps}=props,context=useCollapsibleContext("CollapsibleTrigger",__scopeCollapsible);return(0,jsx_runtime.jsx)(Primitive.button,{type:"button","aria-controls":context.contentId,"aria-expanded":context.open||!1,"data-state":getState(context.open),"data-disabled":context.disabled?"":void 0,disabled:context.disabled,...triggerProps,ref:forwardedRef,onClick:composeEventHandlers(props.onClick,context.onOpenToggle)})}));CollapsibleTrigger.displayName="CollapsibleTrigger";var CollapsibleContent=react.forwardRef(((props,forwardedRef)=>{const{forceMount,...contentProps}=props,context=useCollapsibleContext("CollapsibleContent",props.__scopeCollapsible);return(0,jsx_runtime.jsx)(dist.z,{present:forceMount||context.open,children:({present})=>(0,jsx_runtime.jsx)(CollapsibleContentImpl,{...contentProps,ref:forwardedRef,present})})}));CollapsibleContent.displayName="CollapsibleContent";var CollapsibleContentImpl=react.forwardRef(((props,forwardedRef)=>{const{__scopeCollapsible,present,children,...contentProps}=props,context=useCollapsibleContext("CollapsibleContent",__scopeCollapsible),[isPresent,setIsPresent]=react.useState(present),ref=react.useRef(null),composedRefs=function useComposedRefs(...refs){return react.useCallback(composeRefs(...refs),refs)}(forwardedRef,ref),heightRef=react.useRef(0),height=heightRef.current,widthRef=react.useRef(0),width=widthRef.current,isOpen=context.open||isPresent,isMountAnimationPreventedRef=react.useRef(isOpen),originalStylesRef=react.useRef();return react.useEffect((()=>{const rAF=requestAnimationFrame((()=>isMountAnimationPreventedRef.current=!1));return()=>cancelAnimationFrame(rAF)}),[]),useLayoutEffect2((()=>{const node=ref.current;if(node){originalStylesRef.current=originalStylesRef.current||{transitionDuration:node.style.transitionDuration,animationName:node.style.animationName},node.style.transitionDuration="0s",node.style.animationName="none";const rect=node.getBoundingClientRect();heightRef.current=rect.height,widthRef.current=rect.width,isMountAnimationPreventedRef.current||(node.style.transitionDuration=originalStylesRef.current.transitionDuration,node.style.animationName=originalStylesRef.current.animationName),setIsPresent(present)}}),[context.open,present]),(0,jsx_runtime.jsx)(Primitive.div,{"data-state":getState(context.open),"data-disabled":context.disabled?"":void 0,id:context.contentId,hidden:!isOpen,...contentProps,ref:composedRefs,style:{"--radix-collapsible-content-height":height?`${height}px`:void 0,"--radix-collapsible-content-width":width?`${width}px`:void 0,...props.style},children:isOpen&&children})}));function getState(open){return open?"open":"closed"}var collapsible_Collapsible=Collapsible,collapsible_CollapsibleTrigger=CollapsibleTrigger,collapsible_CollapsibleContent=CollapsibleContent;try{collapsible_Collapsible.displayName="Collapsible",collapsible_Collapsible.__docgenInfo={description:"",displayName:"Collapsible",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/atoms/misc/collapsible.tsx#Collapsible"]={docgenInfo:collapsible_Collapsible.__docgenInfo,name:"Collapsible",path:"src/component-library/atoms/misc/collapsible.tsx#Collapsible"})}catch(__react_docgen_typescript_loader_error){}try{collapsible_CollapsibleTrigger.displayName="CollapsibleTrigger",collapsible_CollapsibleTrigger.__docgenInfo={description:"",displayName:"CollapsibleTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/atoms/misc/collapsible.tsx#CollapsibleTrigger"]={docgenInfo:collapsible_CollapsibleTrigger.__docgenInfo,name:"CollapsibleTrigger",path:"src/component-library/atoms/misc/collapsible.tsx#CollapsibleTrigger"})}catch(__react_docgen_typescript_loader_error){}try{collapsible_CollapsibleContent.displayName="CollapsibleContent",collapsible_CollapsibleContent.__docgenInfo={description:"",displayName:"CollapsibleContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/atoms/misc/collapsible.tsx#CollapsibleContent"]={docgenInfo:collapsible_CollapsibleContent.__docgenInfo,name:"CollapsibleContent",path:"src/component-library/atoms/misc/collapsible.tsx#CollapsibleContent"})}catch(__react_docgen_typescript_loader_error){}var hi2_index_esm=__webpack_require__("./node_modules/react-icons/hi2/index.esm.js"),CreateRuleStageOptions_jsx=react.createElement,InputWithLabel=function InputWithLabel(_ref){var label=_ref.label,children=_ref.children,className=_ref.className,required=_ref.required;return CreateRuleStageOptions_jsx("div",{className:(0,utils.cn)("space-y-1",className)},CreateRuleStageOptions_jsx("label",{className:"text-neutral-900 dark:text-neutral-100"},label,required&&CreateRuleStageOptions_jsx("span",{className:"text-base-error-500 font-medium ml-1"},"*")),children)};InputWithLabel.displayName="InputWithLabel";var OptionsCollapsibleTrigger=function OptionsCollapsibleTrigger(_ref2){var label=_ref2.label,className=_ref2.className;return CreateRuleStageOptions_jsx(collapsible_CollapsibleTrigger,{className:(0,utils.cn)("flex w-full items-center justify-between space-x-2","py-2 px-3","text-neutral-900 dark:text-neutral-100","rounded-md border border-neutral-900 dark:border-neutral-100 border-opacity-10 dark:border-opacity-10",className)},CreateRuleStageOptions_jsx("span",null,label),CreateRuleStageOptions_jsx(hi2_index_esm.nU0,{className:"h-6 w-6"}))};OptionsCollapsibleTrigger.displayName="OptionsCollapsibleTrigger";var LifetimeInput=function LifetimeInput(_ref3){var parameters=_ref3.parameters,updateOptionValue=_ref3.updateOptionValue,lifetimeInputRef=(0,react.useRef)(null);return CreateRuleStageOptions_jsx(collapsible_Collapsible,null,CreateRuleStageOptions_jsx(OptionsCollapsibleTrigger,{label:"Lifetime"}),CreateRuleStageOptions_jsx(collapsible_CollapsibleContent,{className:"pt-3 space-y-5"},CreateRuleStageOptions_jsx(InputWithLabel,{label:"Days"},CreateRuleStageOptions_jsx(input.I,{onInput:function onLifetimeInput(event){var value;value=event.currentTarget.validity.valid?""===event.currentTarget.value?void 0:parseInt(event.currentTarget.value,10):NaN,updateOptionValue("daysLifetime",value)},type:"number",min:"1",max:"1000",defaultValue:function getDefaultLifetime(){return void 0===parameters.daysLifetime?"":isNaN(parameters.daysLifetime)?-1:parameters.daysLifetime}(),ref:lifetimeInputRef})),CreateRuleStageOptions_jsx(InputWithLabel,{label:"Expires on"},CreateRuleStageOptions_jsx(input.I,{type:"date",value:function getExpiryDate(){var currentDate=new Date;return parameters.daysLifetime?new Date(currentDate.setDate(currentDate.getDate()+parameters.daysLifetime)).toISOString().split("T")[0]:""}(),onInput:function onDateInput(event){var selectedDate=new Date(event.currentTarget.value),currentDate=new Date,differenceInDays=Math.ceil((selectedDate.getTime()-currentDate.getTime())/864e5);updateOptionValue("daysLifetime",differenceInDays),lifetimeInputRef.current&&(lifetimeInputRef.current.value=differenceInDays.toString())}}))))};LifetimeInput.displayName="LifetimeInput";var AdvancedInput=function AdvancedInput(_ref4){var _parameters$grouping,parameters=_ref4.parameters,updateOptionValue=_ref4.updateOptionValue;return CreateRuleStageOptions_jsx(collapsible_Collapsible,null,CreateRuleStageOptions_jsx(OptionsCollapsibleTrigger,{label:"Advanced"}),CreateRuleStageOptions_jsx(collapsible_CollapsibleContent,{className:"pt-3 space-y-5"},CreateRuleStageOptions_jsx(InputWithLabel,{label:"Grouping"},CreateRuleStageOptions_jsx(form_select.Ph,{onValueChange:function onValueChange(value){updateOptionValue("grouping",value===UNDEFINED_GROUPING?void 0:value)},defaultValue:null!==(_parameters$grouping=parameters.grouping)&&void 0!==_parameters$grouping?_parameters$grouping:UNDEFINED_GROUPING},CreateRuleStageOptions_jsx(form_select.i4,null,CreateRuleStageOptions_jsx(form_select.ki,{placeholder:"Grouping"})),CreateRuleStageOptions_jsx(form_select.Bw,null,CreateRuleStageOptions_jsx(form_select.DI,null,CreateRuleStageOptions_jsx(form_select.Ql,{value:UNDEFINED_GROUPING},"Undefined"),CreateRuleStageOptions_jsx(form_select.Ql,{value:CreateRuleGrouping.ALL},"All"),CreateRuleStageOptions_jsx(form_select.Ql,{value:CreateRuleGrouping.DATASET},"Dataset"),CreateRuleStageOptions_jsx(form_select.Ql,{value:CreateRuleGrouping.NONE},"None"))))),CreateRuleStageOptions_jsx(LabeledCheckbox,{checked:parameters.asynchronous,onChange:function onChange(){return updateOptionValue("asynchronous",!parameters.asynchronous)},label:"Asynchronous"}),CreateRuleStageOptions_jsx(LabeledCheckbox,{checked:parameters.sample,onChange:function onChange(){return updateOptionValue("sample",!parameters.sample)},label:"Create a sample"}),parameters.sample&&CreateRuleStageOptions_jsx(InputWithLabel,{label:"Number of files"},CreateRuleStageOptions_jsx(input.I,{type:"number",min:"1",onInput:function onFileCountInput(event){var value;value=event.currentTarget.validity.valid?""===event.currentTarget.value?void 0:parseInt(event.currentTarget.value,10):NaN,updateOptionValue("sampleFileCount",value)},defaultValue:function getDefaultFileCount(){return void 0===parameters.sampleFileCount?"":isNaN(parameters.sampleFileCount)?-1:parameters.sampleFileCount}()}))))};AdvancedInput.displayName="AdvancedInput";var UNDEFINED_GROUPING="undefined",CreateRuleStageOptions=function CreateRuleStageOptions(_ref5){var parameters=_ref5.parameters,updateOptionValue=_ref5.updateOptionValue,errors=_ref5.errors,defaultCopies=isNaN(parameters.copies)?"":parameters.copies;return CreateRuleStageOptions_jsx("div",{className:"flex flex-col space-y-5 w-full grow"},CreateRuleStageOptions_jsx(InputWithLabel,{label:"Copies",required:!0},CreateRuleStageOptions_jsx(input.I,{onChange:function onCopiesInput(event){var value=parseInt(event.target.value,10);updateOptionValue("copies",value)},type:"number",min:"1",max:parameters.rses.length,defaultValue:defaultCopies})),CreateRuleStageOptions_jsx(LifetimeInput,{parameters,updateOptionValue}),CreateRuleStageOptions_jsx(InputWithLabel,{label:"Comments",required:parameters.askApproval},CreateRuleStageOptions_jsx(input.g,{onChange:function onChange(event){return updateOptionValue("comments",event.target.value)},defaultValue:parameters.comments})),CreateRuleStageOptions_jsx(LabeledCheckbox,{checked:parameters.notify,onChange:function onChange(){return updateOptionValue("notify",!parameters.notify)},label:"Receive notifications"}),CreateRuleStageOptions_jsx(AdvancedInput,{parameters,updateOptionValue}),errors.copiesInvalid&&CreateRuleStageOptions_jsx(WarningField.K,null,CreateRuleStageOptions_jsx("span",null,"Invalid value for ",CreateRuleStageOptions_jsx("b",null,"copies"),". It should range from 1 to the number of chosen RSEs.")),!errors.copiesInvalid&&errors.tooManyCopies&&CreateRuleStageOptions_jsx(WarningField.K,null,CreateRuleStageOptions_jsx("span",null,"There are less than ",CreateRuleStageOptions_jsx("b",null,parameters.copies)," chosen RSEs with enough quota left. Please change the number of ",CreateRuleStageOptions_jsx("b",null,"copies")," ","or mark the rule as needing approval.")),errors.lifetimeInvalid&&CreateRuleStageOptions_jsx(WarningField.K,null,CreateRuleStageOptions_jsx("span",null,"Invalid value for ",CreateRuleStageOptions_jsx("b",null,"lifetime"),". It should be greater than 1 or not specified.")),errors.commentsEmpty&&CreateRuleStageOptions_jsx(WarningField.K,null,CreateRuleStageOptions_jsx("span",null,"A ",CreateRuleStageOptions_jsx("b",null,"comment")," should be specified if there is a need for rule approval.")),errors.groupingInvalid&&CreateRuleStageOptions_jsx(WarningField.K,null,CreateRuleStageOptions_jsx("span",null,"The value of ",CreateRuleStageOptions_jsx("b",null,"grouping")," is invalid.")),errors.sampleCountInvalid&&CreateRuleStageOptions_jsx(WarningField.K,null,CreateRuleStageOptions_jsx("span",null,"Invalid value for ",CreateRuleStageOptions_jsx("b",null,"number of files"),". It should be greater than 1 or not specified.")))};CreateRuleStageOptions.displayName="CreateRuleStageOptions";try{CreateRuleStageOptions.displayName="CreateRuleStageOptions",CreateRuleStageOptions.__docgenInfo={description:"",displayName:"CreateRuleStageOptions",props:{parameters:{defaultValue:null,description:"",name:"parameters",required:!0,type:{name:"CreateRuleParameters"}},updateOptionValue:{defaultValue:null,description:"",name:"updateOptionValue",required:!0,type:{name:"(key: keyof CreateRuleOptions, value: any) => void"}},errors:{defaultValue:null,description:"",name:"errors",required:!0,type:{name:"CreateRuleOptionsErrors"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/pages/Rule/create/stage-options/CreateRuleStageOptions.tsx#CreateRuleStageOptions"]={docgenInfo:CreateRuleStageOptions.__docgenInfo,name:"CreateRuleStageOptions",path:"src/component-library/pages/Rule/create/stage-options/CreateRuleStageOptions.tsx#CreateRuleStageOptions"})}catch(__react_docgen_typescript_loader_error){}var CheckboxCell=__webpack_require__("./src/component-library/features/table/cells/CheckboxCell.tsx"),CreateRuleStageSummaryDataTable_jsx=react.createElement,CreateRuleStageSummaryDataTable=function CreateRuleStageSummaryDataTable(props){var tableRef=(0,react.useRef)(null),columnDefs=(0,react.useState)([{headerName:"Identifier",valueGetter:function valueGetter(params){var _params$data,_params$data2;return"".concat(null===(_params$data=params.data)||void 0===_params$data?void 0:_params$data.scope,":").concat(null===(_params$data2=params.data)||void 0===_params$data2?void 0:_params$data2.name)},flex:1,sortable:!1},{headerName:"Type",field:"did_type",cellRenderer:DIDTypeBadge.q,minWidth:180,cellStyle:badge_cell.h,cellRendererParams:{className:badge_cell.I},sortable:!1},{headerName:"Copies",valueGetter:function valueGetter(){return props.copies},minWidth:100,sortable:!1},{headerName:"Files",field:"length",minWidth:100,sortable:!1},{headerName:"Size",field:"bytes",valueFormatter:function valueFormatter(params){return(0,text_formatters.sS)(params.value)},minWidth:200,sortable:!1},{headerName:"Requested Size",valueGetter:function valueGetter(params){var _params$data3,_params$data4;return null!==(_params$data3=params.data)&&void 0!==_params$data3&&_params$data3.bytes?(0,text_formatters.sS)((null===(_params$data4=params.data)||void 0===_params$data4?void 0:_params$data4.bytes)*props.copies):(0,text_formatters.sS)(NaN)},minWidth:200,sortable:!1},{headerName:"Is Open",field:"open",cellStyle:CheckboxCell.z,cellRenderer:CheckboxCell.w,minWidth:100,sortable:!1}])[0];return CreateRuleStageSummaryDataTable_jsx(RegularTable.d,(0,esm_extends.Z)({columnDefs,tableRef},props))};CreateRuleStageSummaryDataTable.displayName="CreateRuleStageSummaryDataTable";try{CreateRuleStageSummaryDataTable.displayName="CreateRuleStageSummaryDataTable",CreateRuleStageSummaryDataTable.__docgenInfo={description:"",displayName:"CreateRuleStageSummaryDataTable",props:{rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"ListDIDsViewModel[]"}},copies:{defaultValue:null,description:"",name:"copies",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/pages/Rule/create/stage-summary/CreateRuleStageSummaryDataTable.tsx#CreateRuleStageSummaryDataTable"]={docgenInfo:CreateRuleStageSummaryDataTable.__docgenInfo,name:"CreateRuleStageSummaryDataTable",path:"src/component-library/pages/Rule/create/stage-summary/CreateRuleStageSummaryDataTable.tsx#CreateRuleStageSummaryDataTable"})}catch(__react_docgen_typescript_loader_error){}var CreateRuleStageSummaryStorageTable_jsx=react.createElement,CreateRuleStageSummaryStorageTable_WarningCell=function WarningCell(props){var textColor=props.warn?"text-base-error-500 font-semibold":"";return CreateRuleStageSummaryStorageTable_jsx("span",{className:textColor},props.value)};CreateRuleStageSummaryStorageTable_WarningCell.displayName="WarningCell";var CreateRuleStageSummaryStorageTable=function CreateRuleStageSummaryStorageTable(_ref){var props=(0,esm_extends.Z)({},((0,objectDestructuringEmpty.Z)(_ref),_ref)),tableRef=(0,react.useRef)(null),columnDefs=(0,react.useState)([{headerName:"Name",field:"rse",minWidth:250,flex:1,filter:!0,filterParams:filter_parameters.Vn},{headerName:"Quota",field:"bytes_limit",cellRenderer:function cellRenderer(params){var item=params.data;if(-1===item.bytes_limit&&item.has_quota)return"Infinite";var value=params.value<0?"No quota":(0,text_formatters.sS)(params.value);return CreateRuleStageSummaryStorageTable_jsx(CreateRuleStageSummaryStorageTable_WarningCell,(0,esm_extends.Z)({warn:!item.has_quota},params,{value}))},colSpan:function colSpan(params){return params.data.bytes_limit<0?2:1},minWidth:200},{headerName:"Remaining",field:"bytes_remaining",cellRenderer:function cellRenderer(params){var item=params.data,value=(0,text_formatters.sS)(item.bytes_remaining);return CreateRuleStageSummaryStorageTable_jsx(CreateRuleStageSummaryStorageTable_WarningCell,(0,esm_extends.Z)({warn:!item.has_quota},params,{value}))},minWidth:200}])[0];return CreateRuleStageSummaryStorageTable_jsx(RegularTable.d,(0,esm_extends.Z)({tableRef,columnDefs},props))};CreateRuleStageSummaryStorageTable.displayName="CreateRuleStageSummaryStorageTable";try{CreateRuleStageSummaryStorageTable.displayName="CreateRuleStageSummaryStorageTable",CreateRuleStageSummaryStorageTable.__docgenInfo={description:"",displayName:"CreateRuleStageSummaryStorageTable",props:{rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"RSEAccountUsageLimitViewModel[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/pages/Rule/create/stage-summary/CreateRuleStageSummaryStorageTable.tsx#CreateRuleStageSummaryStorageTable"]={docgenInfo:CreateRuleStageSummaryStorageTable.__docgenInfo,name:"CreateRuleStageSummaryStorageTable",path:"src/component-library/pages/Rule/create/stage-summary/CreateRuleStageSummaryStorageTable.tsx#CreateRuleStageSummaryStorageTable"})}catch(__react_docgen_typescript_loader_error){}var KeyValueRow=__webpack_require__("./src/component-library/features/key-value/KeyValueRow.tsx"),Field=__webpack_require__("./src/component-library/atoms/misc/Field.tsx"),KeyValueWrapper=__webpack_require__("./src/component-library/features/key-value/KeyValueWrapper.tsx"),CreateRuleStageSummary_jsx=react.createElement,KeyValueDIDs=function KeyValueDIDs(_ref){var dids=_ref.dids,totalFiles=dids.reduce((function(previous,current){return previous+current.length}),0),totalBytes=dids.reduce((function(previous,current){return previous+current.bytes}),0);return CreateRuleStageSummary_jsx(KeyValueWrapper.k,{className:"overflow-x-auto py-2"},CreateRuleStageSummary_jsx(KeyValueRow.E,{name:"Total files"},CreateRuleStageSummary_jsx(Field.g,null,totalFiles)),CreateRuleStageSummary_jsx(KeyValueRow.E,{name:"Total size"},CreateRuleStageSummary_jsx(Field.g,null,(0,text_formatters.sS)(totalBytes))))};KeyValueDIDs.displayName="KeyValueDIDs";var KeyValueOptions=function KeyValueOptions(_ref2){var parameters=_ref2.parameters,hasSampling=parameters.sample&&parameters.sampleFileCount;return CreateRuleStageSummary_jsx(KeyValueWrapper.k,{className:"overflow-x-auto py-2"},parameters.daysLifetime&&CreateRuleStageSummary_jsx(KeyValueRow.E,{name:"Lifetime"},CreateRuleStageSummary_jsx(Field.g,null,parameters.daysLifetime," days")),CreateRuleStageSummary_jsx(KeyValueRow.E,{name:"Notifications"},CreateRuleStageSummary_jsx(Checkbox.Z,{checked:parameters.notify})),CreateRuleStageSummary_jsx(KeyValueRow.E,{name:"Asynchronous"},CreateRuleStageSummary_jsx(Checkbox.Z,{checked:parameters.asynchronous})),parameters.grouping&&CreateRuleStageSummary_jsx(KeyValueRow.E,{name:"Group by"},CreateRuleStageSummary_jsx(Field.g,null,parameters.grouping)),parameters.comments&&CreateRuleStageSummary_jsx(KeyValueRow.E,{name:"Comment"},CreateRuleStageSummary_jsx(Field.g,null,parameters.comments)),hasSampling&&CreateRuleStageSummary_jsx(KeyValueRow.E,{name:"Files to sample"},CreateRuleStageSummary_jsx(Field.g,null,parameters.sampleFileCount)))};KeyValueOptions.displayName="KeyValueOptions";var CreateRuleStageSummary=function CreateRuleStageSummary(_ref3){var parameters=_ref3.parameters;return CreateRuleStageSummary_jsx("div",{className:"flex flex-col space-y-3 w-full grow"},CreateRuleStageSummary_jsx(Heading.X,{text:"DIDs",size:"md"}),function getDefaultDataInfoField(){var text,plural=parameters.dids.length>1?"s":"",sample=parameters.sample?CreateRuleStageSummary_jsx("b",null,"samples of"):"";return text=parameters.askApproval?CreateRuleStageSummary_jsx("span",null,"This request will ",CreateRuleStageSummary_jsx("b",null,"ask for approval")," to create a rule for ",sample," the following DID",plural,"."):CreateRuleStageSummary_jsx("span",null,"This request will create a rule for ",sample," the following DID",plural,"."),CreateRuleStageSummary_jsx(InfoField.a,null,text)}(),parameters.dids.some((function(did){return did.open}))&&CreateRuleStageSummary_jsx(InfoField.a,null,CreateRuleStageSummary_jsx("span",null,"There are open DIDs present in your request. Everything that will be added to them after you created the rule will also be transferred to the selected RSEs.")),CreateRuleStageSummary_jsx(CreateRuleTableWrapper,null,CreateRuleStageSummary_jsx(CreateRuleStageSummaryDataTable,{rowData:parameters.dids,copies:parameters.copies})),CreateRuleStageSummary_jsx(KeyValueDIDs,{dids:parameters.dids}),CreateRuleStageSummary_jsx(Heading.X,{text:"RSEs",size:"md"}),function getDefaultStorageInfoField(){var pluralRules=parameters.dids.length>1?"s":"",pluralStorage=parameters.rses.length>1?"s":"";return CreateRuleStageSummary_jsx(InfoField.a,null,CreateRuleStageSummary_jsx("span",null,"The rule",pluralRules," will replicate to one of the following RSE",pluralStorage,"."))}(),CreateRuleStageSummary_jsx(CreateRuleTableWrapper,null,CreateRuleStageSummary_jsx(CreateRuleStageSummaryStorageTable,{rowData:parameters.rses})),CreateRuleStageSummary_jsx(Heading.X,{text:"Options",size:"md"}),CreateRuleStageSummary_jsx(KeyValueOptions,{parameters}))};CreateRuleStageSummary.displayName="CreateRuleStageSummary";try{CreateRuleStageSummary.displayName="CreateRuleStageSummary",CreateRuleStageSummary.__docgenInfo={description:"",displayName:"CreateRuleStageSummary",props:{parameters:{defaultValue:null,description:"",name:"parameters",required:!0,type:{name:"CreateRuleParameters"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/pages/Rule/create/stage-summary/CreateRuleStageSummary.tsx#CreateRuleStageSummary"]={docgenInfo:CreateRuleStageSummary.__docgenInfo,name:"CreateRuleStageSummary",path:"src/component-library/pages/Rule/create/stage-summary/CreateRuleStageSummary.tsx#CreateRuleStageSummary"})}catch(__react_docgen_typescript_loader_error){}var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),useQuery=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/useQuery.js"),useToast=__webpack_require__("./src/lib/infrastructure/hooks/useToast.tsx"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),CreateRuleStageSubmission_jsx=react.createElement,CreateRuleStageSubmission=function CreateRuleStageSubmission(_ref){var parameters=_ref.parameters,removeSaved=_ref.removeSaved,queryCreateRule=function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){var _parameters$grouping,rseExpression,body,res,json;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return rseExpression=parameters.rses.map((function(rse){return rse.rse})).join("|"),body=JSON.stringify({dids:parameters.dids.map((function(did){return{scope:did.scope,name:did.name}})),copies:parameters.copies,rse_expression:rseExpression,grouping:null===(_parameters$grouping=parameters.grouping)||void 0===_parameters$grouping?void 0:_parameters$grouping.toUpperCase(),lifetime_days:parameters.daysLifetime,notify:parameters.notify,comments:parameters.comments,ask_approval:parameters.askApproval,asynchronous:parameters.asynchronous,sample:parameters.sample,sample_file_count:parameters.sampleFileCount}),"/api/feature/create-rule",_context.next=5,fetch("/api/feature/create-rule",{method:"POST",body,headers:{"Content-Type":"application/json"}});case 5:return res=_context.sent,_context.prev=6,_context.next=9,res.json();case 9:json=_context.sent,_context.next=15;break;case 12:throw _context.prev=12,_context.t0=_context.catch(6),new Error(res.statusText);case 15:if(!json.error){_context.next=17;break}throw new Error(json.error);case 17:if("success"===json.status&&0!==json.rule_ids.length){_context.next=19;break}throw new Error(json.message);case 19:return _context.abrupt("return",json);case 20:case"end":return _context.stop()}}),_callee,null,[[6,12]])})));return function queryCreateRule(){return _ref2.apply(this,arguments)}}(),_useQuery=(0,useQuery.a)({queryKey:["create_rule"],queryFn:queryCreateRule,enabled:!0,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,retry:!1}),data=_useQuery.data,error=_useQuery.error,isFetching=_useQuery.isFetching,toast=(0,useToast.pm)().toast;(0,react.useEffect)((function(){error&&toast({variant:"error",title:"Fatal error",description:error.toString()})}),[error]);(0,react.useEffect)((function(){data&&removeSaved()}),[data]);return CreateRuleStageSubmission_jsx("div",{className:"flex flex-col w-full grow justify-center items-center"},isFetching&&CreateRuleStageSubmission_jsx("span",null,"Creating..."),error&&function getErrorComponent(){var button=CreateRuleStageSubmission_jsx("span",{className:"cursor-pointer hover:text-brand-500",onClick:function onClick(){location.reload()}},CreateRuleStageSubmission_jsx("b",null,"review the previous steps"));return CreateRuleStageSubmission_jsx("span",{className:"text-neutral-900 dark:text-neutral-100"},"Could not create the rule. Please ",button," and try again.")}(),data&&function getDataComponent(){if(data){var button=CreateRuleStageSubmission_jsx(link_default(),{href:"/rule/list",className:"cursor-pointer hover:text-brand-500"},CreateRuleStageSubmission_jsx("b",null,"rules list"));return CreateRuleStageSubmission_jsx("div",{className:"text-neutral-900 dark:text-neutral-100"},CreateRuleStageSubmission_jsx("span",null,"Successfully requested the rule(s) with IDs:"),CreateRuleStageSubmission_jsx("ul",null,data.rule_ids.map((function(id){return CreateRuleStageSubmission_jsx("li",{key:id},id)}))),CreateRuleStageSubmission_jsx("span",null,"Proceed to the ",button," to view it."))}}())};CreateRuleStageSubmission.displayName="CreateRuleStageSubmission";try{CreateRuleStageSubmission.displayName="CreateRuleStageSubmission",CreateRuleStageSubmission.__docgenInfo={description:"",displayName:"CreateRuleStageSubmission",props:{parameters:{defaultValue:null,description:"",name:"parameters",required:!0,type:{name:"CreateRuleParameters"}},removeSaved:{defaultValue:null,description:"",name:"removeSaved",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/pages/Rule/create/stage-submission/CreateRuleStageSubmission.tsx#CreateRuleStageSubmission"]={docgenInfo:CreateRuleStageSubmission.__docgenInfo,name:"CreateRuleStageSubmission",path:"src/component-library/pages/Rule/create/stage-submission/CreateRuleStageSubmission.tsx#CreateRuleStageSubmission"})}catch(__react_docgen_typescript_loader_error){}var CreateRule_jsx=react.createElement;function CreateRule_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function CreateRule_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?CreateRule_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CreateRule_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var PreviousButton=function PreviousButton(_ref){var activeIndex=_ref.activeIndex,setActiveIndex=_ref.setActiveIndex,disabled=0===activeIndex;return CreateRule_jsx(form_button.z,{variant:"neutral",className:"w-full sm:w-48 justify-between",disabled,onClick:function onClick(){return setActiveIndex((function(prev){return prev-1}))}},CreateRule_jsx(index_esm.jTe,null),CreateRule_jsx("span",null,"Previous"))};PreviousButton.displayName="PreviousButton";var NextButton=function NextButton(_ref2){var activeIndex=_ref2.activeIndex,setActiveIndex=_ref2.setActiveIndex,stepsLength=_ref2.stepsLength,isStepIncomplete=_ref2.isStepIncomplete,isSubmit=activeIndex===stepsLength-2,disabled=activeIndex===stepsLength-1||isStepIncomplete;return CreateRule_jsx(form_button.z,{variant:isSubmit?"success":"neutral",className:"w-full sm:w-48 ml-auto justify-between",disabled,onClick:function onClick(){return setActiveIndex((function(prev){return prev+1}))}},CreateRule_jsx("span",null,isSubmit?"Submit":"Next"),CreateRule_jsx(index_esm.WY3,null))};NextButton.displayName="NextButton";var CreateRule=function CreateRule(props){var _useState=(0,react.useState)(!0),isLoading=_useState[0],setIsLoading=_useState[1],_useState2=(0,react.useState)({askApproval:!1,needsApproval:!1,asynchronous:!1,copies:1,daysLifetime:void 0,dids:[],grouping:void 0,sample:!1,notify:!1,rses:[]}),parameters=_useState2[0],setParameters=_useState2[1],_useState3=(0,react.useState)(0),activeIndex=_useState3[0],setActiveIndex=_useState3[1],_useState4=(0,react.useState)({commentsEmpty:!1,copiesInvalid:!1,groupingInvalid:!1,lifetimeInvalid:!1,tooManyCopies:!1,sampleCountInvalid:!1}),optionsErrors=_useState4[0],setOptionsErrors=_useState4[1];(0,react.useEffect)((function(){var savedParameters=props.getSavedParameters();savedParameters&&setParameters(savedParameters);var savedIndex=props.getSavedIndex();savedIndex&&setActiveIndex(savedIndex),setIsLoading(!1)}),[]),(0,react.useEffect)((function(){isLoading||(props.setSavedParameters(parameters),function checkOptionsErrors(){var totalDataSize=parameters.dids.reduce((function(accumulator,current){return accumulator+current.bytes}),0),newOptionErrors={commentsEmpty:!1,copiesInvalid:!1,groupingInvalid:!1,lifetimeInvalid:!1,tooManyCopies:!1,sampleCountInvalid:!1},copies=parameters.copies,daysLifetime=parameters.daysLifetime,grouping=parameters.grouping,comments=parameters.comments;newOptionErrors.copiesInvalid=isNaN(copies)||copies<1||copies>parameters.rses.length,newOptionErrors.tooManyCopies=!parameters.askApproval&&parameters.rses.filter((function(rse){return rse.bytes_remaining>=totalDataSize||!(-1!==rse.bytes_limit||!rse.has_quota)})).length<copies,newOptionErrors.lifetimeInvalid=void 0!==daysLifetime&&(isNaN(daysLifetime)||daysLifetime<1),newOptionErrors.commentsEmpty=parameters.askApproval&&!comments,newOptionErrors.groupingInvalid=void 0!==grouping&&grouping!==CreateRuleGrouping.DATASET&&grouping!==CreateRuleGrouping.ALL&&grouping!==CreateRuleGrouping.NONE,newOptionErrors.sampleCountInvalid=parameters.sample&&(!parameters.sampleFileCount||isNaN(parameters.sampleFileCount)||parameters.sampleFileCount<1),setOptionsErrors(newOptionErrors)}())}),[parameters]),(0,react.useEffect)((function(){isLoading||4===activeIndex||props.setSavedIndex(activeIndex)}),[activeIndex]);var updateParameters=function updateParameters(newParams){setParameters((function(prevState){return CreateRule_objectSpread(CreateRule_objectSpread({},prevState),newParams)}))},isStepIncomplete=function isStepIncomplete(){var isIncomplete=!1;return activeIndex>=0&&(isIncomplete=isIncomplete||0===parameters.dids.length),activeIndex>=1&&(isIncomplete=isIncomplete||0===parameters.rses.length||parameters.needsApproval&&!parameters.askApproval),activeIndex>=2&&(isIncomplete=isIncomplete||Object.values(optionsErrors).some((function(error){return error}))),isIncomplete},steps=["DIDs","RSEs","Options","Summary","Results"];if(isLoading)return CreateRule_jsx("div",{className:"flex w-full grow items-center justify-center"},CreateRule_jsx(LoadingSpinner.T,null));return CreateRule_jsx("div",{className:"flex flex-col space-y-3 w-full grow"},CreateRule_jsx(Heading.X,{text:"New Rule"}),CreateRule_jsx(features_Timeline,{steps,activeIndex,onSwitch:4!==activeIndex?setActiveIndex:void 0}),CreateRule_jsx("div",null,CreateRule_jsx(CreateRuleStageData,{visible:0===activeIndex,parameters,addDID:function addDID(did){setParameters((function(prevState){return prevState.dids.some((function(element){return element.scope===did.scope&&element.name===did.name}))?prevState:CreateRule_objectSpread(CreateRule_objectSpread({},prevState),{},{dids:[].concat((0,toConsumableArray.Z)(prevState.dids),[did])})}))},removeDID:function removeDID(did){setParameters((function(prevState){return CreateRule_objectSpread(CreateRule_objectSpread({},prevState),{},{dids:prevState.dids.filter((function(element){return element.scope!==did.scope||element.name!==did.name}))})}))}}),1===activeIndex&&CreateRule_jsx(CreateRuleStageStorage,{parameters,updateStorage:function updateStorage(storage){return updateParameters(storage)},updateNeedsApproval:function updateNeedsApproval(needsApproval){return updateParameters({needsApproval})},updateAskApproval:function updateAskApproval(askApproval){return updateParameters({askApproval})}}),2===activeIndex&&CreateRule_jsx(CreateRuleStageOptions,{parameters,updateOptionValue:function updateOptionValue(key,value){setParameters((function(prevState){return CreateRule_objectSpread(CreateRule_objectSpread({},prevState),{},(0,defineProperty.Z)({},key,value))}))},errors:optionsErrors}),3===activeIndex&&CreateRule_jsx(CreateRuleStageSummary,{parameters})),4===activeIndex&&CreateRule_jsx(CreateRuleStageSubmission,{parameters,removeSaved:function removeSaved(){props.removeSavedIndex(),props.removeSavedParameters()}}),4!==activeIndex&&function getPaginationPanel(){return CreateRule_jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between space-y-2 sm:space-y-0"},CreateRule_jsx(PreviousButton,{activeIndex,setActiveIndex}),CreateRule_jsx(NextButton,{activeIndex,setActiveIndex,stepsLength:steps.length,isStepIncomplete:isStepIncomplete()}))}())};CreateRule.displayName="CreateRule";try{CreateRule.displayName="CreateRule",CreateRule.__docgenInfo={description:"",displayName:"CreateRule",props:{getSavedParameters:{defaultValue:null,description:"",name:"getSavedParameters",required:!0,type:{name:"() => CreateRuleParameters | undefined"}},getSavedIndex:{defaultValue:null,description:"",name:"getSavedIndex",required:!0,type:{name:"() => number | undefined"}},setSavedParameters:{defaultValue:null,description:"",name:"setSavedParameters",required:!0,type:{name:"(parameters: CreateRuleParameters) => void"}},setSavedIndex:{defaultValue:null,description:"",name:"setSavedIndex",required:!0,type:{name:"(activeIndex: number) => void"}},removeSavedParameters:{defaultValue:null,description:"",name:"removeSavedParameters",required:!0,type:{name:"() => void"}},removeSavedIndex:{defaultValue:null,description:"",name:"removeSavedIndex",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/pages/Rule/create/CreateRule.tsx#CreateRule"]={docgenInfo:CreateRule.__docgenInfo,name:"CreateRule",path:"src/component-library/pages/Rule/create/CreateRule.tsx#CreateRule"})}catch(__react_docgen_typescript_loader_error){}var story_decorators=__webpack_require__("./test/mocks/handlers/story-decorators.tsx"),streaming_handlers=__webpack_require__("./test/mocks/handlers/streaming-handlers.ts"),table_fixtures=__webpack_require__("./test/fixtures/table-fixtures.ts"),modern_queryClient=__webpack_require__("./node_modules/@tanstack/query-core/build/modern/queryClient.js"),QueryClientProvider=__webpack_require__("./node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),single_handlers=__webpack_require__("./test/mocks/handlers/single-handlers.ts"),CreateRule_stories_jsx=react.createElement;const CreateRule_stories={title:"Components/Pages/Rule/Create",component:CreateRule,parameters:{docs:{disable:!0}}};var Template=function Template(args){var queryClient=new modern_queryClient.S;return CreateRule_stories_jsx(QueryClientProvider.aH,{client:queryClient},CreateRule_stories_jsx(ToastedTemplate.T,null,CreateRule_stories_jsx(CreateRule,args)))};Template.displayName="Template";var staticRses=[{account:"",bytes_limit:-1,bytes_remaining:-1,files:-1,has_quota:!1,rse:"OOPS",rse_id:"oops",status:"success",total_expected_usage:-1,used_bytes:-1},{account:"",bytes_limit:Math.pow(10,13),bytes_remaining:Math.pow(10,13),files:-1,has_quota:!0,rse:"RSE-FULL",rse_id:"rse-full",status:"success",total_expected_usage:0,used_bytes:0},{account:"",bytes_limit:1e3,bytes_remaining:-100,files:-1,has_quota:!1,rse:"RSE-LACKING",rse_id:"rse-lacking",status:"success",total_expected_usage:900,used_bytes:800}],Regular=Template.bind({});Regular.args={getSavedParameters:function getSavedParameters(){},getSavedIndex:function getSavedIndex(){},setSavedIndex:function setSavedIndex(){},setSavedParameters:function setSavedParameters(){},removeSavedParameters:function removeSavedParameters(){},removeSavedIndex:function removeSavedIndex(){}},Regular.decorators=[(0,story_decorators.r)([(0,streaming_handlers.si)("/api/feature/list-dids",{data:Array.from({length:200},table_fixtures.n1),delay:1}),(0,streaming_handlers.si)("/api/feature/list-account-rse-quotas",{data:staticRses,delay:1,method:"POST"}),(0,single_handlers.s)("/api/feature/create-rule",{getDelay:function getDelay(){return 500},method:"POST",getData:function getData(){return{rule_ids:["test"],status:"success"}}})])];var FromOptions=Template.bind({});FromOptions.args={getSavedParameters:function getSavedParameters(){},getSavedIndex:function getSavedIndex(){return 2},setSavedIndex:function setSavedIndex(){},setSavedParameters:function setSavedParameters(){},removeSavedParameters:function removeSavedParameters(){},removeSavedIndex:function removeSavedIndex(){}};var FromSummary=Template.bind({});FromSummary.args={getSavedParameters:function getSavedParameters(){return{askApproval:!1,asynchronous:!1,comments:"",copies:3,daysLifetime:void 0,dids:Array.from({length:3},table_fixtures.wM),grouping:void 0,sample:!1,needsApproval:!1,notify:!1,rseExpression:"",rses:[(0,table_fixtures.Pi)()],sampleFileCount:0}},getSavedIndex:function getSavedIndex(){return 3},setSavedIndex:function setSavedIndex(){},setSavedParameters:function setSavedParameters(){},removeSavedParameters:function removeSavedParameters(){},removeSavedIndex:function removeSavedIndex(){}},Regular.parameters={...Regular.parameters,docs:{...Regular.parameters?.docs,source:{originalSource:"args => {\n  const queryClient = new QueryClient();\n  return <QueryClientProvider client={queryClient}>\n            <ToastedTemplate>\n                <CreateRule {...args} />\n            </ToastedTemplate>\n        </QueryClientProvider>;\n}",...Regular.parameters?.docs?.source}}},FromOptions.parameters={...FromOptions.parameters,docs:{...FromOptions.parameters?.docs,source:{originalSource:"args => {\n  const queryClient = new QueryClient();\n  return <QueryClientProvider client={queryClient}>\n            <ToastedTemplate>\n                <CreateRule {...args} />\n            </ToastedTemplate>\n        </QueryClientProvider>;\n}",...FromOptions.parameters?.docs?.source}}},FromSummary.parameters={...FromSummary.parameters,docs:{...FromSummary.parameters?.docs,source:{originalSource:"args => {\n  const queryClient = new QueryClient();\n  return <QueryClientProvider client={queryClient}>\n            <ToastedTemplate>\n                <CreateRule {...args} />\n            </ToastedTemplate>\n        </QueryClientProvider>;\n}",...FromSummary.parameters?.docs?.source}}};const __namedExportsOrder=["Regular","FromOptions","FromSummary"]},"./src/component-library/atoms/misc/CircleWithText.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_component_library_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/component-library/utils.ts"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,CircleWithText=function CircleWithText(_ref){var text=_ref.text,className=_ref.className,onClick=_ref.onClick,classes=(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("flex items-center justify-center","w-12 h-12 rounded-full","text-neutral-100","border border-neutral-900 dark:border-neutral-100 border-opacity-10 dark:border-opacity-10",className,onClick?"cursor-pointer":"");return __jsx("div",{className:classes,onClick},__jsx("span",{className:"text-lg"},text))};CircleWithText.displayName="CircleWithText";const __WEBPACK_DEFAULT_EXPORT__=CircleWithText;try{CircleWithText.displayName="CircleWithText",CircleWithText.__docgenInfo={description:"",displayName:"CircleWithText",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/atoms/misc/CircleWithText.tsx#CircleWithText"]={docgenInfo:CircleWithText.__docgenInfo,name:"CircleWithText",path:"src/component-library/atoms/misc/CircleWithText.tsx#CircleWithText"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/features/fields/InfoField.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>InfoField});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_component_library_atoms_misc_Field__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/component-library/atoms/misc/Field.tsx"),_component_library_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/component-library/utils.ts"),react_icons_hi__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_excluded=["children","className"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,InfoField=function InfoField(_ref){var children=_ref.children,className=_ref.className,props=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded);return __jsx(_component_library_atoms_misc_Field__WEBPACK_IMPORTED_MODULE_1__.g,(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({className:(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("bg-neutral-100 dark:bg-neutral-800","items-center py-2 space-x-2","whitespace-normal",className)},props),__jsx(react_icons_hi__WEBPACK_IMPORTED_MODULE_5__.frK,{className:"h-6 w-6 flex-shrink-0"}),children)};InfoField.displayName="InfoField";try{InfoField.displayName="InfoField",InfoField.__docgenInfo={description:"",displayName:"InfoField",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/fields/InfoField.tsx#InfoField"]={docgenInfo:InfoField.__docgenInfo,name:"InfoField",path:"src/component-library/features/fields/InfoField.tsx#InfoField"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/features/fields/WarningField.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>WarningField});var _home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_component_library_atoms_misc_Field__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/component-library/atoms/misc/Field.tsx"),_component_library_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/component-library/utils.ts"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),react_icons_hi__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),_excluded=["children","className"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,WarningField=function WarningField(_ref){var children=_ref.children,className=_ref.className,props=(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded);return __jsx(_component_library_atoms_misc_Field__WEBPACK_IMPORTED_MODULE_1__.g,(0,_home_runner_work_webui_webui_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({className:(0,_component_library_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("bg-base-error-500 dark:bg-base-error-500 bg-opacity-60 dark:bg-opacity-60","items-center py-2 space-x-2","whitespace-normal",className)},props),__jsx(react_icons_hi__WEBPACK_IMPORTED_MODULE_5__.fd$,{className:"h-6 w-6 flex-shrink-0"}),children)};WarningField.displayName="WarningField";try{WarningField.displayName="WarningField",WarningField.__docgenInfo={description:"",displayName:"WarningField",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/fields/WarningField.tsx#WarningField"]={docgenInfo:WarningField.__docgenInfo,name:"WarningField",path:"src/component-library/features/fields/WarningField.tsx#WarningField"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/features/search/RSESearchPanel.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>RSESearchPanel});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),utils=__webpack_require__("./src/component-library/utils.ts"),_excluded=["className","href"],__jsx=react.createElement,HintLink=function HintLink(_ref){var className=_ref.className,href=_ref.href,props=(0,objectWithoutProperties.Z)(_ref,_excluded);return __jsx("a",(0,esm_extends.Z)({href,target:"_blank",rel:"noreferrer",className:(0,utils.cn)("text-neutral-500 dark:text-neutral-400 font-semibold hover:text-brand-500 hover:dark:text-brand-500",className)},props),"?")};HintLink.displayName="HintLink";try{HintLink.displayName="HintLink",HintLink.__docgenInfo={description:"",displayName:"HintLink",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},href:{defaultValue:null,description:"",name:"href",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/atoms/misc/HintLink.tsx#HintLink"]={docgenInfo:HintLink.__docgenInfo,name:"HintLink",path:"src/component-library/atoms/misc/HintLink.tsx#HintLink"})}catch(__react_docgen_typescript_loader_error){}var input=__webpack_require__("./src/component-library/atoms/form/input.tsx"),SearchButton=__webpack_require__("./src/component-library/features/search/SearchButton.tsx"),RSESearchPanel_jsx=react.createElement,RSESearchPanel=function RSESearchPanel(props){var _props$initialExpress,_props$initialExpress2,_useState=(0,react.useState)(null!==(_props$initialExpress=props.initialExpression)&&void 0!==_props$initialExpress?_props$initialExpress:"*"),expression=_useState[0],setExpression=_useState[1];(0,react.useEffect)((function(){props.gridApi&&props.autoSearch&&props.onSearch(null!=expression?expression:"*")}),[props.gridApi]);var onSearch=function onSearch(event){event.preventDefault(),props.onSearch(null!=expression?expression:"*")};return RSESearchPanel_jsx("div",{className:"space-y-2"},RSESearchPanel_jsx("div",{className:"text-neutral-900 dark:text-neutral-100"},"Expression",RSESearchPanel_jsx(HintLink,{href:"https://rucio.github.io/documentation/started/concepts/rse_expressions",className:"pl-2"})),RSESearchPanel_jsx("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2 items-center sm:items-start"},RSESearchPanel_jsx(input.I,{className:"w-full sm:flex-grow",onChange:function onInputChange(event){var value=event.target.value;setExpression(""!==value?value:"*")},onEnterKey:onSearch,placeholder:"*",defaultValue:null!==(_props$initialExpress2=props.initialExpression)&&void 0!==_props$initialExpress2?_props$initialExpress2:""}),RSESearchPanel_jsx(SearchButton.Q,{isRunning:props.isRunning,onStop:function onStop(event){event.preventDefault(),props.stopStreaming()},onSearch})))};RSESearchPanel.displayName="RSESearchPanel";try{RSESearchPanel.displayName="RSESearchPanel",RSESearchPanel.__docgenInfo={description:"",displayName:"RSESearchPanel",props:{onSearch:{defaultValue:null,description:"",name:"onSearch",required:!0,type:{name:"(expression: string) => void"}},stopStreaming:{defaultValue:null,description:"",name:"stopStreaming",required:!0,type:{name:"() => void"}},initialExpression:{defaultValue:null,description:"",name:"initialExpression",required:!1,type:{name:"string"}},isRunning:{defaultValue:null,description:"",name:"isRunning",required:!0,type:{name:"boolean"}},gridApi:{defaultValue:null,description:"",name:"gridApi",required:!1,type:{name:"GridApi<any>"}},autoSearch:{defaultValue:null,description:"",name:"autoSearch",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/search/RSESearchPanel.tsx#RSESearchPanel"]={docgenInfo:RSESearchPanel.__docgenInfo,name:"RSESearchPanel",path:"src/component-library/features/search/RSESearchPanel.tsx#RSESearchPanel"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/features/table/cells/CheckboxCell.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>CheckboxCell,z:()=>checkboxCellWrapperStyle});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_component_library_atoms_form_Checkbox__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/component-library/atoms/form/Checkbox.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,CheckboxCell=function CheckboxCell(props){return __jsx(_component_library_atoms_form_Checkbox__WEBPACK_IMPORTED_MODULE_1__.Z,{checked:props.value})};CheckboxCell.displayName="CheckboxCell";var checkboxCellWrapperStyle={display:"flex",justifyContent:"center",alignItems:"center"};try{CheckboxCell.displayName="CheckboxCell",CheckboxCell.__docgenInfo={description:"",displayName:"CheckboxCell",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/component-library/features/table/cells/CheckboxCell.tsx#CheckboxCell"]={docgenInfo:CheckboxCell.__docgenInfo,name:"CheckboxCell",path:"src/component-library/features/table/cells/CheckboxCell.tsx#CheckboxCell"})}catch(__react_docgen_typescript_loader_error){}},"./src/component-library/features/table/cells/badge-cell.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>badgeCellClasses,h:()=>badgeCellWrapperStyle});var badgeCellWrapperStyle={display:"flex"},badgeCellClasses="flex justify-center items-center grow m-2"}}]);